=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 4495 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 37832 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7329750137345171075 (index 1) to leader 1
flag 48788 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 99208 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 97594 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36792 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 69082 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 81311 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 17104 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48020 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 34564 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39931 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 65337 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65391 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
flag 32430 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 75599 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7329750137345171075 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3706744139686809732 (index 2) to leader 1
flag 27663 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68273 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7329750137345171075 1 1} {3706744139686809732 1 2}]
------------------------------------------------------
flag 59252 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 88960 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7329750137345171075 1 1} {3706744139686809732 1 2}]
------------------------------------------------------
client write log 7695083812833831601 (index 3) to leader 1
client write log 8882128149031482801 (index 4) to leader 1
client write log 6868227510700215580 (index 5) to leader 1
client write log 7190493600841950505 (index 6) to leader 1
client write log 2540932765307966143 (index 7) to leader 1
client write log 7280583071206608410 (index 8) to leader 1
client write log 5574853869542325626 (index 9) to leader 1
client write log 9121224069537573402 (index 10) to leader 1
client write log 2384314029803714208 (index 11) to leader 1
client write log 8800791563732987793 (index 12) to leader 1
client write log 276225909959310929 (index 13) to leader 1
client write log 2226354424045897350 (index 14) to leader 1
client write log 1906417521901759659 (index 15) to leader 1
client write log 9113401122976646342 (index 16) to leader 1
client write log 510586032837601981 (index 17) to leader 1
flag 47056 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 79282 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {7329750137345171075 1 1} {3706744139686809732 1 2} {7695083812833831601 1 3} {8882128149031482801 1 4} {6868227510700215580 1 5} {7190493600841950505 1 6} {2540932765307966143 1 7} {7280583071206608410 1 8} {5574853869542325626 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
flag 42869 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 2
client write log 853401428800892318 (index 18) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 21418 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 94709 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
flag 6226 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 11400 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 77197 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 87981 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8799 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 69400 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 24249 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 5269 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 18992 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 43471 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 71371 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 26730 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 49487 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 84718 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 9522 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 63321 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 25048 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 51039 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 73527 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59480 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 60551 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 12083 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 85516 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 51046 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 1086 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 6992 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 800 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 41706 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 92732 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 71903 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 30431 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 70417 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 86828 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 57217 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 61604 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
flag 44076 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 62175 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18}]
------------------------------------------------------
client write log 853401428800892318 (index 19) to leader 1
flag 9919 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 5563 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18} {853401428800892318 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {9121224069537573402 1 10} {2384314029803714208 1 11} {8800791563732987793 1 12} {276225909959310929 1 13} {2226354424045897350 1 14} {1906417521901759659 1 15} {9113401122976646342 1 16} {510586032837601981 1 17} {853401428800892318 1 18} {853401428800892318 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 80061 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 50247 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 26303 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 78082 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 28991 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 15245 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 26505 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 64711 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 3170 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 75018 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 96619 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 85134 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 66149 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 90271 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 38733 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 33166 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 12282 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 15368 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 40634 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 52009 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 20->19
------------------------------------------------------
client write log 4912467175971263192 (index 20) to leader 2
flag 48863 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 5407 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 82507 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {4912467175971263192 4 20}]
------------------------------------------------------
flag 26421 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 97525 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 39280 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {4912467175971263192 4 20}]
------------------------------------------------------
client write log 1862246740463159701 (index 21) to leader 2
client write log 8608603459079782286 (index 22) to leader 2
client write log 8531452752795447201 (index 23) to leader 2
client write log 294923007092298055 (index 24) to leader 2
client write log 5760008525737518159 (index 25) to leader 2
client write log 5097065139566873681 (index 26) to leader 2
client write log 727885353018976922 (index 27) to leader 2
client write log 7592252225963144315 (index 28) to leader 2
client write log 1901274776125335151 (index 29) to leader 2
client write log 3560838886567000757 (index 30) to leader 2
client write log 6888503473551106624 (index 31) to leader 2
client write log 2995655891753419685 (index 32) to leader 2
client write log 2847061507004345989 (index 33) to leader 2
flag 59872 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 50191 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 72649 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 19} {4912467175971263192 4 20} {1862246740463159701 4 21} {8608603459079782286 4 22} {8531452752795447201 4 23} {294923007092298055 4 24} {5760008525737518159 4 25} {5097065139566873681 4 26} {727885353018976922 4 27} {7592252225963144315 4 28} {1901274776125335151 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
flag 41285 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 13483 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6737958558234426132 (index 20) to leader 1
flag 98141 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 19
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52885 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 30->29
------------------------------------------------------
flag 59847 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 29
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 29 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 28348 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 15247 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 84651 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 7551 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 86941 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 25016 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 43399 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 76337 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26362 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 61026 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 39424 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 1238 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 10624 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 70887 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 49935 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 13932 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 39065 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 18157 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 87121 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 97411 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56785 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 43969 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80789 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 52159 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 83368 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 21784 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 81781 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 71797 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 9539 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 37914 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19657 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 4206 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 95267 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 78760 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
flag 64601 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 56251 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33}]
------------------------------------------------------
client write log 6737958558234426132 (index 34) to leader 2
flag 72140 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 82465 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
term 4 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81587 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 40953 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
flag 20529 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 80978 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98530 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 44873 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
flag 23220 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 33845 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
flag 7405 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 50282 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
flag 75719 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 94993 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5241927065133488161 (index 35) to leader 2
flag 17985 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 43054 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34} {5241927065133488161 4 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80535 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 74980 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34} {5241927065133488161 4 35}]
------------------------------------------------------
client write log 8790375967057401698 (index 36) to leader 2
client write log 856194626583149768 (index 37) to leader 2
client write log 5622024323199335078 (index 38) to leader 2
client write log 8259065400865387393 (index 39) to leader 2
client write log 6220985864414717842 (index 40) to leader 2
client write log 5902559448213272649 (index 41) to leader 2
client write log 5009908062410256813 (index 42) to leader 2
client write log 744328341931587787 (index 43) to leader 2
client write log 7175211586323833374 (index 44) to leader 2
client write log 6184697141160319618 (index 45) to leader 2
client write log 2636243303107159096 (index 46) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 36->35
------------------------------------------------------
flag 86639 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 35
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 35 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 52737 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 43472 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {3560838886567000757 4 30} {6888503473551106624 4 31} {2995655891753419685 4 32} {2847061507004345989 4 33} {6737958558234426132 4 34} {5241927065133488161 4 35} {8790375967057401698 4 36} {856194626583149768 4 37} {5622024323199335078 4 38} {8259065400865387393 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 90219 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1397628192034629292 (index 47) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 46
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 46 args.LastIncludedIndex 39
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 1
flag 84751 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 54803 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 48->47
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 38303 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
flag 38000 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 17644 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23506 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 63764 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70515 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 33175 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 13639 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 7952 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 53044 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 74928 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 57479 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 48825 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44767 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 93057 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 19167 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 21994 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 7518 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 85135 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58461 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 29497 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 78460 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 70128 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 1807 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 81192 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 24490 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 8497 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 73750 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 44750 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 11839 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 43668 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 11569 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 87465 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
flag 67432 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 83400 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47}]
------------------------------------------------------
client write log 1397628192034629292 (index 48) to leader 2
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84252 term 6 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 42356 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
flag 60303 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 55863 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69801 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 7877 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 26084 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 27046 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
flag 14362 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 58759 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
flag 7894 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 46372 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
flag 19079 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 83302 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5222057692854875134 (index 49) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15823 term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 99978 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {6220985864414717842 4 40} {5902559448213272649 4 41} {5009908062410256813 4 42} {744328341931587787 4 43} {7175211586323833374 4 44} {6184697141160319618 4 45} {2636243303107159096 4 46} {1397628192034629292 4 47} {1397628192034629292 6 48} {5222057692854875134 6 49}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 28911 term 6 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 6 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 5258542900557362697 (index 50) to leader 2
client write log 2879686852015908641 (index 51) to leader 2
client write log 3111674078404377520 (index 52) to leader 2
client write log 3912576555656798543 (index 53) to leader 2
client write log 4050004216766040477 (index 54) to leader 2
client write log 8979923125516731310 (index 55) to leader 2
client write log 4423986619494254426 (index 56) to leader 2
client write log 6090426008552312221 (index 57) to leader 2
term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 28535 term 6 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 6 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57}]
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 21730 term 6 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 6 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1658468986162687859 (index 58) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 23556 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 83610 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 59->58
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 98063 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 94319 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 32977 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 33564 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 54339 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 62848 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 56560 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 53687 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 79947 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 75357 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 38823 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81109 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 18280 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 83047 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 12085 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 80558 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 19667 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 82253 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 82848 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 12693 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 53975 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 58491 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 65079 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 23455 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 35930 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88979 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 14364 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 37539 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 75851 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 54900 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 80686 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 97587 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 66996 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
flag 25100 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 45690 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58}]
------------------------------------------------------
client write log 1658468986162687859 (index 59) to leader 2
flag 7462 term 8 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 16396 term 8 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58} {1658468986162687859 8 59}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {5258542900557362697 6 50} {2879686852015908641 6 51} {3111674078404377520 6 52} {3912576555656798543 6 53} {4050004216766040477 6 54} {8979923125516731310 6 55} {4423986619494254426 6 56} {6090426008552312221 6 57} {1658468986162687859 6 58} {1658468986162687859 8 59}]
------------------------------------------------------
term 8 Server2 start snapshot! index=59
term 8 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 81927 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 34349 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 Server0 start snapshot! index=59
term 8 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 8 Server1 start snapshot! index=59
term 8 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 91621 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 84904 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 46635 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 3179 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 79333 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 189 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98723 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 67307 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 29488 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 89666 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 21305 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 86096 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 52711 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 751 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 25178 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 62992 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 17886 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 60679 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
client write log 1250528638209654523 (index 60) to leader 0
flag 1083 term 9 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 41387 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {1250528638209654523 9 60}]
------------------------------------------------------
flag 50815 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 54000 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 11990 term 9 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 32432 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {1250528638209654523 9 60}]
------------------------------------------------------
flag 15301 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 29 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
client write log 4211813766105051175 (index 61) to leader 0
client write log 5912858163803847224 (index 62) to leader 0
client write log 7363642257484492968 (index 63) to leader 0
client write log 2178715046316909238 (index 64) to leader 0
client write log 3015640404493086455 (index 65) to leader 0
client write log 6901006709344926997 (index 66) to leader 0
client write log 254556318597397244 (index 67) to leader 0
client write log 2950512135117140209 (index 68) to leader 0
client write log 2048744151105061805 (index 69) to leader 0
client write log 5274705368221502631 (index 70) to leader 0
client write log 8260014557108015114 (index 71) to leader 0
flag 67084 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 10487 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 2788 term 9 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 73280 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 8 59} {1250528638209654523 9 60} {4211813766105051175 9 61} {5912858163803847224 9 62} {7363642257484492968 9 63} {2178715046316909238 9 64} {3015640404493086455 9 65} {6901006709344926997 9 66} {254556318597397244 9 67} {2950512135117140209 9 68} {2048744151105061805 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
flag 67918 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 96277 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 66065 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3481141269795195394 (index 60) to leader 2
flag 75318 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 42313 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 60226 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
term 9 server 2 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
flag 79157 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 81039 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:69 
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 59774 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 7746 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47614 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 6756 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 75402 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 89321 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 64596 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 13211 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16230 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 65910 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 69154 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 88171 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 26884 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 95790 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 22522 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 19500 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 93565 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 99548 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 99521 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 34447 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80119 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 49349 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
flag 40153 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 97569 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 64646 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 41705 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 67815 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 12853 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 47433 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 71580 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 70813 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 51971 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
flag 20578 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 45350 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68579 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 35115 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3481141269795195394 (index 72) to leader 0
flag 55997 term 9 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 95166 term 9 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 9 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 34603 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 33868 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 70420 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 91594 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 34302 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 48058 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 62295 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 65483 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 81729 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 36138 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
flag 6772 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 468 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1158734314677401972 (index 73) to leader 0
flag 49128 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 6601 term 9 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72} {1158734314677401972 9 73}]
------------------------------------------------------
flag 75990 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 27334 term 9 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 9 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72} {1158734314677401972 9 73}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 74->73
------------------------------------------------------
client write log 7158126541185969406 (index 74) to leader 0
client write log 5743396618151911064 (index 75) to leader 0
client write log 7828687936045240415 (index 76) to leader 0
client write log 5593505197250836268 (index 77) to leader 0
client write log 5902282594429211889 (index 78) to leader 0
client write log 4851311714092296556 (index 79) to leader 0
client write log 9557024279545825 (index 80) to leader 0
client write log 2029525065871185638 (index 81) to leader 0
client write log 8846527277098520439 (index 82) to leader 0
client write log 738518499741595314 (index 83) to leader 0
client write log 9084862241326597804 (index 84) to leader 0
client write log 7402149432009935430 (index 85) to leader 0
client write log 1774183302840106390 (index 86) to leader 0
client write log 5100841278847576678 (index 87) to leader 0
client write log 4932082132908872436 (index 88) to leader 0
flag 73823 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 73
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 73 args.LastIncludedIndex 69
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22977 term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
flag 32221 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 69} {5274705368221502631 9 70} {8260014557108015114 9 71} {3481141269795195394 9 72} {1158734314677401972 9 73} {7158126541185969406 9 74} {5743396618151911064 9 75} {7828687936045240415 9 76} {5593505197250836268 9 77} {5902282594429211889 9 78} {4851311714092296556 9 79} {9557024279545825 9 80} {2029525065871185638 9 81} {8846527277098520439 9 82} {738518499741595314 9 83} {9084862241326597804 9 84} {7402149432009935430 9 85} {1774183302840106390 9 86} {5100841278847576678 9 87} {4932082132908872436 9 88}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=88
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 56268 term 9 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 9 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 79} {9557024279545825 9 80} {2029525065871185638 9 81} {8846527277098520439 9 82} {738518499741595314 9 83} {9084862241326597804 9 84} {7402149432009935430 9 85} {1774183302840106390 9 86} {5100841278847576678 9 87} {4932082132908872436 9 88}]
------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=88
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1886604632264329172 (index 89) to leader 0
term 9 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 67391 term 9 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 9 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 88 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=89
leader log:
[{snapshot 9 79} {9557024279545825 9 80} {2029525065871185638 9 81} {8846527277098520439 9 82} {738518499741595314 9 83} {9084862241326597804 9 84} {7402149432009935430 9 85} {1774183302840106390 9 86} {5100841278847576678 9 87} {4932082132908872436 9 88} {1886604632264329172 9 89}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 Server0 start snapshot! index=89
term 10 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 58413 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 16073 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 90->89
------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 9
------------------------------------------------------
flag 61784 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 9 rf.commitIndex 89 rf.lastApplied 89
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 48150 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 44199 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
flag 57119 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 90344 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
flag 71248 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 56885 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 9 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12835 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 39432 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 89}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3217140973407229216 (index 90) to leader 0
flag 58683 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
flag 51337 term 11 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3217140973407229216 11 90}]
------------------------------------------------------
flag 56447 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 90 
------------------------------------------------------
flag 68965 term 11 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 11 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 9 89} {3217140973407229216 11 90}]
------------------------------------------------------
client write log 8440945629593167401 (index 91) to leader 0
client write log 9013758123328733257 (index 92) to leader 0
client write log 4850640800249361121 (index 93) to leader 0
client write log 2671823504269135563 (index 94) to leader 0
client write log 5537990483558621446 (index 95) to leader 0
client write log 1733471728903231426 (index 96) to leader 0
client write log 5609430131393324811 (index 97) to leader 0
client write log 349650547128681896 (index 98) to leader 0
client write log 7371179574670108902 (index 99) to leader 0
client write log 2975697047534979896 (index 100) to leader 0
client write log 345249061097501486 (index 101) to leader 0
client write log 8336599754388633290 (index 102) to leader 0
client write log 5084939388068941844 (index 103) to leader 0
client write log 4292794059801198340 (index 104) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85610 term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 9 leaderCommit: 90 
------------------------------------------------------
flag 67170 term 11 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 11 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 9 89} {3217140973407229216 11 90} {8440945629593167401 11 91} {9013758123328733257 11 92} {4850640800249361121 11 93} {2671823504269135563 11 94} {5537990483558621446 11 95} {1733471728903231426 11 96} {5609430131393324811 11 97} {349650547128681896 11 98} {7371179574670108902 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104}]
------------------------------------------------------
term 11 Server0 start snapshot! index=99
term 11 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 67647 term 11 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 11 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 11 leaderCommit: 104 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104}]
------------------------------------------------------
term 11 Server2 start snapshot! index=99
term 11 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=104
-------------------------------------------------------------
!!!!!!connect server 1
client write log 233591505529659647 (index 105) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 42882 term 11 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 11 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 11 leaderCommit: 104 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 1
term 13 server 0 become leader
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 0 get outdate rpc reply from server 2
flag 66151 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 43899 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 90  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 75793 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 11 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64183 term 13 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 13 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 49659 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76034 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 97168 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
flag 15268 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 50822 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
flag 50348 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 33178 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69087 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 61832 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 50760 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 43321 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
flag 76159 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 22520 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89040 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 50618 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99388 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 11957 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96501 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 71583 term 13 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 106->105
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
client write log 5633017552273654016 (index 106) to leader 1
flag 79972 term 14 leader 1 nextIndex[0]: 106  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
flag 11412 term 14 leader 1 nextIndex[2]: 106  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105} {5633017552273654016 14 106}]
------------------------------------------------------
flag 60262 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 106->105
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 1719 term 14 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105} {5633017552273654016 14 106}]
------------------------------------------------------
client write log 4251031882846457646 (index 107) to leader 1
client write log 9020219105647092942 (index 108) to leader 1
flag 86178 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
client write log 7656660165485741709 (index 109) to leader 1
client write log 1591049248025169613 (index 110) to leader 1
client write log 1928251736062105316 (index 111) to leader 1
client write log 9122458583364016263 (index 112) to leader 1
client write log 1218053194257806789 (index 113) to leader 1
client write log 1202022132224826219 (index 114) to leader 1
client write log 8210052739049466974 (index 115) to leader 1
client write log 6158127917201923061 (index 116) to leader 1
client write log 7333984524982268213 (index 117) to leader 1
client write log 1075715244540661095 (index 118) to leader 1
client write log 396270592892027846 (index 119) to leader 1
client write log 4847606735524280766 (index 120) to leader 1
client write log 6206652678816222599 (index 121) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 42575 term 14 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 11 99} {2975697047534979896 11 100} {345249061097501486 11 101} {8336599754388633290 11 102} {5084939388068941844 11 103} {4292794059801198340 11 104} {233591505529659647 11 105} {5633017552273654016 14 106} {4251031882846457646 14 107} {9020219105647092942 14 108} {7656660165485741709 14 109} {1591049248025169613 14 110} {1928251736062105316 14 111} {9122458583364016263 14 112} {1218053194257806789 14 113} {1202022132224826219 14 114} {8210052739049466974 14 115} {6158127917201923061 14 116} {7333984524982268213 14 117} {1075715244540661095 14 118} {396270592892027846 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121}]
------------------------------------------------------
term 14 Server1 start snapshot! index=109
term 14 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=121
-------------------------------------------------------------
term 14 Server1 start snapshot! index=119
term 14 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=121
-------------------------------------------------------------
flag 9383 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 14
------------------------------------------------------
flag 59373 term 14 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 14 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=121
-------------------------------------------------------------
term 14 Server2 start snapshot! index=119
term 14 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=121
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64045 term 13 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 13 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 11 leaderCommit: 105 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
!!!!!!connect server 0
client write log 1586859968264444027 (index 122) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 14
------------------------------------------------------
flag 54301 term 14 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 14 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 14 rf.commitIndex 119 rf.lastApplied 119
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 48395 term 14 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 14 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 22057 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
flag 77986 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 25694 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
flag 41436 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 74988 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71208 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 75260 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68280 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 9292 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36355 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 36907 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3620 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 17228 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5634348153623662094 (index 123) to leader 1
term 14 server 0 not vote for server 1, 日志不够新
term 14 server 1 get outdate rpc reply from server 0
flag 75904 term 14 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
flag 71138 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 122 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122} {5634348153623662094 14 123}]
------------------------------------------------------
flag 39747 term 14 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 14 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 14 leaderCommit: 123 
------------------------------------------------------
flag 52869 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 123 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122} {5634348153623662094 14 123}]
------------------------------------------------------
client write log 6402120895652036334 (index 124) to leader 1
client write log 7892053603842698348 (index 125) to leader 1
client write log 6962099879019120085 (index 126) to leader 1
client write log 7528576655334556143 (index 127) to leader 1
client write log 7271266359900065637 (index 128) to leader 1
client write log 3378670590946593771 (index 129) to leader 1
client write log 8828223693222226235 (index 130) to leader 1
client write log 709272125418170152 (index 131) to leader 1
client write log 7419709233702154720 (index 132) to leader 1
client write log 761826110176634318 (index 133) to leader 1
client write log 1850990995305963532 (index 134) to leader 1
client write log 7132338190623003107 (index 135) to leader 1
client write log 6646010536636274613 (index 136) to leader 1
client write log 3426166038628448523 (index 137) to leader 1
client write log 426579112693873150 (index 138) to leader 1
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
flag 41849 term 14 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 14 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 14 leaderCommit: 123 
------------------------------------------------------
flag 8052 term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 123 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 14 119} {4847606735524280766 14 120} {6206652678816222599 14 121} {1586859968264444027 14 122} {5634348153623662094 14 123} {6402120895652036334 14 124} {7892053603842698348 14 125} {6962099879019120085 14 126} {7528576655334556143 14 127} {7271266359900065637 14 128} {3378670590946593771 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138}]
------------------------------------------------------
term 14 Server1 start snapshot! index=129
term 14 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=138
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20128 term 14 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 14 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 123  matchIndex[2]: 122
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138}]
------------------------------------------------------
term 14 Server0 start snapshot! index=129
term 14 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=138
-------------------------------------------------------------
!!!!!!connect server 2
client write log 562975707417869683 (index 139) to leader 1
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 56286 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 90556 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
flag 50256 term 16 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 123  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 14 rf.commitIndex 129 rf.lastApplied 129
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 7836 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 69810 term 16 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 16 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 31854 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 12952 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 79778 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 55439 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 81851 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 75654 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49989 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 1399 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 55111 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 30613 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92903 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 19172 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 24537 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 12721 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19571 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 1532 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 93324 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 33671 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97017 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 90170 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26815 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 90745 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 58783 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 33367 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 99175 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 20363 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 20876 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 71211 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 28044 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 18577 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 97551 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 61584 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
flag 27545 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 1821 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139}]
------------------------------------------------------
client write log 562975707417869683 (index 140) to leader 1
flag 19464 term 16 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
flag 65167 term 16 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 16 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 14 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 129} {8828223693222226235 14 130} {709272125418170152 14 131} {7419709233702154720 14 132} {761826110176634318 14 133} {1850990995305963532 14 134} {7132338190623003107 14 135} {6646010536636274613 14 136} {3426166038628448523 14 137} {426579112693873150 14 138} {562975707417869683 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 Server1 start snapshot! index=139
term 16 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98865 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 30939 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 Server2 start snapshot! index=139
term 16 Server0 start snapshot! index=139
term 16 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 16 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 82338 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 90471 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 49720 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 15286 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
flag 8409 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 64080 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
flag 54065 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 4052 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140}]
------------------------------------------------------
flag 32510 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 25269 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7802414696530781029 (index 141) to leader 1
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141}]
------------------------------------------------------
flag 35455 term 16 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
flag 41533 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 140 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141}]
------------------------------------------------------
flag 83706 term 16 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 16 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 16 leaderCommit: 141 
------------------------------------------------------
flag 51412 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 141 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7804363167141947281 (index 142) to leader 1
client write log 4815815198992449709 (index 143) to leader 1
client write log 500445600523831144 (index 144) to leader 1
client write log 4071210782751118177 (index 145) to leader 1
client write log 8406332837362724897 (index 146) to leader 1
client write log 3631218931498757231 (index 147) to leader 1
client write log 5421251939653305104 (index 148) to leader 1
flag 46330 term 16 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 16 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 16 leaderCommit: 141 
------------------------------------------------------
flag 1843 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 141 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5785 term 16 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 16 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 61544 term 16 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 16 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5007605550316065920 (index 149) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
flag 7613 term 16 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 16 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 140
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 58406 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 32305 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 150->149
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84245 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 40358 term 18 leader 1 nextIndex[2]: 141  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 98312 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 74527 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68160 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 90866 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 70271 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 23395 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2094 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 25813 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 20798 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 97920 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58789 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 48589 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 9842 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 19549 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 70198 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 19084 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 17996 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 80503 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 18322 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 34077 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22212 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 52938 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 97311 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 58168 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91027 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 53264 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 52291 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 83751 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 48953 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 45123 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69311 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 47968 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
flag 86633 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 77094 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=148
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149}]
------------------------------------------------------
client write log 5007605550316065920 (index 150) to leader 1
flag 29079 term 18 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
flag 40279 term 18 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 18 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 16 leaderCommit: 148 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 14 139} {562975707417869683 16 140} {7802414696530781029 16 141} {7804363167141947281 16 142} {4815815198992449709 16 143} {500445600523831144 16 144} {4071210782751118177 16 145} {8406332837362724897 16 146} {3631218931498757231 16 147} {5421251939653305104 16 148} {5007605550316065920 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 Server1 start snapshot! index=149
term 18 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
flag 59530 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 23838 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 Server2 start snapshot! index=149
term 18 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 18 Server0 start snapshot! index=149
term 18 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
flag 58855 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 97973 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
flag 45350 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 39279 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
flag 28209 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 94461 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
flag 30912 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 70993 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
flag 483 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 13461 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 1241 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 51443 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 87611 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 62015 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 42374 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 49783 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 4615 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 84083 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
flag 13009 term 19 leader 2 nextIndex[0]: 151  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 61356 term 19 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 16 149} {5007605550316065920 18 150}]
------------------------------------------------------
client write log 5385037226530126021 (index 151) to leader 2
flag 3216 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 39503 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 6429 term 19 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 18316 term 19 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 16 149} {5007605550316065920 18 150} {5385037226530126021 19 151}]
------------------------------------------------------
flag 53228 term 18 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 57186 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 80177 term 19 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 19 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 19 leaderCommit: 151 
------------------------------------------------------
flag 45775 term 19 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 151 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 16 149} {5007605550316065920 18 150} {5385037226530126021 19 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 151->150
------------------------------------------------------
client write log 4447960401621232982 (index 152) to leader 2
client write log 7462049327372081750 (index 153) to leader 2
client write log 6970003624177423310 (index 154) to leader 2
client write log 8002568261136917370 (index 155) to leader 2
client write log 1785465398020063740 (index 156) to leader 2
client write log 2860043984267492062 (index 157) to leader 2
client write log 6240713496361660863 (index 158) to leader 2
client write log 5687757157198424012 (index 159) to leader 2
client write log 2044137809278398830 (index 160) to leader 2
client write log 1437259764134301015 (index 161) to leader 2
client write log 7604488584042263294 (index 162) to leader 2
client write log 4051233310079377078 (index 163) to leader 2
client write log 1410997408895469024 (index 164) to leader 2
client write log 6909552317954255382 (index 165) to leader 2
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 150
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 16
------------------------------------------------------
flag 90922 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
flag 24390 term 19 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 19 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 19 leaderCommit: 151 
------------------------------------------------------
flag 3713 term 19 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 151 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 16 149} {5007605550316065920 18 150} {5385037226530126021 19 151} {4447960401621232982 19 152} {7462049327372081750 19 153} {6970003624177423310 19 154} {8002568261136917370 19 155} {1785465398020063740 19 156} {2860043984267492062 19 157} {6240713496361660863 19 158} {5687757157198424012 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 Server2 start snapshot! index=159
term 19 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 151->150
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 150
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 16
------------------------------------------------------
flag 95143 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 31089 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 Server0 start snapshot! index=159
term 19 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1118355025413960023 (index 151) to leader 1
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 150
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 16
------------------------------------------------------
flag 27193 term 18 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 18 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 18 leaderCommit: 150 
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41100 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 19 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 67437 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 81764 term 19 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 19 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61117 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 55155 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 37431 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 98851 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 80905 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 56501 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 44000 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 71679 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
flag 16900 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 165
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 165 args.LastIncludedIndex 159
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 73057 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 97221 term 19 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 19 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 35934 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 87725 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 83209 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 80609 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 79088 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 41132 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16736 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 18802 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74712 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 19627 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 34804 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 81125 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 60978 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 66592 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60321 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 9527 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9012 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 92052 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 60537 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 99947 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
flag 45916 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 29549 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165}]
------------------------------------------------------
client write log 1118355025413960023 (index 166) to leader 2
flag 77805 term 19 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
flag 55450 term 19 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 19 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 19 leaderCommit: 165 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
flag 59746 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 58581 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
flag 75080 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 32659 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
flag 5509 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 80340 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
update nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
flag 89891 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 72483 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26490 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 92128 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
flag 51551 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 43109 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1691285036489217754 (index 167) to leader 2
flag 54247 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
flag 76644 term 19 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 166 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166} {1691285036489217754 19 167}]
------------------------------------------------------
flag 11012 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 167 
------------------------------------------------------
flag 72033 term 19 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 19 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 19 leaderCommit: 167 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166} {1691285036489217754 19 167}]
------------------------------------------------------
client write log 8870973948553713262 (index 168) to leader 2
client write log 8292058096681008923 (index 169) to leader 2
client write log 4467426528254507926 (index 170) to leader 2
client write log 375379677797098284 (index 171) to leader 2
client write log 7752027587046795174 (index 172) to leader 2
client write log 556560734747884828 (index 173) to leader 2
client write log 6834254583359427095 (index 174) to leader 2
client write log 4360800413134271409 (index 175) to leader 2
client write log 145715021169481170 (index 176) to leader 2
client write log 1489729797188975047 (index 177) to leader 2
client write log 1296005208376806981 (index 178) to leader 2
flag 85180 term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 19 leaderCommit: 167 
------------------------------------------------------
flag 59297 term 19 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 19 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 19 leaderCommit: 167 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 19 159} {2044137809278398830 19 160} {1437259764134301015 19 161} {7604488584042263294 19 162} {4051233310079377078 19 163} {1410997408895469024 19 164} {6909552317954255382 19 165} {1118355025413960023 19 166} {1691285036489217754 19 167} {8870973948553713262 19 168} {8292058096681008923 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178}]
------------------------------------------------------
term 19 Server2 start snapshot! index=169
term 19 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 167  matchIndex[0]: 166
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 19
------------------------------------------------------
flag 41395 term 19 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 19 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178}]
------------------------------------------------------
term 19 Server1 start snapshot! index=169
term 19 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=178
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5573021118051383586 (index 179) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get outdate rpc reply from server 1
flag 99619 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 75688 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 167  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 19
------------------------------------------------------
flag 56537 term 21 leader 2 nextIndex[1]: 179  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 19 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 8589 term 21 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 21 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 9752 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 45022 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 22586 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19125 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 33755 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6224 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 91179 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 68222 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 28294 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 91091 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 72349 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 95961 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 36281 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 25940 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 98591 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 27571 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 17014 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30985 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 94083 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 15384 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 36417 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66685 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 38233 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74288 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 54749 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25105 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 15745 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40696 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 68393 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 10998 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 40549 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
flag 10916 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 24583 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179}]
------------------------------------------------------
client write log 5573021118051383586 (index 180) to leader 2
flag 4590 term 21 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
flag 28430 term 21 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 21 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 19 leaderCommit: 178 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 169} {4467426528254507926 19 170} {375379677797098284 19 171} {7752027587046795174 19 172} {556560734747884828 19 173} {6834254583359427095 19 174} {4360800413134271409 19 175} {145715021169481170 19 176} {1489729797188975047 19 177} {1296005208376806981 19 178} {5573021118051383586 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
term 21 Server2 start snapshot! index=179
term 21 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2369 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 91659 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
term 21 Server0 start snapshot! index=179
term 21 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 21 Server1 start snapshot! index=179
term 21 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 59269 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 7250 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
flag 60330 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 90336 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
flag 31102 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 2888 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
flag 3243 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 25979 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
flag 33929 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 44569 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 19 179} {5573021118051383586 21 180}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4247410980221421249 (index 181) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71790 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
flag 73336 term 21 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 180 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 19 179} {5573021118051383586 21 180} {4247410980221421249 21 181}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 56337 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 181 
------------------------------------------------------
flag 32584 term 21 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 21 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 21 leaderCommit: 181 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 19 179} {5573021118051383586 21 180} {4247410980221421249 21 181}]
------------------------------------------------------
client write log 6917035135535775776 (index 182) to leader 2
client write log 3498615655743988272 (index 183) to leader 2
client write log 5713377291763042690 (index 184) to leader 2
client write log 518049250914490050 (index 185) to leader 2
client write log 7866106424034877119 (index 186) to leader 2
client write log 3804703384334165442 (index 187) to leader 2
client write log 4015464700811149580 (index 188) to leader 2
client write log 8280813614044746148 (index 189) to leader 2
flag 94573 term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 21 leaderCommit: 181 
------------------------------------------------------
flag 18760 term 21 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 21 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 21 leaderCommit: 181 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 19 179} {5573021118051383586 21 180} {4247410980221421249 21 181} {6917035135535775776 21 182} {3498615655743988272 21 183} {5713377291763042690 21 184} {518049250914490050 21 185} {7866106424034877119 21 186} {3804703384334165442 21 187} {4015464700811149580 21 188} {8280813614044746148 21 189}]
------------------------------------------------------
term 21 Server2 start snapshot! index=189
term 21 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 41291 term 21 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 21 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 21 189}]
------------------------------------------------------
term 21 Server1 start snapshot! index=189
term 21 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5697746476443161596 (index 190) to leader 2
term 21 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 35199 term 21 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 21 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 22 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 0
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 1
flag 79222 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 5406 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 181  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 78700 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 21 rf.commitIndex 189 rf.lastApplied 189
flag 79080 term 23 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 23 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 40467 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88817 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 3656 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
flag 28400 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 19260 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 23200 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 89371 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 11533 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 87796 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 42868 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 85891 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65239 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 24234 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38648 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 91795 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 54742 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 75191 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 34488 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 92734 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 21677 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 95566 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53976 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 21019 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73700 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 69704 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 61853 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 38155 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 59036 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 38564 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
flag 50707 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 92345 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53014 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 79777 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 21 189} {5697746476443161596 21 190}]
------------------------------------------------------
client write log 5697746476443161596 (index 191) to leader 2
flag 11172 term 23 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
flag 43833 term 23 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 23 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 21 leaderCommit: 189 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 96461 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 79935 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 66080 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 71439 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 55612 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 29216 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 98491 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 10863 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 78489 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 34006 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
flag 82032 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 66565 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
term 23 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 39664 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 89885 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 98481 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 6069 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 78725 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 89044 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 79704 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 92539 term 23 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 192->191
------------------------------------------------------
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 0
term 24 server 1 become leader
------------------------------------------------------
flag 74996 term 24 leader 1 nextIndex[0]: 192  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 42768 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191}]
------------------------------------------------------
client write log 4964727621775138511 (index 192) to leader 1
flag 71209 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 13504 term 24 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
flag 70152 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192}]
------------------------------------------------------
flag 96124 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 61393 term 24 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 24 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 24 leaderCommit: 192 
------------------------------------------------------
flag 69178 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 192 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192}]
------------------------------------------------------
client write log 3433797607235805524 (index 193) to leader 1
flag 62941 term 23 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 23 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 191 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 66216 term 24 leader 1 nextIndex[0]: 193  matchIndex[0]: 192
term 24 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 24 leaderCommit: 192 
------------------------------------------------------
flag 89016 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 192 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
flag 67268 term 24 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 24 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 24 leaderCommit: 193 
------------------------------------------------------
flag 49240 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 193 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=193
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5456174048090416792 (index 194) to leader 1
term 23 leader 2 nextIndex[0]: 0  matchIndex[0]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40574 term 24 leader 1 nextIndex[0]: 194  matchIndex[0]: 193
term 24 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 24 leaderCommit: 193 
------------------------------------------------------
flag 66784 term 24 leader 1 nextIndex[2]: 192  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 23 leaderCommit: 193 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 1 get outdate rpc reply from server 2
flag 76628 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 14803 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
flag 99343 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 72350 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
flag 46693 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 56155 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22211 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 98 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24893 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 30134 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
flag 62484 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 62523 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1728015413559114465 (index 195) to leader 1
flag 13789 term 24 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
flag 82566 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 194 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194} {1728015413559114465 24 195}]
------------------------------------------------------
flag 44360 term 24 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 24 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 24 leaderCommit: 195 
------------------------------------------------------
flag 82352 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 195 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194} {1728015413559114465 24 195}]
------------------------------------------------------
client write log 1451349328880550879 (index 196) to leader 1
client write log 1396425850451308947 (index 197) to leader 1
client write log 3990243193758275675 (index 198) to leader 1
client write log 6661966408214202746 (index 199) to leader 1
client write log 3749402485814438224 (index 200) to leader 1
client write log 7104819507580005967 (index 201) to leader 1
client write log 2458142150109228875 (index 202) to leader 1
client write log 8632002782681928923 (index 203) to leader 1
client write log 8692372985771085449 (index 204) to leader 1
client write log 6162780586746572311 (index 205) to leader 1
client write log 6450008119151121156 (index 206) to leader 1
client write log 1786918982240537860 (index 207) to leader 1
client write log 2385251139035609721 (index 208) to leader 1
client write log 7057973659949354105 (index 209) to leader 1
client write log 7234252393061147676 (index 210) to leader 1
flag 34459 term 24 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 24 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 24 leaderCommit: 195 
------------------------------------------------------
flag 66203 term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 24 leaderCommit: 195 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 21 189} {5697746476443161596 21 190} {5697746476443161596 23 191} {4964727621775138511 24 192} {3433797607235805524 24 193} {5456174048090416792 24 194} {1728015413559114465 24 195} {1451349328880550879 24 196} {1396425850451308947 24 197} {3990243193758275675 24 198} {6661966408214202746 24 199} {3749402485814438224 24 200} {7104819507580005967 24 201} {2458142150109228875 24 202} {8632002782681928923 24 203} {8692372985771085449 24 204} {6162780586746572311 24 205} {6450008119151121156 24 206} {1786918982240537860 24 207} {2385251139035609721 24 208} {7057973659949354105 24 209} {7234252393061147676 24 210}]
------------------------------------------------------
term 24 Server1 start snapshot! index=199
term 24 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=210
-------------------------------------------------------------
term 24 Server1 start snapshot! index=209
term 24 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
flag 41373 term 24 leader 1 nextIndex[0]: 211  matchIndex[0]: 210
term 24 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 195  matchIndex[2]: 194
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210}]
------------------------------------------------------
term 24 Server0 start snapshot! index=199
term 24 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=210
-------------------------------------------------------------
term 24 Server0 start snapshot! index=209
term 24 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4385715509678103134 (index 211) to leader 1
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 50036 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 14898 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 212->211
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13527 term 26 leader 1 nextIndex[0]: 211  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 195  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 24 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52518 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 31695 term 26 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 26 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35855 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 24957 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71172 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 5286 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 62157 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 37794 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 26459 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 58105 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15773 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 29977 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
update nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 77775 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 12198 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53834 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 8157 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 58308 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 94178 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 79515 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 35691 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 98195 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 9686 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 99274 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 44657 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 55525 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 66920 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51495 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 80289 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93039 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 42114 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89246 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 88148 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
flag 48748 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 38577 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=210
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4385715509678103134 (index 212) to leader 1
flag 76976 term 26 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
flag 4531 term 26 leader 1 nextIndex[2]: 212  matchIndex[2]: 211
term 26 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 24 leaderCommit: 210 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 72604 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 67058 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 86488 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 29052 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 41084 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 38507 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 89487 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 92167 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 32617 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 54518 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
flag 79665 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 54325 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8821221743410178946 (index 213) to leader 1
flag 50544 term 26 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
flag 43098 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 212 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212} {8821221743410178946 26 213}]
------------------------------------------------------
flag 60741 term 26 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 26 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 10827 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212} {8821221743410178946 26 213}]
------------------------------------------------------
client write log 5450737945508968281 (index 214) to leader 1
client write log 8719440581954972491 (index 215) to leader 1
client write log 2668596976720170916 (index 216) to leader 1
client write log 5599911195278960638 (index 217) to leader 1
client write log 233698305128701539 (index 218) to leader 1
client write log 5366102825023612691 (index 219) to leader 1
flag 46280 term 26 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 26 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 8980 term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 24 209} {7234252393061147676 24 210} {4385715509678103134 24 211} {4385715509678103134 26 212} {8821221743410178946 26 213} {5450737945508968281 26 214} {8719440581954972491 26 215} {2668596976720170916 26 216} {5599911195278960638 26 217} {233698305128701539 26 218} {5366102825023612691 26 219}]
------------------------------------------------------
term 26 Server1 start snapshot! index=219
term 26 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26061 term 26 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 26 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 26 219}]
------------------------------------------------------
term 26 Server0 start snapshot! index=219
term 26 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4806615444052353935 (index 220) to leader 1
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86416 term 26 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 26 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 77472 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 24050 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 221->220
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57463 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 213  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 26 rf.commitIndex 219 rf.lastApplied 219
flag 53800 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 4785 term 28 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 28 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 12666 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 99807 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 59383 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 47878 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 69705 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 64603 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 24051 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 79139 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 82176 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 88806 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 11047 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 68669 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 23888 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 94385 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 15606 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 87921 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48100 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 89418 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 27891 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 47208 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 25490 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 4308 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36140 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 19755 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71422 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 93875 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 48478 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 69779 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
flag 80642 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 43913 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64272 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 36549 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 26 219} {4806615444052353935 26 220}]
------------------------------------------------------
client write log 4806615444052353935 (index 221) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68648 term 28 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
flag 35419 term 28 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 28 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 26 leaderCommit: 219 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
flag 63269 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 54871 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
flag 59736 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 362 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
flag 42398 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 44479 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
flag 11244 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 83291 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
flag 21119 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 26137 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42414 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 84310 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 84936 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 63349 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 96510 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 3473 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 66207 term 28 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 998 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 222->221
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 221
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 25923 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
client write log 6071656348329297964 (index 222) to leader 0
flag 57306 term 29 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 16269 term 29 leader 0 nextIndex[2]: 222  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 221
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 4910 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 24832 term 29 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 222 
------------------------------------------------------
flag 57371 term 29 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 29 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 29 leaderCommit: 222 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222}]
------------------------------------------------------
client write log 8437467478556733569 (index 223) to leader 0
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 221
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 95897 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 22867 term 29 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 222 
------------------------------------------------------
flag 75723 term 29 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 29 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 29 leaderCommit: 222 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 221
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 13881 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
flag 53540 term 29 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 223 
------------------------------------------------------
flag 34123 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1086810770069821529 (index 222) to leader 1
term 28 leader 1 nextIndex[0]: 0  matchIndex[0]: 221
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 24903 term 28 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 28 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 221 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43124 term 29 leader 0 nextIndex[1]: 222  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 28 leaderCommit: 223 
------------------------------------------------------
flag 70527 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88691 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 53133 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 74777 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 52940 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 77030 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 85837 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 57645 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 11312 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 77202 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 70017 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18544 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 92111 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 98542 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 70164 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 31145 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 30571 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 224->223
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 223
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 56747 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
term 29 server 1 InstallSnapshot fail
rf.commitIndex 223 args.LastIncludedIndex 219
------------------------------------------------------
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 69262 term 29 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 29 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 26 leaderCommit: 223 
------------------------------------------------------
flag 21246 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 96094 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 61996 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 41772 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 27939 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 79012 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 41451 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 55488 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 35379 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 23020 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 94880 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96151 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 97072 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43719 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 97873 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 82124 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 24325 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
flag 95655 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 38327 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1086810770069821529 (index 224) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7364 term 29 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
flag 28621 term 29 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 29 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 29 leaderCommit: 223 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 225->224
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 224
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 26
------------------------------------------------------
flag 64398 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 223 args.LastIncludedIndex 219
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
flag 50730 term 29 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 29 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 26 leaderCommit: 224 
------------------------------------------------------
flag 38990 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
flag 54352 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
flag 20299 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
update nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
flag 74166 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
flag 96777 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
flag 87890 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
flag 28681 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
flag 32370 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
flag 39175 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4624822277305914868 (index 225) to leader 0
flag 39115 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
flag 16782 term 29 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 224 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224} {4624822277305914868 29 225}]
------------------------------------------------------
flag 99241 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
flag 87084 term 29 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 29 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224} {4624822277305914868 29 225}]
------------------------------------------------------
client write log 6381954242794162518 (index 226) to leader 0
client write log 4504227364549792946 (index 227) to leader 0
client write log 6744433907523923514 (index 228) to leader 0
client write log 3522861140676953501 (index 229) to leader 0
client write log 8716652662047515781 (index 230) to leader 0
client write log 3489012210462019828 (index 231) to leader 0
client write log 3865630208938029410 (index 232) to leader 0
client write log 4948719618003637825 (index 233) to leader 0
flag 79517 term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
flag 66660 term 29 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 29 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 26 219} {4806615444052353935 26 220} {4806615444052353935 28 221} {6071656348329297964 29 222} {8437467478556733569 29 223} {1086810770069821529 29 224} {4624822277305914868 29 225} {6381954242794162518 29 226} {4504227364549792946 29 227} {6744433907523923514 29 228} {3522861140676953501 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233}]
------------------------------------------------------
term 29 Server0 start snapshot! index=229
term 29 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 29
------------------------------------------------------
flag 93357 term 29 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 29 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 29 leaderCommit: 233 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233}]
------------------------------------------------------
term 29 Server2 start snapshot! index=229
term 29 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8004785660837010650 (index 234) to leader 0
term 29 leader 0 nextIndex[1]: 225  matchIndex[1]: 224
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 29
------------------------------------------------------
flag 89737 term 29 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 29 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 29 leaderCommit: 233 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 79326 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 50650 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 225  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 29
------------------------------------------------------
flag 17453 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 31 server 1 InstallSnapshot success
------------------------------------------------------
update nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 29 rf.commitIndex 229 rf.lastApplied 229
flag 96802 term 31 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 31 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 26508 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
flag 58270 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 79643 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14591 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 99330 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95569 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 54707 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
flag 46925 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 47004 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 14639 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 21781 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
flag 32504 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 15043 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2970376875006290053 (index 235) to leader 0
flag 36659 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
flag 33798 term 31 leader 0 nextIndex[2]: 235  matchIndex[2]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 234 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234} {2970376875006290053 31 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79105 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 235 
------------------------------------------------------
flag 58970 term 31 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 31 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 235 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234} {2970376875006290053 31 235}]
------------------------------------------------------
client write log 3814465528534943674 (index 236) to leader 0
client write log 371549844371646498 (index 237) to leader 0
client write log 4416527000390796131 (index 238) to leader 0
client write log 6200399359418439420 (index 239) to leader 0
client write log 4536618317643518949 (index 240) to leader 0
client write log 5548383420948253632 (index 241) to leader 0
client write log 4077572746357067948 (index 242) to leader 0
client write log 342076928103477037 (index 243) to leader 0
client write log 5876242427808065308 (index 244) to leader 0
flag 87621 term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 29 leaderCommit: 235 
------------------------------------------------------
flag 87768 term 31 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 31 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 31 leaderCommit: 235 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 29 229} {8716652662047515781 29 230} {3489012210462019828 29 231} {3865630208938029410 29 232} {4948719618003637825 29 233} {8004785660837010650 29 234} {2970376875006290053 31 235} {3814465528534943674 31 236} {371549844371646498 31 237} {4416527000390796131 31 238} {6200399359418439420 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244}]
------------------------------------------------------
term 31 Server0 start snapshot! index=239
term 31 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 70817 term 31 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 31 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244}]
------------------------------------------------------
term 31 Server2 start snapshot! index=239
term 31 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8074720810840015867 (index 245) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 38614 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 64830 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 246->245
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 246->245
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
term 33 leader 0 nextIndex[1]: 235  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 69840 term 33 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 31 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11454 term 33 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 33 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 11785 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 73024 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 64289 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42306 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 28103 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 12154 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 65610 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11334 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 86221 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 39874 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 21638 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 59606 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 78634 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 55330 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 49688 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35125 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 51455 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 93019 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 1906 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 26471 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 79411 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 47677 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 68405 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 45078 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 75822 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 38774 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 3072 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 96607 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 95716 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76196 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 7985 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
flag 76487 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 95653 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8074720810840015867 (index 246) to leader 0
flag 82502 term 33 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 93853 term 33 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 33 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
flag 68304 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 42169 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88143 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 24795 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
flag 862 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 53111 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
flag 25858 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 84747 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
flag 87091 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 32590 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
flag 1611 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 93676 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 87997 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 2549 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 92785 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 89214 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 9747 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 73922 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 2477 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 41368 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
client write log 5058221096664682810 (index 247) to leader 1
flag 93569 term 34 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 18409 term 34 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246} {5058221096664682810 34 247}]
------------------------------------------------------
flag 19191 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 86724 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 17393 term 34 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 247 
------------------------------------------------------
flag 65973 term 34 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 34 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246} {5058221096664682810 34 247}]
------------------------------------------------------
client write log 1198012054083151787 (index 248) to leader 1
client write log 6296469188234536808 (index 249) to leader 1
client write log 3242728799234040298 (index 250) to leader 1
client write log 500312835216188725 (index 251) to leader 1
client write log 1671489043252059224 (index 252) to leader 1
client write log 2598795390851234755 (index 253) to leader 1
client write log 2902924731390542325 (index 254) to leader 1
client write log 5150084310600642076 (index 255) to leader 1
client write log 95773099333549355 (index 256) to leader 1
flag 25683 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 43055 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 80480 term 34 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 247 
------------------------------------------------------
flag 74085 term 34 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 34 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 31 239} {4536618317643518949 31 240} {5548383420948253632 31 241} {4077572746357067948 31 242} {342076928103477037 31 243} {5876242427808065308 31 244} {8074720810840015867 31 245} {8074720810840015867 33 246} {5058221096664682810 34 247} {1198012054083151787 34 248} {6296469188234536808 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256}]
------------------------------------------------------
term 34 Server1 start snapshot! index=249
term 34 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=256
-------------------------------------------------------------
flag 38265 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 55717 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 34
------------------------------------------------------
flag 26230 term 34 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 34 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 34 leaderCommit: 256 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256}]
------------------------------------------------------
term 34 Server2 start snapshot! index=249
term 34 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 0
client write log 974476523117811121 (index 257) to leader 1
flag 25661 term 33 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
flag 93419 term 33 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 33 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 33 leaderCommit: 246 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 34
------------------------------------------------------
flag 87112 term 34 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 34 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 34 leaderCommit: 256 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
rf.lastIncludedIndex 249 rf.lastIncludedTerm 34 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
flag 70796 term 34 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 34 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 68987 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43676 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 76189 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
flag 45824 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 51634 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
flag 48357 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 35605 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
flag 26486 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 62962 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49253 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 36363 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2862313854690454264 (index 258) to leader 1
flag 61447 term 34 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
flag 70453 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 257 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257} {2862313854690454264 34 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87125 term 34 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 34 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 34 leaderCommit: 258 
------------------------------------------------------
flag 34131 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 258 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257} {2862313854690454264 34 258}]
------------------------------------------------------
client write log 5873211992670454226 (index 259) to leader 1
client write log 2374196739658019416 (index 260) to leader 1
client write log 8497132117166615515 (index 261) to leader 1
client write log 4314398888529374815 (index 262) to leader 1
client write log 3614919280386173334 (index 263) to leader 1
client write log 8288679839774966291 (index 264) to leader 1
client write log 7601361415307342267 (index 265) to leader 1
term 34 server 0 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 0
flag 93748 term 34 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 34 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 34 leaderCommit: 258 
------------------------------------------------------
flag 9957 term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 34 leaderCommit: 258 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 34 249} {3242728799234040298 34 250} {500312835216188725 34 251} {1671489043252059224 34 252} {2598795390851234755 34 253} {2902924731390542325 34 254} {5150084310600642076 34 255} {95773099333549355 34 256} {974476523117811121 34 257} {2862313854690454264 34 258} {5873211992670454226 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265}]
------------------------------------------------------
term 34 Server1 start snapshot! index=259
term 34 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78608 term 34 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 34 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265}]
------------------------------------------------------
term 34 Server0 start snapshot! index=259
term 34 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1115355258003243290 (index 266) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 69671 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 21036 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 267->266
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 36011 term 36 leader 1 nextIndex[0]: 266  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 34 rf.commitIndex 259 rf.lastApplied 259
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 24239 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 97498 term 36 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 36 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 97703 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 61945 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 76338 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 69100 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 9977 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 39094 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68575 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 95125 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 9342 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 13566 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 82414 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 56280 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 98029 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 21974 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88506 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 1192 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 88130 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 35278 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 93626 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 56355 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 13913 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 49362 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50459 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 55689 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 65545 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 11162 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58503 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 21535 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 4421 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 65911 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
flag 67556 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 60587 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=265
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266}]
------------------------------------------------------
client write log 1115355258003243290 (index 267) to leader 1
flag 8733 term 36 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
flag 63836 term 36 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 36 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 34 leaderCommit: 265 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 74591 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 73994 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 13638 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 75628 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 77315 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 30313 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 18660 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 36456 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 77968 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 65175 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
flag 82412 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 96081 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1013012917875002836 (index 268) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9742 term 36 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
flag 44391 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 267 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267} {1013012917875002836 36 268}]
------------------------------------------------------
flag 33668 term 36 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 36 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 36 leaderCommit: 268 
------------------------------------------------------
flag 16876 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 268 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267} {1013012917875002836 36 268}]
------------------------------------------------------
client write log 8713842024003852241 (index 269) to leader 1
client write log 1352430443691685596 (index 270) to leader 1
client write log 8698398036937494650 (index 271) to leader 1
client write log 3002071383295731734 (index 272) to leader 1
client write log 7927119329448470517 (index 273) to leader 1
client write log 3748481523997696528 (index 274) to leader 1
client write log 1828772257069612054 (index 275) to leader 1
client write log 7862344215857650830 (index 276) to leader 1
client write log 6099324715150727940 (index 277) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15459 term 36 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 36 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 36 leaderCommit: 268 
------------------------------------------------------
flag 39837 term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 36 leaderCommit: 268 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 34 259} {2374196739658019416 34 260} {8497132117166615515 34 261} {4314398888529374815 34 262} {3614919280386173334 34 263} {8288679839774966291 34 264} {7601361415307342267 34 265} {1115355258003243290 34 266} {1115355258003243290 36 267} {1013012917875002836 36 268} {8713842024003852241 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277}]
------------------------------------------------------
term 36 Server1 start snapshot! index=269
term 36 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
flag 84780 term 36 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 36 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277}]
------------------------------------------------------
term 36 Server0 start snapshot! index=269
term 36 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 2
client write log 479286916498399854 (index 278) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 64163 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 51726 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 279->278
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80580 term 38 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 268  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 36 rf.commitIndex 269 rf.lastApplied 269
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 58168 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 85733 term 38 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 38 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 30769 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 36987 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60815 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 45371 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 69951 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 13412 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3441 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 42878 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61901 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 16198 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 70773 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 21996 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 10252 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 94553 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 86868 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 59430 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 27693 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 67955 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60446 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 80920 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56636 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 17266 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7835 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 55579 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 5573 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 89760 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 96354 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 75939 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
flag 93142 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 25825 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43639 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 44194 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278}]
------------------------------------------------------
client write log 479286916498399854 (index 279) to leader 1
flag 45224 term 38 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
flag 63803 term 38 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 38 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 36 leaderCommit: 277 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278} {479286916498399854 38 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 36 269} {1352430443691685596 36 270} {8698398036937494650 36 271} {3002071383295731734 36 272} {7927119329448470517 36 273} {3748481523997696528 36 274} {1828772257069612054 36 275} {7862344215857650830 36 276} {6099324715150727940 36 277} {479286916498399854 36 278} {479286916498399854 38 279}]
------------------------------------------------------
term 38 Server1 start snapshot! index=279
term 38 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20044 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 3538 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
term 38 Server0 start snapshot! index=279
term 38 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 38 Server2 start snapshot! index=279
term 38 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 45950 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 54029 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
flag 64647 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 37526 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2105 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 37533 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
flag 79573 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 87454 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 21401 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 41253 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 33085 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 46918 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74055 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 84457 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 79065 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 70364 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
flag 50127 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 73465 term 39 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 279}]
------------------------------------------------------
client write log 7534203322980678189 (index 280) to leader 0
flag 62597 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 27367 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 22370 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 98796 term 39 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 38 279} {7534203322980678189 39 280}]
------------------------------------------------------
flag 17353 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 73908 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 26749 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 280 
------------------------------------------------------
flag 93357 term 39 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 39 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 38 279} {7534203322980678189 39 280}]
------------------------------------------------------
client write log 3511105863446051673 (index 281) to leader 0
flag 24568 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 10813 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 38336 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 280 
------------------------------------------------------
flag 85478 term 39 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 39 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 39 leaderCommit: 280 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 62678 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 34817 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 43593 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 281 
------------------------------------------------------
flag 91838 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8264676094790871388 (index 280) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79717 term 38 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
flag 22728 term 38 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 38 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 279 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70680 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 281 
------------------------------------------------------
flag 59841 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 94549 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 960 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41368 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 82523 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 64281 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 49169 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 94189 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 52570 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 282->281
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 281
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 38
------------------------------------------------------
flag 98549 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 281 args.LastIncludedIndex 279
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 79954 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 281 
------------------------------------------------------
flag 40167 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 23123 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 86366 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 66180 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 14196 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 93034 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 94594 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61791 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 71293 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2539 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 40132 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 77253 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 81385 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 95317 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 17215 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 64828 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 78632 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 69652 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 30036 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 44273 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 81492 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 78817 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 34416 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 89971 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 62501 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
flag 75672 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 8771 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281}]
------------------------------------------------------
client write log 8264676094790871388 (index 282) to leader 0
flag 44322 term 39 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 25865 term 39 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 39 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 38
------------------------------------------------------
flag 96455 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 281 args.LastIncludedIndex 279
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97957 term 39 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 39 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 38 leaderCommit: 282 
------------------------------------------------------
flag 22470 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
flag 977 term 39 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
flag 37094 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60370 term 39 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
flag 20785 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
flag 7936 term 39 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
flag 53092 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
flag 50209 term 39 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
flag 34296 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14395 term 39 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
flag 7371 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3445022162640137726 (index 283) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 38
------------------------------------------------------
flag 31973 term 39 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 39 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 282 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282} {3445022162640137726 39 283}]
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 38
------------------------------------------------------
flag 16145 term 39 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 39 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282} {3445022162640137726 39 283}]
------------------------------------------------------
client write log 1089725241281167098 (index 284) to leader 0
client write log 6683677218268419897 (index 285) to leader 0
client write log 7178669590277965459 (index 286) to leader 0
client write log 5711382300023213420 (index 287) to leader 0
client write log 5753522987877830691 (index 288) to leader 0
client write log 8731431363320595364 (index 289) to leader 0
client write log 689738149803521008 (index 290) to leader 0
client write log 2930145353624854843 (index 291) to leader 0
client write log 2540493449641934882 (index 292) to leader 0
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 38
------------------------------------------------------
flag 11962 term 39 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 39 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 39 leaderCommit: 283 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 38 279} {7534203322980678189 39 280} {3511105863446051673 39 281} {8264676094790871388 39 282} {3445022162640137726 39 283} {1089725241281167098 39 284} {6683677218268419897 39 285} {7178669590277965459 39 286} {5711382300023213420 39 287} {5753522987877830691 39 288} {8731431363320595364 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292}]
------------------------------------------------------
term 39 Server0 start snapshot! index=289
term 39 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=292
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
flag 9829 term 39 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 39 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292}]
------------------------------------------------------
term 39 Server2 start snapshot! index=289
term 39 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1212866386083277213 (index 293) to leader 0
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
flag 5722 term 39 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 39 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 40653 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 63672 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
flag 36643 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 39 rf.commitIndex 289 rf.lastApplied 289
flag 14388 term 41 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 41 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 43532 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
flag 86034 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 13672 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59595 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 73877 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97558 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 42434 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
flag 66203 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 13098 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
flag 59373 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 63248 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
flag 10667 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 63141 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 712492340346885810 (index 294) to leader 0
flag 65031 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
flag 5149 term 41 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 293 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293} {712492340346885810 41 294}]
------------------------------------------------------
flag 75297 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 294 
------------------------------------------------------
flag 71176 term 41 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 41 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293} {712492340346885810 41 294}]
------------------------------------------------------
client write log 4602125204184463231 (index 295) to leader 0
client write log 2620130472061696680 (index 296) to leader 0
client write log 5367789732596082371 (index 297) to leader 0
client write log 4975360662873654476 (index 298) to leader 0
client write log 2560968289235019248 (index 299) to leader 0
client write log 8773532763864657423 (index 300) to leader 0
client write log 621937182848591273 (index 301) to leader 0
client write log 7600677691224873521 (index 302) to leader 0
client write log 447034416773198542 (index 303) to leader 0
client write log 8713586408742634309 (index 304) to leader 0
client write log 441299479539677768 (index 305) to leader 0
flag 28020 term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 39 leaderCommit: 294 
------------------------------------------------------
flag 66395 term 41 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 41 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 294 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 39 289} {689738149803521008 39 290} {2930145353624854843 39 291} {2540493449641934882 39 292} {1212866386083277213 39 293} {712492340346885810 41 294} {4602125204184463231 41 295} {2620130472061696680 41 296} {5367789732596082371 41 297} {4975360662873654476 41 298} {2560968289235019248 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305}]
------------------------------------------------------
term 41 Server0 start snapshot! index=299
term 41 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 41
------------------------------------------------------
flag 91610 term 41 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 41 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305}]
------------------------------------------------------
term 41 Server2 start snapshot! index=299
term 41 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4103927724672118232 (index 306) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 56658 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 92264 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 294  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 41
------------------------------------------------------
flag 50883 term 43 leader 0 nextIndex[2]: 306  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 41 rf.commitIndex 299 rf.lastApplied 299
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 66854 term 43 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 43 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 10440 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63687 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 69501 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26279 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 63218 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73256 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 84706 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 43055 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 47057 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27795 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 7729 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90460 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 77051 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 64703 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 25763 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 41048 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 68042 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 99782 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 42134 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 89965 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 84087 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 9852 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 57787 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 7266 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 57364 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44865 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 67824 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 527 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 53740 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
flag 12083 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 21815 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 89613 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 43960 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306}]
------------------------------------------------------
client write log 4103927724672118232 (index 307) to leader 0
flag 64889 term 43 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
flag 89120 term 43 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 43 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 41 leaderCommit: 305 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
term 43 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
flag 26216 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 25658 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
flag 70439 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 51999 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:307 
term 43 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
flag 67753 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 17954 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23754 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 29702 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70107 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 2072 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 21568 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 43404 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 81230 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 12923 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 56958 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 75646 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 23765 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 99268 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
flag 32999 term 44 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 72815 term 44 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307}]
------------------------------------------------------
client write log 2051192191834890492 (index 308) to leader 2
flag 95174 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 46476 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 71158 term 44 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 43265 term 44 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 44 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307} {2051192191834890492 44 308}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36349 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 61830 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 74902 term 44 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 308 
------------------------------------------------------
flag 30799 term 44 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 44 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307} {2051192191834890492 44 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
client write log 1145598460160348868 (index 309) to leader 2
flag 24496 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 50477 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 41
------------------------------------------------------
flag 19965 term 44 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 44 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 41 299} {8773532763864657423 41 300} {621937182848591273 41 301} {7600677691224873521 41 302} {447034416773198542 41 303} {8713586408742634309 41 304} {441299479539677768 41 305} {4103927724672118232 41 306} {4103927724672118232 43 307} {2051192191834890492 44 308} {1145598460160348868 44 309}]
------------------------------------------------------
term 44 Server2 start snapshot! index=309
term 44 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 7083 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 85478 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 71196 term 44 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 44 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 44 309}]
------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3898172642964476913 (index 310) to leader 2
flag 8293 term 43 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
flag 98146 term 43 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 43 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 307 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 44 server 1 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 88389 term 44 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 44 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 309 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 26796 term 44 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 44 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 22721 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
flag 43244 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 49380 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
flag 24979 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 40090 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6664 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 74429 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
flag 75437 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 87137 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72779 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 95252 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
flag 17866 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 91079 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {3898172642964476913 44 310}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2776772371412568305 (index 311) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8460 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
flag 79797 term 44 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 310 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311}]
------------------------------------------------------
flag 10618 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 311 
------------------------------------------------------
flag 54236 term 44 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 44 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 311 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311}]
------------------------------------------------------
client write log 3229026311927871057 (index 312) to leader 2
client write log 3359267610858802072 (index 313) to leader 2
client write log 8985824681207265136 (index 314) to leader 2
client write log 4807740492874769084 (index 315) to leader 2
client write log 4674388452648585140 (index 316) to leader 2
client write log 8361265549770181057 (index 317) to leader 2
client write log 725054066066168822 (index 318) to leader 2
flag 92666 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 311 
------------------------------------------------------
flag 83848 term 44 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 44 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 44 leaderCommit: 311 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318}]
------------------------------------------------------
flag 59533 term 44 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 44 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 27713 term 44 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 44 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3719057332119180078 (index 319) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 0
flag 1209 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 12879 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 320->319
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 320->319
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17174 term 46 leader 2 nextIndex[0]: 311  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 27601 term 46 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28062 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 19085 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75101 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 80248 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 74617 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 84905 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 94027 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 62862 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 59020 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 69277 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 93563 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 84485 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 69616 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 29 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 68660 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 35803 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 10881 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 74405 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48901 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 78657 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15408 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 38785 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 43860 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 53448 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89100 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 18571 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 97297 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 15433 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57018 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 87249 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4183 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 91598 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 89478 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 93999 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
flag 78813 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 27006 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319}]
------------------------------------------------------
client write log 3719057332119180078 (index 320) to leader 2
flag 30580 term 46 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
flag 5696 term 46 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 46 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 44 leaderCommit: 318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 309} {3898172642964476913 44 310} {2776772371412568305 44 311} {3229026311927871057 44 312} {3359267610858802072 44 313} {8985824681207265136 44 314} {4807740492874769084 44 315} {4674388452648585140 44 316} {8361265549770181057 44 317} {725054066066168822 44 318} {3719057332119180078 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 81785 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 1888 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
flag 85891 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 87894 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
flag 3261 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 95541 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
flag 38312 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 90450 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
flag 76108 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 58231 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 44 319} {3719057332119180078 46 320}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6404120074923594664 (index 321) to leader 2
flag 49158 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
flag 95589 term 46 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 320 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 44 319} {3719057332119180078 46 320} {6404120074923594664 46 321}]
------------------------------------------------------
flag 71104 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 321 
------------------------------------------------------
flag 36342 term 46 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 46 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 46 leaderCommit: 321 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 44 319} {3719057332119180078 46 320} {6404120074923594664 46 321}]
------------------------------------------------------
client write log 1918277450257712317 (index 322) to leader 2
client write log 103063596645960652 (index 323) to leader 2
client write log 4245763457248062613 (index 324) to leader 2
client write log 732432968946094320 (index 325) to leader 2
client write log 8288687639001208549 (index 326) to leader 2
client write log 3575341146499789952 (index 327) to leader 2
client write log 2488782962222098222 (index 328) to leader 2
client write log 4118119676312361218 (index 329) to leader 2
client write log 3486812112189420903 (index 330) to leader 2
client write log 254858068174848487 (index 331) to leader 2
client write log 657756201246030346 (index 332) to leader 2
client write log 4918857253894685086 (index 333) to leader 2
client write log 4518496464363089535 (index 334) to leader 2
flag 38026 term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 46 leaderCommit: 321 
------------------------------------------------------
flag 27719 term 46 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 46 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 46 leaderCommit: 321 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 44 319} {3719057332119180078 46 320} {6404120074923594664 46 321} {1918277450257712317 46 322} {103063596645960652 46 323} {4245763457248062613 46 324} {732432968946094320 46 325} {8288687639001208549 46 326} {3575341146499789952 46 327} {2488782962222098222 46 328} {4118119676312361218 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334}]
------------------------------------------------------
term 46 Server2 start snapshot! index=329
term 46 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=334
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 321  matchIndex[0]: 320
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 77985 term 46 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 46 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334}]
------------------------------------------------------
term 46 Server1 start snapshot! index=329
term 46 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=334
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4613858733942571466 (index 335) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 78045 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 67994 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 336->335
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 336->335
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 79943 term 48 leader 2 nextIndex[1]: 335  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 46 rf.commitIndex 329 rf.lastApplied 329
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22151 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 23737 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 11647 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 77477 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 86444 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 50437 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 99282 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 44655 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 59022 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 49569 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33508 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 53935 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 37815 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 5839 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 19550 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 16604 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 11432 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 11038 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 61512 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 15657 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34170 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 97774 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 57144 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 68960 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 0
flag 91343 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 53489 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 4115 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 48089 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 76037 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 52655 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8873 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 36775 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11240 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 95352 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
flag 61468 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 19890 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=334
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335}]
------------------------------------------------------
client write log 4613858733942571466 (index 336) to leader 2
flag 7260 term 48 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
flag 83848 term 48 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 48 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 46 leaderCommit: 334 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90675 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 17859 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67165 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 16962 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
flag 66469 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 95218 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
flag 26696 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 61875 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94839 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 85010 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
flag 81405 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 27214 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63355 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 26308 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 78276 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 66965 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 12286 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 93573 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 0
term 49 server 1 become leader
------------------------------------------------------
flag 52002 term 49 leader 1 nextIndex[0]: 337  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 98689 term 49 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336}]
------------------------------------------------------
client write log 6563216044604984929 (index 337) to leader 1
flag 53166 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 6848 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15604 term 49 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 20251 term 49 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336} {6563216044604984929 49 337}]
------------------------------------------------------
flag 23901 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 59574 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 44207 term 49 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 49 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 46850 term 49 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336} {6563216044604984929 49 337}]
------------------------------------------------------
client write log 6182564883200096976 (index 338) to leader 1
flag 98752 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 74825 term 48 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 337->336
------------------------------------------------------
flag 93823 term 49 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 49 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 49 leaderCommit: 337 
------------------------------------------------------
flag 76031 term 49 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 337 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336} {6563216044604984929 49 337} {6182564883200096976 49 338}]
------------------------------------------------------
flag 65246 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 336
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 27133 term 49 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 49 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
flag 11611 term 49 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336} {6563216044604984929 49 337} {6182564883200096976 49 338}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6696482666513747272 (index 339) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 337->336
------------------------------------------------------
flag 9313 term 48 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 336
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15827 term 49 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 49 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 49 leaderCommit: 338 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 2 InstallSnapshot fail
rf.commitIndex 336 args.LastIncludedIndex 329
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 46 329} {3486812112189420903 46 330} {254858068174848487 46 331} {657756201246030346 46 332} {4918857253894685086 46 333} {4518496464363089535 46 334} {4613858733942571466 46 335} {4613858733942571466 48 336} {6563216044604984929 49 337} {6182564883200096976 49 338} {6696482666513747272 49 339}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 29551 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 98377 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 340->339
------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6310 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 337  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40725 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 86399 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
flag 202 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 84163 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
flag 3728 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 49919 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
flag 2240 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 1914 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 49 339}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3324780713686384349 (index 340) to leader 1
flag 46860 term 51 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
flag 67324 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 339 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 49 339} {3324780713686384349 51 340}]
------------------------------------------------------
flag 13587 term 51 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 51 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 70862 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 340 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 49 339} {3324780713686384349 51 340}]
------------------------------------------------------
client write log 8170119197792215177 (index 341) to leader 1
client write log 6244874642494408849 (index 342) to leader 1
client write log 2549227042964977293 (index 343) to leader 1
client write log 1817826107838633508 (index 344) to leader 1
client write log 4208288281738461947 (index 345) to leader 1
client write log 3493688841989838379 (index 346) to leader 1
client write log 3152371072065396321 (index 347) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43812 term 51 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 51 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 340 
------------------------------------------------------
flag 14563 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 340 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94178 term 51 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 13177 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8134753051365073041 (index 348) to leader 1
flag 64947 term 51 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 51 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 67593 term 51 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 1 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 0 get outdate rpc reply from server 1
flag 55351 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 33985 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75900 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 40583 term 54 leader 0 nextIndex[2]: 340  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 46782 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 74556 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 19626 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 90944 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40048 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 61975 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 37767 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 4503 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 91497 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 10038 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 39888 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 27784 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 74496 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 85179 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 72670 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 94364 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36037 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 5675 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 39042 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 40763 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 91812 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 86461 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 44344 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 16439 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
flag 33441 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 92095 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348}]
------------------------------------------------------
client write log 8134753051365073041 (index 349) to leader 0
flag 53111 term 54 leader 0 nextIndex[1]: 349  matchIndex[1]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
flag 99887 term 54 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 54 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 51 leaderCommit: 347 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348} {8134753051365073041 54 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {3324780713686384349 51 340} {8170119197792215177 51 341} {6244874642494408849 51 342} {2549227042964977293 51 343} {1817826107838633508 51 344} {4208288281738461947 51 345} {3493688841989838379 51 346} {3152371072065396321 51 347} {8134753051365073041 51 348} {8134753051365073041 54 349}]
------------------------------------------------------
term 54 Server0 start snapshot! index=349
term 54 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 48554 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 75085 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 54 Server2 start snapshot! index=349
term 54 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
flag 91043 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 68920 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46674 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 8220 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
flag 50727 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 6431 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93994 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 79127 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 2522 term 54 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
flag 35858 term 54 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 54 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 349 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 54 349}]
------------------------------------------------------
  ... Passed --  80.6  3 1832  806319  349
--- PASS: TestSnapshotInstall2D (80.57s)
PASS
