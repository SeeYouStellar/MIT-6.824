=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 1 vote for server 0
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 40348 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 14265 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7135489062350082330 (index 1) to leader 0
flag 11849 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 16476 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 57877 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84496 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 37960 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53696 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 26529 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68846 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 43684 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50017 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 19056 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 59915 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
flag 94070 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46547 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7135489062350082330 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5018611783964938495 (index 2) to leader 0
flag 54145 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88704 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7135489062350082330 1 1} {5018611783964938495 1 2}]
------------------------------------------------------
flag 54961 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 50107 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7135489062350082330 1 1} {5018611783964938495 1 2}]
------------------------------------------------------
client write log 5043249576395472623 (index 3) to leader 0
client write log 2565826799547142722 (index 4) to leader 0
client write log 6509240038941244421 (index 5) to leader 0
client write log 4220600808473130863 (index 6) to leader 0
client write log 7507035732123455337 (index 7) to leader 0
client write log 6580682995592591309 (index 8) to leader 0
client write log 4390390263127565980 (index 9) to leader 0
client write log 5056313747162944520 (index 10) to leader 0
client write log 7743934516409610110 (index 11) to leader 0
flag 19959 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 64229 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {7135489062350082330 1 1} {5018611783964938495 1 2} {5043249576395472623 1 3} {2565826799547142722 1 4} {6509240038941244421 1 5} {4220600808473130863 1 6} {7507035732123455337 1 7} {6580682995592591309 1 8} {4390390263127565980 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18723 term 1 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2953858581246122453 (index 12) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 19395 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 61363 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 56094 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 91719 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 31785 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 83473 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 92592 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 29110 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 30447 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 41288 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 45355 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 84134 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 77089 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64058 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3919 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 85196 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 38368 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 99421 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 25878 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25543 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 49873 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 30124 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 15892 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 27800 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 16158 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 24355 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 24162 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 79283 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 64710 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 55205 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 61596 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 14877 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 67019 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 49208 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 67802 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
flag 29335 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 60224 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12}]
------------------------------------------------------
client write log 2953858581246122453 (index 13) to leader 0
flag 42233 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 31623 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5621 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 5851 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 86440 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 23801 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 3853 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 15888 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 36692 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 85504 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 3851 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 98888 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 4701 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 98886 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 59444 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 29047 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 86122 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 38586 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 29545 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 57675 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 44071 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 23252 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13}]
------------------------------------------------------
flag 96873 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 67449 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 2827121857123097301 (index 14) to leader 1
flag 39214 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 23266 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13} {2827121857123097301 4 14}]
------------------------------------------------------
flag 89406 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 95677 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 51435 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 10934 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13} {2827121857123097301 4 14}]
------------------------------------------------------
flag 20116 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 42897 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 7604594590030543976 (index 15) to leader 1
client write log 1844723242593882031 (index 16) to leader 1
client write log 2006109879332526972 (index 17) to leader 1
client write log 4768999536883203866 (index 18) to leader 1
client write log 3505661174464337196 (index 19) to leader 1
client write log 7406826157185592144 (index 20) to leader 1
client write log 880309154583855508 (index 21) to leader 1
client write log 175194717649047746 (index 22) to leader 1
client write log 7422857582716674267 (index 23) to leader 1
client write log 5136193638202094696 (index 24) to leader 1
client write log 9022640673794719009 (index 25) to leader 1
client write log 261283210303824343 (index 26) to leader 1
client write log 2690991249019699353 (index 27) to leader 1
client write log 5170599798530513475 (index 28) to leader 1
flag 97048 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 96590 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {5056313747162944520 1 10} {7743934516409610110 1 11} {2953858581246122453 1 12} {2953858581246122453 3 13} {2827121857123097301 4 14} {7604594590030543976 4 15} {1844723242593882031 4 16} {2006109879332526972 4 17} {4768999536883203866 4 18} {3505661174464337196 4 19} {7406826157185592144 4 20} {880309154583855508 4 21} {175194717649047746 4 22} {7422857582716674267 4 23} {5136193638202094696 4 24} {9022640673794719009 4 25} {261283210303824343 4 26} {2690991249019699353 4 27} {5170599798530513475 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
flag 33533 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 45493 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 9622 term 4 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7406826157185592144 4 20} {880309154583855508 4 21} {175194717649047746 4 22} {7422857582716674267 4 23} {5136193638202094696 4 24} {9022640673794719009 4 25} {261283210303824343 4 26} {2690991249019699353 4 27} {5170599798530513475 4 28}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3135808115386120384 (index 29) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99520 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 74590 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 8382 term 4 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
term 4 server 0 InstallSnapshot success
[{snapshot 4 19} {7406826157185592144 4 20} {880309154583855508 4 21} {175194717649047746 4 22} {7422857582716674267 4 23} {5136193638202094696 4 24} {9022640673794719009 4 25} {261283210303824343 4 26} {2690991249019699353 4 27} {5170599798530513475 4 28} {3135808115386120384 4 29}]
------------------------------------------------------
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 22700 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 11216 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 42860 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93120 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 97141 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 75647 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 74282 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 10439 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 38673 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85508 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 40218 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3453375684349686719 (index 30) to leader 1
flag 22712 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4419 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {3453375684349686719 4 30}]
------------------------------------------------------
flag 90316 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 70226 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {3453375684349686719 4 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3559612436512732986 (index 31) to leader 1
client write log 3377723018794075236 (index 32) to leader 1
client write log 5592413800329952252 (index 33) to leader 1
client write log 5952209182010789555 (index 34) to leader 1
client write log 3434972639203512902 (index 35) to leader 1
client write log 6870354372545449505 (index 36) to leader 1
client write log 7664804035813301382 (index 37) to leader 1
client write log 8050492179371862471 (index 38) to leader 1
client write log 8337928676519701344 (index 39) to leader 1
client write log 7020209677322355912 (index 40) to leader 1
client write log 4827068354850535649 (index 41) to leader 1
flag 39516 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 36484 term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 29} {3453375684349686719 4 30} {3559612436512732986 4 31} {3377723018794075236 4 32} {5592413800329952252 4 33} {5952209182010789555 4 34} {3434972639203512902 4 35} {6870354372545449505 4 36} {7664804035813301382 4 37} {8050492179371862471 4 38} {8337928676519701344 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41}]
------------------------------------------------------
term 4 server 0 not vote for server 1, 日志不够新
term 4 server 1 get outdate rpc reply from server 0
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
flag 16380 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3640674250990934029 (index 42) to leader 1
flag 32850 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 11398 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 86573 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
flag 80763 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39419 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 75260 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
flag 59059 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 26643 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85659 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 57626 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64770 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 3021 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87949 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 66252 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80571 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 87959 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
flag 21332 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 12806 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5981208207418429851 (index 43) to leader 1
flag 84827 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 15827 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42} {5981208207418429851 6 43}]
------------------------------------------------------
flag 94331 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 28586 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42} {5981208207418429851 6 43}]
------------------------------------------------------
client write log 808158799218762493 (index 44) to leader 1
client write log 3952825877978315668 (index 45) to leader 1
client write log 8123633738028107506 (index 46) to leader 1
client write log 2525143099168738611 (index 47) to leader 1
client write log 4496578446538465980 (index 48) to leader 1
client write log 1803849656553561338 (index 49) to leader 1
client write log 5378581562629577193 (index 50) to leader 1
client write log 697010039356239336 (index 51) to leader 1
client write log 8513548268658079294 (index 52) to leader 1
client write log 5425474823578377336 (index 53) to leader 1
client write log 8875102405756025163 (index 54) to leader 1
flag 65005 term 6 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 47434 term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 39} {7020209677322355912 4 40} {4827068354850535649 4 41} {3640674250990934029 4 42} {5981208207418429851 6 43} {808158799218762493 6 44} {3952825877978315668 6 45} {8123633738028107506 6 46} {2525143099168738611 6 47} {4496578446538465980 6 48} {1803849656553561338 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
flag 14769 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4266256819336493119 (index 55) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73132 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:54 
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 46233 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 48035 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64883 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 17129 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 31863 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 46144 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 19455 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 46487 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 2116 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 99926 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 33182 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10323 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 34873 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64121 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 56146 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 38174 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 36236 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 21137 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 31275 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77948 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 38618 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 98389 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 20042 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61131 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 62018 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47208 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 73456 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54215 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 67814 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 40474 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 3565 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 6189 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 89322 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
flag 52003 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 50987 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71702 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 87183 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55}]
------------------------------------------------------
client write log 4266256819336493119 (index 56) to leader 1
flag 38688 term 8 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
flag 35820 term 8 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 54 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
flag 7518 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 72671 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
flag 17600 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 54696 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
flag 33902 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 48415 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34013 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 37120 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
flag 58630 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 65180 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
flag 67862 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 39957 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 60922 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 89342 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98925 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 84709 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26165 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 87561 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 50835 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 91330 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 26398 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 3526 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56}]
------------------------------------------------------
client write log 1885352877930446209 (index 57) to leader 2
flag 92631 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 81374 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 54209 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 62238 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56} {1885352877930446209 9 57}]
------------------------------------------------------
flag 81134 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 29752 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 77930 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 93968 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56} {1885352877930446209 9 57}]
------------------------------------------------------
client write log 6978190348810671616 (index 58) to leader 2
client write log 4335322427604928427 (index 59) to leader 2
client write log 1283586424135035794 (index 60) to leader 2
client write log 7580737367303694084 (index 61) to leader 2
client write log 9222697731574719429 (index 62) to leader 2
client write log 198047850996314817 (index 63) to leader 2
client write log 2621292932579130478 (index 64) to leader 2
client write log 3929035396758289703 (index 65) to leader 2
client write log 5146127903061523434 (index 66) to leader 2
client write log 7962029999987169205 (index 67) to leader 2
client write log 5846758577311183232 (index 68) to leader 2
client write log 7121631704374788088 (index 69) to leader 2
client write log 6850077177469872368 (index 70) to leader 2
flag 95949 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 55685 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 59268 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 44415 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 6 49} {5378581562629577193 6 50} {697010039356239336 6 51} {8513548268658079294 6 52} {5425474823578377336 6 53} {8875102405756025163 6 54} {4266256819336493119 6 55} {4266256819336493119 8 56} {1885352877930446209 9 57} {6978190348810671616 9 58} {4335322427604928427 9 59} {1283586424135035794 9 60} {7580737367303694084 9 61} {9222697731574719429 9 62} {198047850996314817 9 63} {2621292932579130478 9 64} {3929035396758289703 9 65} {5146127903061523434 9 66} {7962029999987169205 9 67} {5846758577311183232 9 68} {7121631704374788088 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=70
-------------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
flag 99250 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 1056 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 54908 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=70
-------------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 322715041859898118 (index 57) to leader 1
flag 35109 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 94705 term 8 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
flag 66631 term 8 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
term 8 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
update matchIndex[0]=70
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 37906 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 65761 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 88903 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 85873 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 404 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 78803 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 65001 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 15605 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 37487 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 67741 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 58513 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 7990 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 93314 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 78614 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30804 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 92110 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 83549 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 90114 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 92030 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 26946 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
flag 80524 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 70
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 70 args.LastIncludedIndex 69
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 76251 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 33434 term 9 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 9 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 69282 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 46376 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64802 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 38001 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 97493 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 13129 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99092 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 44003 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 10807 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 78048 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
flag 5559 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 50349 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85005 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 94950 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6850077177469872368 9 70}]
------------------------------------------------------
client write log 322715041859898118 (index 71) to leader 2
flag 28177 term 9 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 121 term 9 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 9 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
flag 8690 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 13803 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
flag 61613 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 87484 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
flag 79945 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 61195 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13395 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 77132 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
flag 19348 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 79075 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 673 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 56526 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1095932005806496566 (index 72) to leader 2
flag 30457 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 20465 term 9 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71} {1095932005806496566 9 72}]
------------------------------------------------------
flag 88097 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 38427 term 9 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71} {1095932005806496566 9 72}]
------------------------------------------------------
client write log 7034949868495771169 (index 73) to leader 2
client write log 3432713967424681499 (index 74) to leader 2
client write log 5394569124668936880 (index 75) to leader 2
client write log 7401771053386596420 (index 76) to leader 2
client write log 8395248315850841798 (index 77) to leader 2
client write log 648917615754794511 (index 78) to leader 2
client write log 7500264350974235469 (index 79) to leader 2
client write log 2532924577738207717 (index 80) to leader 2
client write log 9076878835652277645 (index 81) to leader 2
client write log 5074356848741453693 (index 82) to leader 2
flag 37953 term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
flag 99928 term 9 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 9 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 9 leaderCommit: 72 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 9 69} {6850077177469872368 9 70} {322715041859898118 9 71} {1095932005806496566 9 72} {7034949868495771169 9 73} {3432713967424681499 9 74} {5394569124668936880 9 75} {7401771053386596420 9 76} {8395248315850841798 9 77} {648917615754794511 9 78} {7500264350974235469 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82}]
------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 93981 term 9 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 9 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82}]
------------------------------------------------------
term 9 Server1 start snapshot! index=79
term 9 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4030855708865159759 (index 83) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 0 vote for server 2
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 68272 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 45189 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 84->83
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 1591 term 11 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67517 term 11 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 11 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 38935 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 8584 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 29031 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 6264 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 19105 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 92583 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 85032 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 66732 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 24767 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8290 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 22488 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 97767 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 96561 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 3627 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 80678 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 21372 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 11831 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 39190 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 39218 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 99692 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 40163 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87028 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 99637 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 53441 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 75966 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 29784 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 14000 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 20351 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 31929 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 96082 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 92814 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
flag 66709 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 84850 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4030855708865159759 (index 84) to leader 2
flag 76577 term 11 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
flag 17349 term 11 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 11 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 9 leaderCommit: 82 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
flag 24085 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 14982 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
term 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
flag 94105 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 28888 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
term 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57475 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 32486 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
update nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
flag 7638 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 78512 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
flag 19721 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 3339 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51643 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 69433 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6159147873522719898 (index 85) to leader 2
flag 72196 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
flag 39982 term 11 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84} {6159147873522719898 11 85}]
------------------------------------------------------
flag 54152 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 8481 term 11 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84} {6159147873522719898 11 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6587020127482234523 (index 86) to leader 2
client write log 9085693344047092703 (index 87) to leader 2
client write log 6673724907785599958 (index 88) to leader 2
client write log 3340555446672335148 (index 89) to leader 2
client write log 2174049552336230916 (index 90) to leader 2
client write log 2603470512736652433 (index 91) to leader 2
client write log 6571999757456041970 (index 92) to leader 2
client write log 847613023807948814 (index 93) to leader 2
client write log 6313718128737210324 (index 94) to leader 2
client write log 8746079631354252952 (index 95) to leader 2
client write log 2587935120395292883 (index 96) to leader 2
flag 43424 term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
flag 35719 term 11 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 11 leaderCommit: 85 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 9 79} {2532924577738207717 9 80} {9076878835652277645 9 81} {5074356848741453693 9 82} {4030855708865159759 9 83} {4030855708865159759 11 84} {6159147873522719898 11 85} {6587020127482234523 11 86} {9085693344047092703 11 87} {6673724907785599958 11 88} {3340555446672335148 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96}]
------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 66645 term 11 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 11 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 11 leaderCommit: 96 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96}]
------------------------------------------------------
term 11 Server1 start snapshot! index=89
term 11 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 3001479504046285295 (index 97) to leader 2
term 11 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 2732 term 11 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 11 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 11 leaderCommit: 96 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 0
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 1
flag 19286 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 36472 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 85  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 6146 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 11 rf.commitIndex 89 rf.lastApplied 89
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 59514 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 4565 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
flag 52179 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 40966 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
flag 79963 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 74846 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
flag 32725 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 74030 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
flag 95129 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 47962 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
flag 28151 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 63409 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 20360 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 94006 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 29494 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 45388 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 61759 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 73652 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 50095 term 14 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 84418 term 14 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97}]
------------------------------------------------------
client write log 7744272104232816105 (index 98) to leader 0
flag 56248 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 59404 term 13 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
flag 2681 term 14 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
flag 749 term 14 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97} {7744272104232816105 14 98}]
------------------------------------------------------
flag 3338 term 13 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 13 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 97 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
flag 29953 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 71526 term 14 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97} {7744272104232816105 14 98}]
------------------------------------------------------
client write log 8742223952322228157 (index 99) to leader 0
client write log 9173083009649707479 (index 100) to leader 0
client write log 7459879562392500001 (index 101) to leader 0
client write log 5033165176406027948 (index 102) to leader 0
client write log 311786711157841341 (index 103) to leader 0
client write log 3912906582209006305 (index 104) to leader 0
client write log 3804288648491792355 (index 105) to leader 0
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 57893 term 14 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 37518 term 14 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 89} {2174049552336230916 11 90} {2603470512736652433 11 91} {6571999757456041970 11 92} {847613023807948814 11 93} {6313718128737210324 11 94} {8746079631354252952 11 95} {2587935120395292883 11 96} {3001479504046285295 11 97} {7744272104232816105 14 98} {8742223952322228157 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
flag 90409 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
!!!!!!connect server 2
client write log 5061910583761623053 (index 98) to leader 2
flag 20466 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 29541 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 46542 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 106->105
------------------------------------------------------
flag 64070 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 99 args.LastIncludedIndex 99
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 74652 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 2017 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69575 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 34438 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 62308 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 13289 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 67068 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 66271 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50159 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 16831 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76203 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 74639 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 32285 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 44866 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 31396 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 17056 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25057 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 44499 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 53569 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 76464 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 66597 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 53921 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 34381 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 25996 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 35706 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 7884 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 80852 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 54444 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 27802 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 96456 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 10348 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 93485 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
flag 40689 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 68946 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5061910583761623053 (index 106) to leader 0
flag 55445 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 2469 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
flag 6880 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 57439 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
flag 37536 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 65866 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
flag 84697 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 63814 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
flag 28794 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 25202 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
flag 9405 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 74578 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72490 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 24084 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8036548922856364104 (index 107) to leader 0
flag 18740 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 68323 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106} {8036548922856364104 14 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57214 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 71184 term 14 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 14 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106} {8036548922856364104 14 107}]
------------------------------------------------------
client write log 670335558241128331 (index 108) to leader 0
client write log 5976478995825231071 (index 109) to leader 0
client write log 8960866865842085630 (index 110) to leader 0
client write log 4096742289163457611 (index 111) to leader 0
client write log 1413050751969426364 (index 112) to leader 0
client write log 3486921885545924438 (index 113) to leader 0
client write log 6122361020818873846 (index 114) to leader 0
client write log 5002695923578640902 (index 115) to leader 0
client write log 2732108361670169132 (index 116) to leader 0
client write log 6638098260182590220 (index 117) to leader 0
client write log 2763232461451716995 (index 118) to leader 0
client write log 3680633128246473957 (index 119) to leader 0
client write log 8833817554782082060 (index 120) to leader 0
client write log 9189018326914720928 (index 121) to leader 0
flag 23485 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 7522 term 14 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 14 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 14 99} {9173083009649707479 14 100} {7459879562392500001 14 101} {5033165176406027948 14 102} {311786711157841341 14 103} {3912906582209006305 14 104} {3804288648491792355 14 105} {5061910583761623053 14 106} {8036548922856364104 14 107} {670335558241128331 14 108} {5976478995825231071 14 109} {8960866865842085630 14 110} {4096742289163457611 14 111} {1413050751969426364 14 112} {3486921885545924438 14 113} {6122361020818873846 14 114} {5002695923578640902 14 115} {2732108361670169132 14 116} {6638098260182590220 14 117} {2763232461451716995 14 118} {3680633128246473957 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=121
-------------------------------------------------------------
term 14 Server0 start snapshot! index=119
term 14 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=121
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 14
------------------------------------------------------
flag 82997 term 14 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 14 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=121
-------------------------------------------------------------
term 14 Server2 start snapshot! index=119
term 14 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=121
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8295984651286603308 (index 122) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 49410 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 51149 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 123->122
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 107  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 14
------------------------------------------------------
flag 96170 term 16 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 14 rf.commitIndex 119 rf.lastApplied 119
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 55964 term 16 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 16 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 26893 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 39950 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 2567 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 84045 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 9635 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6296 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 65207 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 30796 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 90243 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 18523 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 4346 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 4296 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 81923 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 66784 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 96499 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79773 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 60061 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83965 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 86474 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 2702 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 9672 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 61198 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 20900 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 2980 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 10467 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 16278 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 55981 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46811 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 67999 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22146 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 42111 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86404 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 7722 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
flag 37531 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 36553 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122}]
------------------------------------------------------
client write log 8295984651286603308 (index 123) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95090 term 16 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
flag 63587 term 16 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 16 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 14 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
flag 98130 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 19519 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69623 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 6693 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85475 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 38418 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
flag 75181 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 55281 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67380 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 49023 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10530 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 51375 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4642418195696716597 (index 124) to leader 0
flag 98964 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 79463 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123} {4642418195696716597 16 124}]
------------------------------------------------------
flag 83294 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 53438 term 16 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 16 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123} {4642418195696716597 16 124}]
------------------------------------------------------
client write log 1243769294536427692 (index 125) to leader 0
client write log 5733754439326586767 (index 126) to leader 0
client write log 8837864305005772176 (index 127) to leader 0
client write log 2230002186548903915 (index 128) to leader 0
client write log 1445509227439716443 (index 129) to leader 0
client write log 7508833025558637241 (index 130) to leader 0
client write log 5905578072952424188 (index 131) to leader 0
client write log 7964536528098644034 (index 132) to leader 0
client write log 2028624957444769085 (index 133) to leader 0
client write log 2718417615825027295 (index 134) to leader 0
client write log 5564548766258955063 (index 135) to leader 0
client write log 4106477532001341331 (index 136) to leader 0
client write log 264664661644477314 (index 137) to leader 0
client write log 8428008756362741990 (index 138) to leader 0
flag 12577 term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 49670 term 16 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 16 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 14 119} {8833817554782082060 14 120} {9189018326914720928 14 121} {8295984651286603308 14 122} {8295984651286603308 16 123} {4642418195696716597 16 124} {1243769294536427692 16 125} {5733754439326586767 16 126} {8837864305005772176 16 127} {2230002186548903915 16 128} {1445509227439716443 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138}]
------------------------------------------------------
term 16 Server0 start snapshot! index=129
term 16 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=138
-------------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 16
------------------------------------------------------
flag 53009 term 16 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 16 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138}]
------------------------------------------------------
term 16 Server2 start snapshot! index=129
term 16 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=138
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4450686067942147312 (index 139) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 29524 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 45826 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 140->139
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 16
------------------------------------------------------
flag 18562 term 18 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 18 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 16 rf.commitIndex 129 rf.lastApplied 129
flag 76018 term 18 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 85336 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 4273 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 3365 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 46313 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 47810 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 18643 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 31087 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 22915 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 51291 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 83758 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 15442 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 55801 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 53914 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76585 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 59663 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 84077 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 57362 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 3962 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 72045 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 87829 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 15485 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 84192 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 58143 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 32156 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 91128 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 10510 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 14650 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 35500 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 90722 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 98524 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 54563 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 36547 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 94027 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
flag 74889 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 41336 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139}]
------------------------------------------------------
client write log 4450686067942147312 (index 140) to leader 0
flag 92425 term 18 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
flag 22625 term 18 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 18 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 16 leaderCommit: 138 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 129} {7508833025558637241 16 130} {5905578072952424188 16 131} {7964536528098644034 16 132} {2028624957444769085 16 133} {2718417615825027295 16 134} {5564548766258955063 16 135} {4106477532001341331 16 136} {264664661644477314 16 137} {8428008756362741990 16 138} {4450686067942147312 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 Server0 start snapshot! index=139
term 18 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 66748 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 41483 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 Server2 start snapshot! index=139
term 18 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 18 Server1 start snapshot! index=139
term 18 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 43853 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 33244 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
flag 10977 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 46868 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63929 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 52437 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
flag 63701 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 55054 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
flag 54568 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 99596 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 16 139} {4450686067942147312 18 140}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 24133 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 97724 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 11132 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 54074 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66512 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 26171 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
client write log 7320005663954039028 (index 141) to leader 2
flag 13460 term 19 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 92589 term 19 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141}]
------------------------------------------------------
flag 48676 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 75521 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 99182 term 19 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 141 
------------------------------------------------------
flag 62039 term 19 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141}]
------------------------------------------------------
flag 6752 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 11507 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
client write log 5370037441525704883 (index 142) to leader 2
flag 84234 term 19 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 141 
------------------------------------------------------
flag 57962 term 19 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142}]
------------------------------------------------------
flag 69683 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 47042 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 50876 term 19 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 142 
------------------------------------------------------
flag 71470 term 19 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 19 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142}]
------------------------------------------------------
flag 36379 term 18 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
flag 31323 term 18 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 18 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 140 
------------------------------------------------------
!!!!!!connect server 0
client write log 601253389907138033 (index 143) to leader 2
flag 10111 term 19 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 142 
------------------------------------------------------
flag 33493 term 19 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 19 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
flag 31732 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 72702 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
flag 24402 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 1456 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
flag 60693 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 20129 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
flag 366 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 94727 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57143 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 18105 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38716 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 75702 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4907818084627992092 (index 144) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35994 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
flag 59874 term 19 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143} {4907818084627992092 19 144}]
------------------------------------------------------
flag 80474 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
flag 38448 term 19 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 19 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143} {4907818084627992092 19 144}]
------------------------------------------------------
client write log 6962706503848433699 (index 145) to leader 2
client write log 2280104360496252629 (index 146) to leader 2
client write log 8072916315688319715 (index 147) to leader 2
client write log 4036782144148074086 (index 148) to leader 2
client write log 2639940930599227364 (index 149) to leader 2
client write log 2563667888062310014 (index 150) to leader 2
client write log 863886593116664689 (index 151) to leader 2
client write log 6044855537894036868 (index 152) to leader 2
client write log 5067860807083134549 (index 153) to leader 2
client write log 8098848476669208056 (index 154) to leader 2
client write log 5603067642812634600 (index 155) to leader 2
client write log 7132147328819373684 (index 156) to leader 2
client write log 1048748707294732869 (index 157) to leader 2
flag 77566 term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
flag 18079 term 19 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 19 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 16 139} {4450686067942147312 18 140} {7320005663954039028 19 141} {5370037441525704883 19 142} {601253389907138033 19 143} {4907818084627992092 19 144} {6962706503848433699 19 145} {2280104360496252629 19 146} {8072916315688319715 19 147} {4036782144148074086 19 148} {2639940930599227364 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157}]
------------------------------------------------------
term 19 Server2 start snapshot! index=149
term 19 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=157
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 19
------------------------------------------------------
flag 21416 term 19 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 19 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157}]
------------------------------------------------------
term 19 Server1 start snapshot! index=149
term 19 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=157
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7853773150320300411 (index 158) to leader 2
term 19 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 19
------------------------------------------------------
flag 77087 term 19 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 19 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 96485 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 96916 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 159->158
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 19
------------------------------------------------------
flag 84512 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 19 rf.commitIndex 149 rf.lastApplied 149
flag 73520 term 21 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 21 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 5110 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 90894 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 11563 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 1130 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 41810 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21950 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 87690 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 48621 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 62196 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 92600 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 78121 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40728 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 29432 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 73220 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 61208 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22375 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 6849 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 71969 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 7586 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 20524 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 68909 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 62427 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 32641 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 88078 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 23409 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 64402 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 92397 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5876 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 87861 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 52841 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 48298 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
flag 43989 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 1236 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158}]
------------------------------------------------------
client write log 7853773150320300411 (index 159) to leader 2
flag 22292 term 21 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
flag 42656 term 21 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 21 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 19 leaderCommit: 157 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158} {7853773150320300411 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 19 149} {2563667888062310014 19 150} {863886593116664689 19 151} {6044855537894036868 19 152} {5067860807083134549 19 153} {8098848476669208056 19 154} {5603067642812634600 19 155} {7132147328819373684 19 156} {1048748707294732869 19 157} {7853773150320300411 19 158} {7853773150320300411 21 159}]
------------------------------------------------------
term 21 Server2 start snapshot! index=159
term 21 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 32194 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 65885 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 Server1 start snapshot! index=159
term 21 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 21 Server0 start snapshot! index=159
term 21 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 76113 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 93326 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
flag 47295 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 64890 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
flag 46524 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 63573 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
flag 10596 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 11939 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18139 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 1515 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8691530758903241111 (index 160) to leader 2
flag 5076 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 41512 term 21 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8691530758903241111 21 160}]
------------------------------------------------------
flag 77184 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 84205 term 21 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 21 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8691530758903241111 21 160}]
------------------------------------------------------
client write log 1895698278023515424 (index 161) to leader 2
client write log 3202885166665343505 (index 162) to leader 2
client write log 6194443292317862298 (index 163) to leader 2
client write log 6045703551200940759 (index 164) to leader 2
client write log 9012379709754381163 (index 165) to leader 2
client write log 2321747135756203194 (index 166) to leader 2
client write log 4564362537535428922 (index 167) to leader 2
client write log 4702495186744693129 (index 168) to leader 2
client write log 2826076734747255547 (index 169) to leader 2
flag 50863 term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 53562 term 21 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 21 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 21 159} {8691530758903241111 21 160} {1895698278023515424 21 161} {3202885166665343505 21 162} {6194443292317862298 21 163} {6045703551200940759 21 164} {9012379709754381163 21 165} {2321747135756203194 21 166} {4564362537535428922 21 167} {4702495186744693129 21 168} {2826076734747255547 21 169}]
------------------------------------------------------
term 21 Server2 start snapshot! index=169
term 21 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 7549 term 21 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 21 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 21 169}]
------------------------------------------------------
term 21 Server1 start snapshot! index=169
term 21 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2245331114677605666 (index 170) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 99890 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 9008 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 171->170
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 69697 term 23 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 21 rf.commitIndex 169 rf.lastApplied 169
flag 90001 term 23 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 23 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 33975 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 30894 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 96916 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 53501 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 29514 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 25423 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 46902 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 90916 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 9056 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 95650 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 35588 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 14832 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 82406 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 54677 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 67498 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 15973 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 72973 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 38787 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 44288 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2963 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 21636 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30769 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 36311 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90335 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 67368 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 81649 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 19533 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 88371 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 26329 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 16793 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 36783 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
flag 47973 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 87012 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 21 169} {2245331114677605666 21 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2245331114677605666 (index 171) to leader 2
flag 34430 term 23 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
flag 12484 term 23 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 23 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 21 leaderCommit: 169 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62492 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 15570 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10614 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 41225 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
flag 1778 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 24241 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
flag 87584 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 83008 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77415 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 16194 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 57945 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 76661 term 23 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 172->171
------------------------------------------------------
flag 69592 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 38727 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 50356 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
flag 90090 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 50254 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171}]
------------------------------------------------------
client write log 7347084811909341132 (index 172) to leader 0
flag 51288 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 45416 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
flag 73854 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171} {7347084811909341132 24 172}]
------------------------------------------------------
flag 79058 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 3339 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 76716 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171} {7347084811909341132 24 172}]
------------------------------------------------------
client write log 4699082346330583495 (index 173) to leader 0
client write log 3141298114397190933 (index 174) to leader 0
client write log 7937813552296220620 (index 175) to leader 0
client write log 8401902450750092702 (index 176) to leader 0
client write log 4386643336874883108 (index 177) to leader 0
client write log 6156848649822087845 (index 178) to leader 0
client write log 6733391514931952399 (index 179) to leader 0
client write log 2043431571104697232 (index 180) to leader 0
client write log 265192842091726839 (index 181) to leader 0
client write log 760094480557761037 (index 182) to leader 0
client write log 4599019092762817639 (index 183) to leader 0
flag 31135 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 52092 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 32463 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 21 169} {2245331114677605666 21 170} {2245331114677605666 23 171} {7347084811909341132 24 172} {4699082346330583495 24 173} {3141298114397190933 24 174} {7937813552296220620 24 175} {8401902450750092702 24 176} {4386643336874883108 24 177} {6156848649822087845 24 178} {6733391514931952399 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 24 Server0 start snapshot! index=179
term 24 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
flag 20462 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 77175 term 24 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 24 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1324554132424479262 (index 172) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 897 term 23 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 23 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 23 leaderCommit: 171 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 171
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95432 term 24 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 24 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
term 24 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 24 server 2 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 2
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 1644 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 35287 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 59890 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 57201 term 26 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35637 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 99445 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23740 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 56010 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4779 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 9446 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 84503 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 6285 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87362 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 54820 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18926 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 9277 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 84716 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 11485 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 2671 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 29285 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 88940 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 14540 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 44008 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 98793 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 25141 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 81074 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34440 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 27808 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 97844 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 4861 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95049 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 89083 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 29595 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 17647 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 36435 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 65053 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183}]
------------------------------------------------------
flag 95222 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 25400 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
client write log 1324554132424479262 (index 184) to leader 0
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=184
update matchIndex[1]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
flag 67255 term 26 leader 0 nextIndex[1]: 184  matchIndex[1]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
flag 25737 term 26 leader 0 nextIndex[2]: 184  matchIndex[2]: 183
term 26 leader 0 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8775 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 76576 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
flag 80923 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 33180 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
flag 20834 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 21690 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15908 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 81951 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
flag 25617 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 58840 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
flag 44667 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 97331 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 537419083388552085 (index 185) to leader 0
flag 53805 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
flag 54152 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184} {537419083388552085 26 185}]
------------------------------------------------------
flag 45713 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 37358 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184} {537419083388552085 26 185}]
------------------------------------------------------
client write log 779133881387251331 (index 186) to leader 0
client write log 2691792612127657985 (index 187) to leader 0
client write log 527925483854837284 (index 188) to leader 0
client write log 2607286539084142505 (index 189) to leader 0
client write log 3760286227471931759 (index 190) to leader 0
client write log 4296248455682434149 (index 191) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33696 term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
flag 77556 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 26 leaderCommit: 185 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 24 179} {2043431571104697232 24 180} {265192842091726839 24 181} {760094480557761037 24 182} {4599019092762817639 24 183} {1324554132424479262 26 184} {537419083388552085 26 185} {779133881387251331 26 186} {2691792612127657985 26 187} {527925483854837284 26 188} {2607286539084142505 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191}]
------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 31094 term 26 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 26 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191}]
------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6979487719377299463 (index 192) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 62451 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 5879 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 193->192
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 34258 term 28 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
flag 57564 term 28 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 28 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 41432 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37571 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 83338 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 33209 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 49022 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 50773 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 29967 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 76298 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 56102 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22411 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 48802 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14364 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 83992 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 52788 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 28672 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 73388 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 81628 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 17329 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 61021 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 71958 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 87264 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 19411 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 76569 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 47489 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 79353 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 86421 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 20857 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68999 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 37944 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
flag 21867 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 86126 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 23118 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 7772 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192}]
------------------------------------------------------
client write log 6979487719377299463 (index 193) to leader 0
flag 38701 term 28 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 48837 term 28 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 28 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80650 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 47805 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25790 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 98131 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
flag 78056 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 90435 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
flag 76027 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 17167 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
flag 8028 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 96292 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
flag 23444 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 15438 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3153341065625069203 (index 194) to leader 0
flag 66929 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 81689 term 28 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193} {3153341065625069203 28 194}]
------------------------------------------------------
flag 17345 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
flag 38546 term 28 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 28 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193} {3153341065625069203 28 194}]
------------------------------------------------------
client write log 2255911589364924092 (index 195) to leader 0
client write log 7891849002867716796 (index 196) to leader 0
client write log 4614405252130421077 (index 197) to leader 0
client write log 5278090705632211247 (index 198) to leader 0
client write log 8464531671619425522 (index 199) to leader 0
client write log 976974581074122150 (index 200) to leader 0
client write log 7987570861450831102 (index 201) to leader 0
flag 9911 term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
flag 70570 term 28 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 28 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 28 leaderCommit: 194 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 189} {3760286227471931759 26 190} {4296248455682434149 26 191} {6979487719377299463 26 192} {6979487719377299463 28 193} {3153341065625069203 28 194} {2255911589364924092 28 195} {7891849002867716796 28 196} {4614405252130421077 28 197} {5278090705632211247 28 198} {8464531671619425522 28 199} {976974581074122150 28 200} {7987570861450831102 28 201}]
------------------------------------------------------
term 28 Server0 start snapshot! index=199
term 28 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 28
------------------------------------------------------
flag 31287 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201}]
------------------------------------------------------
term 28 Server2 start snapshot! index=199
term 28 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 1
client write log 402451693937380208 (index 202) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 16245 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 77972 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 203->202
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 203->202
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 28
------------------------------------------------------
flag 51066 term 30 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 28 rf.commitIndex 199 rf.lastApplied 199
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 92664 term 30 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 17059 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 27748 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 67277 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 49405 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 698 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 56737 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 30746 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 52297 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 25911 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84981 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 75108 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 19297 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 90501 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 78266 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 30352 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 28285 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 62595 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 60389 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 70659 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 73237 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 35388 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 68628 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 78459 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24180 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 36655 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 78318 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 29822 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 58374 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 40630 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
flag 85918 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 70070 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47239 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 16182 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=201
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 402451693937380208 (index 203) to leader 0
flag 99669 term 30 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 36826 term 30 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 30 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
flag 23984 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 72363 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
flag 88899 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 74842 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
flag 77803 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 94036 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83179 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 84481 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
flag 92479 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 12463 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
flag 65942 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 85378 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 62691 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 60561 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 69093 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 50996 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 19563 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 71993 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50159 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 64892 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
client write log 3301807549710223874 (index 204) to leader 1
flag 74877 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 24271 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203} {3301807549710223874 31 204}]
------------------------------------------------------
flag 12173 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 61941 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 48352 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 98007 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203} {3301807549710223874 31 204}]
------------------------------------------------------
client write log 7619053862006311761 (index 205) to leader 1
client write log 4041003754406365207 (index 206) to leader 1
client write log 5516009737288413036 (index 207) to leader 1
client write log 8967729667006325429 (index 208) to leader 1
client write log 876789145204346016 (index 209) to leader 1
client write log 1314604958491696998 (index 210) to leader 1
client write log 7687229306215534581 (index 211) to leader 1
client write log 1176480723536351572 (index 212) to leader 1
client write log 7717452236697996489 (index 213) to leader 1
flag 39335 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 1440 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 43208 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 204 
------------------------------------------------------
flag 97109 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 28 199} {976974581074122150 28 200} {7987570861450831102 28 201} {402451693937380208 28 202} {402451693937380208 30 203} {3301807549710223874 31 204} {7619053862006311761 31 205} {4041003754406365207 31 206} {5516009737288413036 31 207} {8967729667006325429 31 208} {876789145204346016 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
flag 29490 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 70367 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 60579 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1502249798230811294 (index 214) to leader 1
flag 15395 term 30 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
flag 56052 term 30 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 30 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 30 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 26016 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 31 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 40461 term 31 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 29960 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71782 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 96253 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52679 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 54033 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
flag 59438 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 43041 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
flag 8317 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 26542 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
flag 39763 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 32425 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 23613021337560279 (index 215) to leader 1
flag 82883 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 69213 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214} {23613021337560279 31 215}]
------------------------------------------------------
flag 99761 term 31 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 31 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
flag 48292 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214} {23613021337560279 31 215}]
------------------------------------------------------
client write log 8566167871628509977 (index 216) to leader 1
client write log 4452671125431663133 (index 217) to leader 1
client write log 9125346195012204307 (index 218) to leader 1
client write log 9142735828624492713 (index 219) to leader 1
client write log 1070275408148491290 (index 220) to leader 1
client write log 6753815573697342877 (index 221) to leader 1
client write log 8709725840685077030 (index 222) to leader 1
client write log 6440264185288659869 (index 223) to leader 1
client write log 8557357149794854335 (index 224) to leader 1
client write log 4623741553057931570 (index 225) to leader 1
client write log 2511547005776548980 (index 226) to leader 1
flag 7770 term 31 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 31 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
flag 51552 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 209} {1314604958491696998 31 210} {7687229306215534581 31 211} {1176480723536351572 31 212} {7717452236697996489 31 213} {1502249798230811294 31 214} {23613021337560279 31 215} {8566167871628509977 31 216} {4452671125431663133 31 217} {9125346195012204307 31 218} {9142735828624492713 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
flag 74375 term 31 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 31 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226}]
------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7308837171171942601 (index 227) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62229 term 31 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 31 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 55908 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 80770 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 228->227
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 57147 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 34216 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 23902 term 33 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88006 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 84294 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 73436 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 51005 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 68701 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 79451 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 51031 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 91491 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 60917 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 85949 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29324 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 10845 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 72348 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 9404 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 85463 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 93318 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23356 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 25844 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 20809 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 60174 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 53463 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 78608 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38421 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 90435 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 45939 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 50693 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 6091 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 63179 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
flag 79950 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 3586 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48780 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 58835 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227}]
------------------------------------------------------
client write log 7308837171171942601 (index 228) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55692 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
flag 24627 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
flag 24743 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 49844 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35099 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 45185 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
flag 79776 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 10539 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
flag 46524 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 44316 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
flag 77257 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 46904 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
flag 17472 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 57117 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4750971902561797015 (index 229) to leader 1
flag 84403 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 98507 term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 31 219} {1070275408148491290 31 220} {6753815573697342877 31 221} {8709725840685077030 31 222} {6440264185288659869 31 223} {8557357149794854335 31 224} {4623741553057931570 31 225} {2511547005776548980 31 226} {7308837171171942601 31 227} {7308837171171942601 33 228} {4750971902561797015 33 229}]
------------------------------------------------------
term 33 Server1 start snapshot! index=229
term 33 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 52415 term 33 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 33 229}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 7873109572170468463 (index 230) to leader 1
client write log 5145771985948258585 (index 231) to leader 1
client write log 7936352757852680292 (index 232) to leader 1
client write log 6586686800241512968 (index 233) to leader 1
client write log 1266482864577121008 (index 234) to leader 1
client write log 3159072517002489680 (index 235) to leader 1
client write log 4551275892104235353 (index 236) to leader 1
client write log 6670757966905767252 (index 237) to leader 1
client write log 3560372968869370598 (index 238) to leader 1
client write log 1722402620228048581 (index 239) to leader 1
flag 66049 term 33 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 33 229} {7873109572170468463 33 230} {5145771985948258585 33 231} {7936352757852680292 33 232} {6586686800241512968 33 233} {1266482864577121008 33 234} {3159072517002489680 33 235} {4551275892104235353 33 236} {6670757966905767252 33 237} {3560372968869370598 33 238} {1722402620228048581 33 239}]
------------------------------------------------------
term 33 Server1 start snapshot! index=239
term 33 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58999 term 33 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 33 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 33 239}]
------------------------------------------------------
term 33 Server0 start snapshot! index=239
term 33 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1941271245786762000 (index 240) to leader 1
flag 61057 term 33 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 33 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 18949 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 33580 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 241->240
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 27406 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 33 rf.commitIndex 239 rf.lastApplied 239
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 66485 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 44083 term 35 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92545 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 25450 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85723 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 51972 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63301 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 21372 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14304 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 89943 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 36608 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 28188 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 61474 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 62642 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 39872 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 45408 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33679 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 84728 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 2667 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 68436 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 77502 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 27118 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 64299 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 34493 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 27177 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 97159 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 90037 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 4924 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67642 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 12556 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 1 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 1
flag 30416 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 79048 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
flag 88312 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 9113 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 33 239} {1941271245786762000 33 240}]
------------------------------------------------------
client write log 1941271245786762000 (index 241) to leader 1
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66078 term 35 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
flag 5153 term 35 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 35 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 33 leaderCommit: 239 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
flag 32802 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 9936 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22836 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 8185 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
flag 5152 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 80399 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
flag 89371 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 32786 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
flag 12318 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 58639 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
flag 75391 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 26267 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 73337 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 3263 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 64992 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 91620 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 242->241
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 18568 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
flag 31097 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 78009 term 36 leader 0 nextIndex[2]: 242  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241}]
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 55975 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
client write log 1676133876231963845 (index 242) to leader 0
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55132 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 88868 term 36 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242}]
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 84579 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 73833 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 1354 term 36 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 36 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242}]
------------------------------------------------------
client write log 5475525690232578722 (index 243) to leader 0
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 54896 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 66327 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 242 
------------------------------------------------------
flag 88652 term 36 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 36 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 36 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 68579 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
flag 55392 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 97663 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8990228255701109298 (index 242) to leader 1
term 35 leader 1 nextIndex[0]: 0  matchIndex[0]: 241
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 21059 term 35 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 241 
------------------------------------------------------
term 36 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74 term 36 leader 0 nextIndex[1]: 242  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 58791 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 not vote for server 0, 日志不够新
term 36 server 0 get outdate rpc reply from server 1
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64671 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 73946 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
term 36 server 2 get outdate rpc reply from server 0
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 75748 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 48437 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89786 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 70585 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7067 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 6442 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 17302 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 30608 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 71305 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 66853 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 90061 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 79770 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 59497 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 62089 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 27584 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 40049 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 18269 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 94750 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4161 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 40535 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 61280 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 60595 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47885 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 28234 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73646 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 478 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 25123 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 91174 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 65233 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 13936 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 47827 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 32067 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
flag 15351 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 67427 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17787 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 94052 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243}]
------------------------------------------------------
client write log 8990228255701109298 (index 244) to leader 0
flag 69947 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
flag 54643 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
flag 26528 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 10185 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
flag 3768 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 12516 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
update nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 13335 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 28809 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
flag 62919 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 52311 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
flag 27649 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 44212 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
flag 62391 term 36 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 24030 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 5045668565477830520 (index 245) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 9450 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244} {5045668565477830520 36 245}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 29771 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244} {5045668565477830520 36 245}]
------------------------------------------------------
client write log 7548356580699609692 (index 246) to leader 0
client write log 1751661420952015357 (index 247) to leader 0
client write log 8103304842579770139 (index 248) to leader 0
client write log 5295767127096462748 (index 249) to leader 0
client write log 6977613287544722667 (index 250) to leader 0
client write log 7661069503312380937 (index 251) to leader 0
client write log 7589934216004009102 (index 252) to leader 0
client write log 3771549189083591615 (index 253) to leader 0
client write log 3505231084095303723 (index 254) to leader 0
client write log 3154149686306833191 (index 255) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 66692 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 33 239} {1941271245786762000 33 240} {1941271245786762000 35 241} {1676133876231963845 36 242} {5475525690232578722 36 243} {8990228255701109298 36 244} {5045668565477830520 36 245} {7548356580699609692 36 246} {1751661420952015357 36 247} {8103304842579770139 36 248} {5295767127096462748 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=255
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 30476 term 36 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 36 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 255 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1139562718322127744 (index 256) to leader 0
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 22859 term 36 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 36 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 255 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 73263 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 17499 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 9482 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
flag 74507 term 38 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 31968 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
flag 19272 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 84457 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67454 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 82085 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
flag 45838 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 65201 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58794 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 31584 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
flag 35630 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 12041 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
flag 38856 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 2122 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5557343675685023519 (index 257) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37269 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
flag 10107 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256} {5557343675685023519 38 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44093 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
flag 72319 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256} {5557343675685023519 38 257}]
------------------------------------------------------
client write log 1464704668389956361 (index 258) to leader 0
client write log 8541761373759044950 (index 259) to leader 0
client write log 1543004357576957958 (index 260) to leader 0
client write log 6493071178562409690 (index 261) to leader 0
client write log 809022579203380328 (index 262) to leader 0
client write log 5390682825248175411 (index 263) to leader 0
client write log 6466237968288769345 (index 264) to leader 0
client write log 1609398698908252903 (index 265) to leader 0
client write log 1083113168496202851 (index 266) to leader 0
client write log 89015654538070358 (index 267) to leader 0
client write log 6735558127676699041 (index 268) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 256
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 66304 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 36 249} {6977613287544722667 36 250} {7661069503312380937 36 251} {7589934216004009102 36 252} {3771549189083591615 36 253} {3505231084095303723 36 254} {3154149686306833191 36 255} {1139562718322127744 36 256} {5557343675685023519 38 257} {1464704668389956361 38 258} {8541761373759044950 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=268
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 0  matchIndex[1]: 256
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 23037 term 38 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 38 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268}]
------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=268
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6906132979307958786 (index 269) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 not vote for server 1, 日志不够新
term 38 server 0 not vote for server 1, 日志不够新
term 40 server 2 vote for server 0
term 40 server 1 vote for server 0
term 40 server 0 get vote from server 1
term 40 server 0 become leader
------------------------------------------------------
term 40 server 0 get outdate rpc reply from server 2
flag 36339 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 90971 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 23997 term 40 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
flag 68829 term 40 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 40 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 6305 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 35001 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 77405 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 56954 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 85173 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 69258 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 74306 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 75705 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 85466 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 76726 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 49447 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 54367 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 83423 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 27371 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 99324 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82921 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 73474 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 55801 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 64314 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 83722 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 78091 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 73253 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 49220 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35171 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 82999 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 87817 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 14149 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 99866 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 90273 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 22002 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 51345 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 20571 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 25808 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
flag 32178 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 40103 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269}]
------------------------------------------------------
client write log 6906132979307958786 (index 270) to leader 0
flag 79257 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 14977 term 40 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 259} {1543004357576957958 38 260} {6493071178562409690 38 261} {809022579203380328 38 262} {5390682825248175411 38 263} {6466237968288769345 38 264} {1609398698908252903 38 265} {1083113168496202851 38 266} {89015654538070358 38 267} {6735558127676699041 38 268} {6906132979307958786 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 71414 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 40645 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 40 Server2 start snapshot! index=269
term 40 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43248 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 24643 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
flag 28329 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 11324 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5675 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 4613 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
flag 10001 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 59357 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
flag 12285 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 68837 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6906132979307958786 40 270}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 92167 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 41181 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 34717 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 11600 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 32938 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 7685 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
client write log 8459136044002737428 (index 271) to leader 1
flag 71297 term 41 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 2393 term 41 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {6906132979307958786 40 270} {8459136044002737428 41 271}]
------------------------------------------------------
flag 19313 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 94557 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 30616 term 41 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 271 
------------------------------------------------------
flag 20176 term 41 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 41 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {6906132979307958786 40 270} {8459136044002737428 41 271}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6982331835961537290 (index 272) to leader 1
client write log 4559368684888493239 (index 273) to leader 1
client write log 1562095660450594925 (index 274) to leader 1
client write log 6026685809006222428 (index 275) to leader 1
client write log 8011149714680691665 (index 276) to leader 1
client write log 3016870485996192025 (index 277) to leader 1
client write log 7667880526340353651 (index 278) to leader 1
client write log 6569484878578932870 (index 279) to leader 1
client write log 1154088248470863115 (index 280) to leader 1
client write log 6839799060338290659 (index 281) to leader 1
client write log 1526490407569878956 (index 282) to leader 1
flag 89203 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 79992 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 20703 term 41 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 271 
------------------------------------------------------
flag 36994 term 41 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 41 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 38 269} {6906132979307958786 40 270} {8459136044002737428 41 271} {6982331835961537290 41 272} {4559368684888493239 41 273} {1562095660450594925 41 274} {6026685809006222428 41 275} {8011149714680691665 41 276} {3016870485996192025 41 277} {7667880526340353651 41 278} {6569484878578932870 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282}]
------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
flag 58561 term 40 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 70882 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 57102 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5684602524274256228 (index 283) to leader 1
term 40 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 41238 term 40 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 40 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 31236 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 79761 term 41 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 41 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 39578 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 11653 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 85669 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 86594 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 95967 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 78778 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 40172 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 2535 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 98320 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 7395 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 71733 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
flag 46183 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 67259 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2700401682585767902 (index 284) to leader 1
flag 47948 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 79457 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283} {2700401682585767902 41 284}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94705 term 41 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
flag 2328 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283} {2700401682585767902 41 284}]
------------------------------------------------------
client write log 2015379173521391684 (index 285) to leader 1
client write log 5463871820329688968 (index 286) to leader 1
client write log 7522676404273691284 (index 287) to leader 1
client write log 3998053868930050284 (index 288) to leader 1
client write log 8321115387976060503 (index 289) to leader 1
client write log 1897056623828828313 (index 290) to leader 1
client write log 9136257131084314726 (index 291) to leader 1
client write log 6254893361693563705 (index 292) to leader 1
client write log 7657419953464046049 (index 293) to leader 1
flag 61236 term 41 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
flag 95768 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 279} {1154088248470863115 41 280} {6839799060338290659 41 281} {1526490407569878956 41 282} {5684602524274256228 41 283} {2700401682585767902 41 284} {2015379173521391684 41 285} {5463871820329688968 41 286} {7522676404273691284 41 287} {3998053868930050284 41 288} {8321115387976060503 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293}]
------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
flag 4618 term 41 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 41 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293}]
------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8099076499411758380 (index 294) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40552 term 41 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 41 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 11295 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 16018 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 295->294
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 1112 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 284  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
flag 36329 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 53626 term 43 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 86390 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 97705 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66368 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 85896 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 63666 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 64473 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 21999 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 7314 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 69004 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 7278 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 80942 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 10845 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 864 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 86658 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87201 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 16221 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86370 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 75699 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 26665 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 14410 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40982 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 87084 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 85658 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 90178 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
flag 95970 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 89094 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81509 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 28846 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2822 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 26621 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=293
leader log:
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294}]
------------------------------------------------------
client write log 8099076499411758380 (index 295) to leader 1
flag 65789 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
flag 24246 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 41 leaderCommit: 293 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98085 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 26461 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
flag 29785 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 73073 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
flag 94053 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 71450 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
flag 74957 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 8260 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98727 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 70005 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
flag 88075 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 67957 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6928213446201757263 (index 296) to leader 1
flag 62809 term 43 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 28928 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295} {6928213446201757263 43 296}]
------------------------------------------------------
flag 26134 term 43 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 43 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
flag 43673 term 43 leader 1 nextIndex[2]: 296  matchIndex[2]: 295
term 43 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295} {6928213446201757263 43 296}]
------------------------------------------------------
client write log 5822921705721412495 (index 297) to leader 1
client write log 7117966432949909273 (index 298) to leader 1
client write log 6362591676227670864 (index 299) to leader 1
client write log 4431125985489282558 (index 300) to leader 1
client write log 3735478143666216534 (index 301) to leader 1
client write log 5740685376960090587 (index 302) to leader 1
client write log 6070968384827991047 (index 303) to leader 1
client write log 5376658016177556163 (index 304) to leader 1
client write log 5123198853058570878 (index 305) to leader 1
client write log 6038926758564852697 (index 306) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 296->295
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45364 term 43 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 43 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 41 289} {1897056623828828313 41 290} {9136257131084314726 41 291} {6254893361693563705 41 292} {7657419953464046049 41 293} {8099076499411758380 41 294} {8099076499411758380 43 295} {6928213446201757263 43 296} {5822921705721412495 43 297} {7117966432949909273 43 298} {6362591676227670864 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306}]
------------------------------------------------------
term 43 Server1 start snapshot! index=299
term 43 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
flag 19732 term 43 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 43 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306}]
------------------------------------------------------
term 43 Server0 start snapshot! index=299
term 43 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6761130565943886453 (index 307) to leader 1
flag 13511 term 43 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 43 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 295
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 95720 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 71546 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 6625 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 296  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 43 rf.commitIndex 299 rf.lastApplied 299
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 55926 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 94589 term 45 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 45 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 11446 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 22146 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 92130 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 78690 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 66279 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 17397 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31557 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 1518 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 84020 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 38693 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 88281 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 23453 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 57905 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 81258 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 72423 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 63253 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20036 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 64359 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 85537 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 41148 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41036 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 79850 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12075 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 17130 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
flag 6647 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 27063 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58740 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 31304 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31427 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 91344 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 45504 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 9592 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307}]
------------------------------------------------------
client write log 6761130565943886453 (index 308) to leader 1
flag 77190 term 45 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
flag 1004 term 45 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 43 leaderCommit: 306 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
flag 40535 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 73151 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
term 45 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
flag 94619 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 43852 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
flag 55629 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 13818 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
flag 49771 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 23444 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 173 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 36967 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 15086 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 97264 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 79652 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 63236 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 28845 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 96381 term 45 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
client write log 4057336211662752400 (index 309) to leader 2
flag 57462 term 46 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
flag 95984 term 46 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 43 299} {4431125985489282558 43 300} {3735478143666216534 43 301} {5740685376960090587 43 302} {6070968384827991047 43 303} {5376658016177556163 43 304} {5123198853058570878 43 305} {6038926758564852697 43 306} {6761130565943886453 43 307} {6761130565943886453 45 308} {4057336211662752400 46 309}]
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
flag 99546 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 308
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 73753 term 46 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 46 309}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 3463073198791512030 (index 310) to leader 2
client write log 5569933269344934877 (index 311) to leader 2
client write log 5386660412530298840 (index 312) to leader 2
client write log 4181870232438554517 (index 313) to leader 2
client write log 8309764603359493010 (index 314) to leader 2
client write log 4398445029146215315 (index 315) to leader 2
client write log 1229416005830176232 (index 316) to leader 2
client write log 6458205754305815822 (index 317) to leader 2
client write log 7773361022254076679 (index 318) to leader 2
client write log 8623811826346577385 (index 319) to leader 2
client write log 3457677932107538243 (index 320) to leader 2
client write log 4840305247687317277 (index 321) to leader 2
client write log 3446862979813778067 (index 322) to leader 2
flag 22234 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 308
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 26915 term 46 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 309 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 309} {3463073198791512030 46 310} {5569933269344934877 46 311} {5386660412530298840 46 312} {4181870232438554517 46 313} {8309764603359493010 46 314} {4398445029146215315 46 315} {1229416005830176232 46 316} {6458205754305815822 46 317} {7773361022254076679 46 318} {8623811826346577385 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=322
-------------------------------------------------------------
flag 99749 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 308
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 22015 term 46 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 46 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4485262778544386525 (index 309) to leader 1
flag 99589 term 45 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 45 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 308 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 308
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4441 term 46 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 46 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 39483 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 68427 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 323->322
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 52783 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 8442 term 48 leader 2 nextIndex[1]: 320  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 37999 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 22415 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 30445 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 3528 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 34343 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 32688 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 78181 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 60878 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8811 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 45938 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 81239 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 32545 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 63263 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 45832 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 22253 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 55818 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21367 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 42285 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 81662 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 16683 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 10234 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 13388 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 34611 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 54351 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 97622 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 7032 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 60642 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 41676 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 58894 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 45439 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 91804 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 52144 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
flag 91223 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 44679 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322}]
------------------------------------------------------
client write log 4485262778544386525 (index 323) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32427 term 48 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
flag 37599 term 48 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 48 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 46 leaderCommit: 322 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
flag 5648 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 40848 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89071 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 26808 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
flag 3363 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 69795 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
flag 84877 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 45187 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
flag 48729 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 14157 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93896 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 57381 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2363613062107180528 (index 324) to leader 2
flag 52639 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 24048 term 48 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323} {2363613062107180528 48 324}]
------------------------------------------------------
flag 2390 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 72398 term 48 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323} {2363613062107180528 48 324}]
------------------------------------------------------
client write log 3845666015370817001 (index 325) to leader 2
client write log 3494603376289462602 (index 326) to leader 2
client write log 7733882397349213126 (index 327) to leader 2
client write log 4369719429624065385 (index 328) to leader 2
client write log 2981779066479658483 (index 329) to leader 2
client write log 6437463835678348498 (index 330) to leader 2
client write log 2524944342247751022 (index 331) to leader 2
client write log 5260315858293090570 (index 332) to leader 2
flag 49746 term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
flag 83600 term 48 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 48 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 46 319} {3457677932107538243 46 320} {4840305247687317277 46 321} {3446862979813778067 46 322} {4485262778544386525 48 323} {2363613062107180528 48 324} {3845666015370817001 48 325} {3494603376289462602 48 326} {7733882397349213126 48 327} {4369719429624065385 48 328} {2981779066479658483 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332}]
------------------------------------------------------
term 48 Server2 start snapshot! index=329
term 48 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
flag 78322 term 48 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 48 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 48 leaderCommit: 332 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332}]
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3084502135820754496 (index 333) to leader 2
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
flag 76879 term 48 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 48 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 48 leaderCommit: 332 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 86341 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 88190 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
flag 75150 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 48 rf.commitIndex 329 rf.lastApplied 329
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 30078 term 50 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 50 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 54652 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
flag 32604 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 49712 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43955 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 822 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
flag 84602 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 52334 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15457 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 11900 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12228 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 29705 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
flag 1096 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 21099 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1108152857527993296 (index 334) to leader 2
flag 4341 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
flag 56453 term 50 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 333 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333} {1108152857527993296 50 334}]
------------------------------------------------------
flag 60409 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 334 
------------------------------------------------------
flag 78013 term 50 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333} {1108152857527993296 50 334}]
------------------------------------------------------
client write log 5075462798621548301 (index 335) to leader 2
client write log 79191598428276499 (index 336) to leader 2
client write log 2741197142528327699 (index 337) to leader 2
client write log 6815450954418167244 (index 338) to leader 2
client write log 3846453380549157296 (index 339) to leader 2
client write log 2901093410972085869 (index 340) to leader 2
client write log 1987567463456035391 (index 341) to leader 2
client write log 68514644343953920 (index 342) to leader 2
client write log 7444596370762021644 (index 343) to leader 2
client write log 4520063175619917144 (index 344) to leader 2
flag 23236 term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 48 leaderCommit: 334 
------------------------------------------------------
flag 97885 term 50 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 50 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 50 leaderCommit: 334 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 329} {6437463835678348498 48 330} {2524944342247751022 48 331} {5260315858293090570 48 332} {3084502135820754496 48 333} {1108152857527993296 50 334} {5075462798621548301 50 335} {79191598428276499 50 336} {2741197142528327699 50 337} {6815450954418167244 50 338} {3846453380549157296 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344}]
------------------------------------------------------
term 50 Server2 start snapshot! index=339
term 50 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 84257 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2978967567581279730 (index 345) to leader 2
term 50 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 37421 term 50 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 50 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get outdate rpc reply from server 0
flag 31525 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 82088 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 51615 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
flag 16669 term 52 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 52 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 10355 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 49437 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 72523 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 28279 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 39557 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 8725 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 46666 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16395 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 20249 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 39972 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 54856 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42404 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 24602 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 33857 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 34025 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
flag 9079 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 83772 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89565 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 33887 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36253 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 9687 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 82975 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 15667 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 30418 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 18724 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 56486 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 56990 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85163 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 80418 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 55866 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 77801 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
flag 69417 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 12326 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=344
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345}]
------------------------------------------------------
client write log 2978967567581279730 (index 346) to leader 2
flag 53123 term 52 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
flag 90579 term 52 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 52 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 50 leaderCommit: 344 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
flag 34776 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 91135 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
flag 87448 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 77858 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
flag 86400 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 58058 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
flag 61991 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 22860 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78793 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 25619 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54690 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 36763 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=346
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 74655 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 69803 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 64126 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 18159 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 97097 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 46894 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 1
term 53 server 0 become leader
------------------------------------------------------
client write log 2667814706710270383 (index 347) to leader 0
flag 47377 term 53 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 29608 term 53 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346} {2667814706710270383 53 347}]
------------------------------------------------------
flag 36086 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 98116 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 47623 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 53 leaderCommit: 347 
------------------------------------------------------
flag 10297 term 53 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346} {2667814706710270383 53 347}]
------------------------------------------------------
client write log 6408452423366184134 (index 348) to leader 0
client write log 955873784284425541 (index 349) to leader 0
client write log 3535460343122950424 (index 350) to leader 0
client write log 1046357507019553826 (index 351) to leader 0
client write log 1335433535697655627 (index 352) to leader 0
client write log 5036400325143170867 (index 353) to leader 0
client write log 9077821333124149642 (index 354) to leader 0
client write log 8828457998630613992 (index 355) to leader 0
client write log 840758934697482419 (index 356) to leader 0
client write log 6422055341671456285 (index 357) to leader 0
flag 66196 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 21780 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 9156 term 53 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 53 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 53 leaderCommit: 347 
------------------------------------------------------
flag 19949 term 53 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 347 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 339} {2901093410972085869 50 340} {1987567463456035391 50 341} {68514644343953920 50 342} {7444596370762021644 50 343} {4520063175619917144 50 344} {2978967567581279730 50 345} {2978967567581279730 52 346} {2667814706710270383 53 347} {6408452423366184134 53 348} {955873784284425541 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 Server0 start snapshot! index=349
term 53 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
flag 88429 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 37793 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 48966 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 Server1 start snapshot! index=349
term 53 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=357
-------------------------------------------------------------
flag 30846 term 52 leader 2 nextIndex[0]: 347  matchIndex[0]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
flag 96609 term 52 leader 2 nextIndex[1]: 347  matchIndex[1]: 346
term 52 leader 2 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 52 leaderCommit: 346 
------------------------------------------------------
!!!!!!connect server 2
client write log 858677696917919443 (index 347) to leader 2
flag 41411 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
Server2 get CondInstallSnapshot!
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38890 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 69525 term 53 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 55461 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 67022 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 68180 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 12997 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 36282 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 15355 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68628 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 79325 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4253 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 60152 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 1669 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 88841 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 4895 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 32421 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59532 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 89475 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 13065 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 3089 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 48231 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 9890 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 24229 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 74855 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 358->357
------------------------------------------------------
flag 46770 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 357
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 2 InstallSnapshot fail
rf.commitIndex 357 args.LastIncludedIndex 349
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 11262 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 55546 term 53 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19312 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 58501 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 25177 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 92916 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 45560 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 28736 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 46411 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 75112 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
flag 56857 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 1005 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357}]
------------------------------------------------------
client write log 858677696917919443 (index 358) to leader 0
flag 44351 term 53 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
flag 60362 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
flag 2920 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 73624 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
flag 49677 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 56841 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55576 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 45301 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
flag 75497 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 40634 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 81809 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 78309 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68277 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 9894 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3616972582870742191 (index 359) to leader 0
flag 65642 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 53189 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 349} {3535460343122950424 53 350} {1046357507019553826 53 351} {1335433535697655627 53 352} {5036400325143170867 53 353} {9077821333124149642 53 354} {8828457998630613992 53 355} {840758934697482419 53 356} {6422055341671456285 53 357} {858677696917919443 53 358} {3616972582870742191 53 359}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 Server0 start snapshot! index=359
term 53 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
flag 29135 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 Server2 start snapshot! index=359
term 53 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
client write log 2222779668132784078 (index 360) to leader 0
client write log 8501339326667480664 (index 361) to leader 0
client write log 4642827328186252806 (index 362) to leader 0
client write log 3870825288250004558 (index 363) to leader 0
client write log 4931744211240787451 (index 364) to leader 0
client write log 1794897837307575674 (index 365) to leader 0
client write log 6022934693512949832 (index 366) to leader 0
client write log 9139080785303050599 (index 367) to leader 0
client write log 1215664046347966992 (index 368) to leader 0
client write log 8103570757651781985 (index 369) to leader 0
client write log 3505417581483675084 (index 370) to leader 0
client write log 5461037802506140422 (index 371) to leader 0
client write log 5713106452374501098 (index 372) to leader 0
client write log 8073148301792813357 (index 373) to leader 0
client write log 8991742003121419870 (index 374) to leader 0
term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
flag 75093 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 53 359} {2222779668132784078 53 360} {8501339326667480664 53 361} {4642827328186252806 53 362} {3870825288250004558 53 363} {4931744211240787451 53 364} {1794897837307575674 53 365} {6022934693512949832 53 366} {9139080785303050599 53 367} {1215664046347966992 53 368} {8103570757651781985 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374}]
------------------------------------------------------
term 53 Server0 start snapshot! index=369
term 53 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=374
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 96266 term 53 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 53 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
term 53 Server2 start snapshot! index=369
term 53 server2 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=374
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4664680692783641679 (index 375) to leader 0
term 53 server 0 not vote for server 1, 日志不够新
term 53 server 2 not vote for server 1, 日志不够新
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 53688 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 56029 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 376->375
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 376->375
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 359  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 39923 term 55 leader 0 nextIndex[2]: 375  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 370 matchIndex[1] 369 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 53 rf.commitIndex 369 rf.lastApplied 369
flag 67788 term 55 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 55 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 81647 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 10313 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 83410 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 10476 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 81022 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79395 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 55921 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56422 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 56769 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 68247 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 42558 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36165 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 14736 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 19517 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 28718 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 2 not vote for server 0, 任期不够新
term 55 server 0 get outdate rpc reply from server 2
flag 41781 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 98059 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 45627 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 89959 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 89984 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 52664 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 16091 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 45692 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 77405 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 16991 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54353 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 39172 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 74008 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 74090 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18407 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 11283 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 40773 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 96551 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375}]
------------------------------------------------------
flag 96889 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 5106 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
client write log 4664680692783641679 (index 376) to leader 0
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=374
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
flag 86631 term 55 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
flag 16340 term 55 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 55 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 53 leaderCommit: 374 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:374 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
flag 45633 term 55 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
flag 85261 term 55 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
flag 82593 term 55 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
flag 76624 term 55 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83638 term 55 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
flag 72435 term 55 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
flag 75883 term 55 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
flag 94726 term 55 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
flag 7104 term 55 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
flag 3332 term 55 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 55 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 55 leaderCommit: 376 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
term 55 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 53 369} {3505417581483675084 53 370} {5461037802506140422 53 371} {5713106452374501098 53 372} {8073148301792813357 53 373} {8991742003121419870 53 374} {4664680692783641679 53 375} {4664680692783641679 55 376}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  82.5  3 1872  890089  376
--- PASS: TestSnapshotInstall2D (82.45s)
PASS
