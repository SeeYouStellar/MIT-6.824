=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 1
term 1 server 0 become leader
------------------------------------------------------
term 1 server 2 vote for server 0
term 1 server 0 get outdate rpc reply from server 2
flag 58793 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 73794 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7807675557313180912 (index 1) to leader 0
flag 33489 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 96170 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
flag 8505 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 85359 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
flag 80974 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30862 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
flag 45070 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80116 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
flag 50051 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 40297 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
flag 67504 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25127 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7807675557313180912 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5040567204343713705 (index 2) to leader 0
flag 66287 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23899 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2}]
------------------------------------------------------
flag 20060 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 76903 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2}]
------------------------------------------------------
client write log 7753225433456950920 (index 3) to leader 0
client write log 7627726566483840422 (index 4) to leader 0
client write log 1454224119556387819 (index 5) to leader 0
client write log 1288990986327887128 (index 6) to leader 0
client write log 4284207859867411159 (index 7) to leader 0
client write log 6453858729888694373 (index 8) to leader 0
flag 71214 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 30438 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8}]
------------------------------------------------------
flag 16329 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 71729 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8}]
------------------------------------------------------
!!!!!!connect server 1
client write log 286488397804201438 (index 9) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 1
term 3 server 0 become leader
------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 0 get outdate rpc reply from server 2
flag 95522 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 39592 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
flag 38783 term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 56571 term 3 leader 0 nextIndex[2]: 9  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 6569 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98996 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 56312 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 18211 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 69541 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 70969 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 82553 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 30255 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 50681 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 76684 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 79953 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 84158 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 93857 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 24581 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84157 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 76734 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 75250 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 61634 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 32889 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 16808 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47354 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 41577 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 16213 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 88327 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 68312 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 12399 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 34334 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 66743 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 84354 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 72022 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 92443 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93989 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 63940 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 32281 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
flag 71551 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 27308 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9}]
------------------------------------------------------
client write log 286488397804201438 (index 10) to leader 0
flag 80719 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98469 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7807675557313180912 1 1} {5040567204343713705 1 2} {7753225433456950920 1 3} {7627726566483840422 1 4} {1454224119556387819 1 5} {1288990986327887128 1 6} {4284207859867411159 1 7} {6453858729888694373 1 8} {286488397804201438 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 80546 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 70789 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 55358 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 45486 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
flag 94639 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 14554 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
flag 73909 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 8016 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
flag 4046 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54551 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
flag 50438 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 99738 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 89347 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 69174 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 53008 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54742 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 44614 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 47895 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 16369 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 78929 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 30629 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 874 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {286488397804201438 3 10}]
------------------------------------------------------
client write log 5542010704653696113 (index 11) to leader 2
flag 87790 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 95543 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54885 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 36926 term 4 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11}]
------------------------------------------------------
flag 75923 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 84809 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 78946 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 30953 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11}]
------------------------------------------------------
client write log 2691761558294007777 (index 12) to leader 2
flag 88320 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 81871 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 85723 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 73744 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
flag 4789 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 25535 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 11384 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4492363119651443837 (index 13) to leader 2
flag 90611 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81289 term 4 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 4394 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
flag 64624 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 58555 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99102 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 74093 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89303 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 11639 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
flag 78742 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 61197 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
flag 83090 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 99865 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
flag 74554 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 10350 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8331441600599527550 (index 14) to leader 2
flag 24964 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 89535 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13} {8331441600599527550 4 14}]
------------------------------------------------------
flag 81796 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 34298 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13} {8331441600599527550 4 14}]
------------------------------------------------------
client write log 8448919739032402814 (index 15) to leader 2
client write log 5705120122045765808 (index 16) to leader 2
client write log 3347642816789695555 (index 17) to leader 2
client write log 888265839399832515 (index 18) to leader 2
client write log 7760869261822596803 (index 19) to leader 2
client write log 125302158445099809 (index 20) to leader 2
client write log 4244212085106558834 (index 21) to leader 2
client write log 3808223418652755774 (index 22) to leader 2
client write log 5104637129458142860 (index 23) to leader 2
flag 55851 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 12362 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {286488397804201438 3 10} {5542010704653696113 4 11} {2691761558294007777 4 12} {4492363119651443837 4 13} {8331441600599527550 4 14} {8448919739032402814 4 15} {5705120122045765808 4 16} {3347642816789695555 4 17} {888265839399832515 4 18} {7760869261822596803 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 74193 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2738302016262046585 (index 24) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 13
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 72494 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 69700 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60170 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 25->24
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
term 6 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 22075 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
flag 9043 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 44001 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75866 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 1610 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
flag 99009 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 47732 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
flag 63649 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 14281 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
flag 43806 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 20243 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
flag 67309 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 4912 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25471 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 30304 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 0
client write log 4252888584315618014 (index 25) to leader 2
flag 5999 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 45904 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24} {4252888584315618014 6 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57566 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 85188 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24} {4252888584315618014 6 25}]
------------------------------------------------------
client write log 2785445419870829446 (index 26) to leader 2
client write log 3433658161861232771 (index 27) to leader 2
client write log 2279961668059085111 (index 28) to leader 2
client write log 2309129273066249413 (index 29) to leader 2
client write log 6722069208656504523 (index 30) to leader 2
client write log 4533892959033426727 (index 31) to leader 2
client write log 31855389490592274 (index 32) to leader 2
client write log 8471269882654313648 (index 33) to leader 2
client write log 6531596734006762015 (index 34) to leader 2
client write log 6397995122872830170 (index 35) to leader 2
client write log 2450039600465340048 (index 36) to leader 2
client write log 8667858662638168060 (index 37) to leader 2
client write log 4398553781588647400 (index 38) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29830 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 28666 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {125302158445099809 4 20} {4244212085106558834 4 21} {3808223418652755774 4 22} {5104637129458142860 4 23} {2738302016262046585 4 24} {4252888584315618014 6 25} {2785445419870829446 6 26} {3433658161861232771 6 27} {2279961668059085111 6 28} {2309129273066249413 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 98290 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4288678104196595193 (index 39) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 43506 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 31001 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 83066 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
flag 43062 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 65731 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60104 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 62040 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 22464 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 86172 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 80951 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 74540 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 28934 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 44530 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10837 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 43919 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83376 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89955 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50182 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 8903 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24494 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 3619 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 97737 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 61198 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42624 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 86691 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 7002 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 66878 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20374 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 78844 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 41419 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 1365 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8643 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 99563 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 3529 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 4182 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
flag 53775 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 12314 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77536 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 78846 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39}]
------------------------------------------------------
client write log 4288678104196595193 (index 40) to leader 2
flag 68378 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 75015 term 8 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {6722069208656504523 6 30} {4533892959033426727 6 31} {31855389490592274 6 32} {8471269882654313648 6 33} {6531596734006762015 6 34} {6397995122872830170 6 35} {2450039600465340048 6 36} {8667858662638168060 6 37} {4398553781588647400 6 38} {4288678104196595193 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 23520 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 18561 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 86915 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 4785 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66183 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 81001 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
flag 76379 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 82306 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96272 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 98307 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
flag 65453 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 38945 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 77128 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 81033 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74634 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 76669 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90914 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 3641 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 3039 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 58192 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 88282 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 33332 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {4288678104196595193 8 40}]
------------------------------------------------------
client write log 8763560205576911049 (index 41) to leader 1
flag 93026 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 40788 term 8 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 76466 term 9 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 61388 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
flag 39640 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 53563 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 6495 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41}]
------------------------------------------------------
client write log 1477988471935589156 (index 42) to leader 1
flag 64449 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 61780 term 9 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 27872 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42}]
------------------------------------------------------
flag 322 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 66547 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 11129 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5974127807758739389 (index 43) to leader 1
flag 51288 term 8 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34806 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
flag 93272 term 9 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
flag 60930 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 64530 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
flag 9763 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 93775 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
flag 84029 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 16589 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79640 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 26091 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58946 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 97904 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
flag 61634 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 53643 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7348719296786117472 (index 44) to leader 1
flag 60827 term 9 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 69338 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43} {7348719296786117472 9 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59816 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 88133 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43} {7348719296786117472 9 44}]
------------------------------------------------------
client write log 3938338846584043546 (index 45) to leader 1
client write log 1879747203509069370 (index 46) to leader 1
client write log 4217412038216783835 (index 47) to leader 1
client write log 664808696253431462 (index 48) to leader 1
client write log 759389743900948544 (index 49) to leader 1
client write log 7404743239806534701 (index 50) to leader 1
client write log 2939875278086537757 (index 51) to leader 1
client write log 1513722288093242823 (index 52) to leader 1
client write log 5567738642374098726 (index 53) to leader 1
client write log 2527842617073985217 (index 54) to leader 1
flag 65772 term 9 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 9913 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 39} {4288678104196595193 8 40} {8763560205576911049 9 41} {1477988471935589156 9 42} {5974127807758739389 9 43} {7348719296786117472 9 44} {3938338846584043546 9 45} {1879747203509069370 9 46} {4217412038216783835 9 47} {664808696253431462 9 48} {759389743900948544 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=54
-------------------------------------------------------------
flag 93262 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 2
client write log 651183357197942300 (index 55) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89097 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 43
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 58427 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 81018 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
flag 86900 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 50525 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 22701 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44625 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 3583 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
flag 60762 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 22275 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26264 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 1964 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
flag 38325 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 73238 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
flag 1613 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 95272 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
flag 21275 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 91849 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5820403067965767484 (index 56) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30534 term 11 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 99667 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55} {5820403067965767484 11 56}]
------------------------------------------------------
flag 53298 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 74831 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55} {5820403067965767484 11 56}]
------------------------------------------------------
client write log 2982687130888702948 (index 57) to leader 1
client write log 2775864371483762000 (index 58) to leader 1
client write log 7746610852581502458 (index 59) to leader 1
client write log 7917297402695997861 (index 60) to leader 1
client write log 3655616036910940776 (index 61) to leader 1
client write log 7074289486546796571 (index 62) to leader 1
client write log 4410519210888340232 (index 63) to leader 1
client write log 916858568514364840 (index 64) to leader 1
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34907 term 11 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
term 11 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 22430 term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {7404743239806534701 9 50} {2939875278086537757 9 51} {1513722288093242823 9 52} {5567738642374098726 9 53} {2527842617073985217 9 54} {651183357197942300 9 55} {5820403067965767484 11 56} {2982687130888702948 11 57} {2775864371483762000 11 58} {7746610852581502458 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
flag 65695 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2140133891448602235 (index 65) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 72610 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 63023 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
flag 48370 term 13 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 56  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 46415 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 49658 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44410 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 55830 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68253 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 6537 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 10622 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 33100 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 70218 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 35929 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78117 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 65645 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 28970 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 31118 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 45823 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 5451 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 71669 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 70948 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 12047 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 63560 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21085 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 91937 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 68569 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 81798 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 74752 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 992 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 46313 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 5435 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 61554 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 10814 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36467 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 69817 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
flag 4750 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 91513 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19070 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 77880 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65}]
------------------------------------------------------
client write log 2140133891448602235 (index 66) to leader 1
flag 60143 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 55743 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79723 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 36755 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
flag 38717 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 88984 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2715 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 85124 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
flag 28335 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 99317 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78553 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 96694 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
flag 47560 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 30261 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2273 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 80404 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 68821 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 50233 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 44733 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 83840 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 73151 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 90463 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66}]
------------------------------------------------------
flag 18807 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 28660 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
client write log 8628535766497122922 (index 67) to leader 0
flag 1912 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 22838 term 14 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 67->66
------------------------------------------------------
flag 79047 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29819 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 24368 term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67}]
------------------------------------------------------
client write log 1681212236027176081 (index 68) to leader 0
flag 69170 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 8599 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 28434 term 14 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 14 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 14 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 45620 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 59275 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 74390 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6558363607715712102 (index 67) to leader 1
flag 35735 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33917 term 14 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 56276 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 69->68
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 2
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 68
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 62227 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 67 args.LastIncludedIndex 59
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 1256 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 65202 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 84954 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 82931 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6393 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 24024 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 31674 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 820 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84093 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 72396 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 69->68
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 68
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 74973 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 68 args.LastIncludedIndex 59
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 59
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 97236 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 68 args.LastIncludedIndex 59
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 8558 term 14 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 14 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 7928 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 1569 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 14850 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 61082 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 27692 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 73875 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 20416 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 55669 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 94407 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97556 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 52870 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 15635 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 68166 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 59291 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 41100 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33699 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 85897 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 19480 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 84395 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
flag 36213 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 2678 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68}]
------------------------------------------------------
client write log 6558363607715712102 (index 69) to leader 0
flag 1031 term 14 leader 0 nextIndex[1]: 69  matchIndex[1]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
flag 5990 term 14 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 14 leaderCommit: 68 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68} {6558363607715712102 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {7917297402695997861 11 60} {3655616036910940776 11 61} {7074289486546796571 11 62} {4410519210888340232 11 63} {916858568514364840 11 64} {2140133891448602235 11 65} {2140133891448602235 13 66} {8628535766497122922 14 67} {1681212236027176081 14 68} {6558363607715712102 14 69}]
------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25355 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 69295 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75846 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 70471 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
flag 64842 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 83303 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63844 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 45336 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
flag 63429 term 14 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 39603 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4497079007507746056 (index 70) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 56861 term 14 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {4497079007507746056 14 70}]
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 85420 term 14 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {4497079007507746056 14 70}]
------------------------------------------------------
client write log 3541300428049656707 (index 71) to leader 0
client write log 7929669097058292504 (index 72) to leader 0
client write log 3547476864360736311 (index 73) to leader 0
client write log 4709618051541772473 (index 74) to leader 0
client write log 5460264254091266512 (index 75) to leader 0
client write log 3424839278912338462 (index 76) to leader 0
client write log 6177075871101641873 (index 77) to leader 0
client write log 1765085536257014671 (index 78) to leader 0
client write log 2177767414503678760 (index 79) to leader 0
client write log 3109429262408295741 (index 80) to leader 0
client write log 2253738085315735659 (index 81) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 54990 term 14 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 69} {4497079007507746056 14 70} {3541300428049656707 14 71} {7929669097058292504 14 72} {3547476864360736311 14 73} {4709618051541772473 14 74} {5460264254091266512 14 75} {3424839278912338462 14 76} {6177075871101641873 14 77} {1765085536257014671 14 78} {2177767414503678760 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 91575 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2191041342342089696 (index 82) to leader 0
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 69
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 47539 term 14 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 14 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 14 leaderCommit: 81 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 29615 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 48513 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 33257 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
flag 77338 term 16 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 21757 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35756 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 22812 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
flag 358 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 51406 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
flag 13737 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 95176 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
flag 45731 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 58696 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3766 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 6366 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 79633 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 87610 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9186798825241001192 (index 83) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15238 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
flag 89251 term 16 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82} {9186798825241001192 16 83}]
------------------------------------------------------
flag 84244 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 20505 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82} {9186798825241001192 16 83}]
------------------------------------------------------
client write log 1704153248198700335 (index 84) to leader 0
client write log 4160195256295472066 (index 85) to leader 0
client write log 1493236896757292032 (index 86) to leader 0
client write log 4932957598999398647 (index 87) to leader 0
client write log 9143371752055273092 (index 88) to leader 0
client write log 3079859804874710204 (index 89) to leader 0
client write log 4553088239032467661 (index 90) to leader 0
client write log 3356221040265730503 (index 91) to leader 0
client write log 7236575320101828288 (index 92) to leader 0
client write log 7811645073810706344 (index 93) to leader 0
client write log 8325295833061987801 (index 94) to leader 0
client write log 5225143458108411094 (index 95) to leader 0
client write log 3446830271209142463 (index 96) to leader 0
flag 84687 term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 85952 term 16 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 16 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 14 79} {3109429262408295741 14 80} {2253738085315735659 14 81} {2191041342342089696 14 82} {9186798825241001192 16 83} {1704153248198700335 16 84} {4160195256295472066 16 85} {1493236896757292032 16 86} {4932957598999398647 16 87} {9143371752055273092 16 88} {3079859804874710204 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 19851 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2752353892913263136 (index 97) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 9107 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 11149 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 98->97
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 77288 term 18 leader 0 nextIndex[2]: 97  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
flag 24809 term 18 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 18 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 46386 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 41423 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 61213 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 70898 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 70205 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 86233 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 92587 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 47781 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 28898 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95753 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 92100 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 79214 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 11670 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 93771 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 44475 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 26374 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 92070 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 38081 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 68083 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 27005 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 71030 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 9951 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 8519 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 73227 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 13367 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 24332 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 76865 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 79048 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 51350 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 43381 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 15980 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
flag 34588 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 20319 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15437 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 96703 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97}]
------------------------------------------------------
client write log 2752353892913263136 (index 98) to leader 0
flag 88473 term 18 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
flag 81069 term 18 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 18 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
flag 65442 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 87789 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
flag 49846 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 59546 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46312 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 66464 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
flag 26631 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 28866 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 7389 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 43365 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 78851 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 95732 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 34522 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 53807 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 46862 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 4446 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 13989 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 14898 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 73283 term 19 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 18076 term 19 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 155006169700822888 (index 99) to leader 2
flag 35973 term 18 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 69054 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 71282 term 19 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
flag 78187 term 19 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 19 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {4553088239032467661 16 90} {3356221040265730503 16 91} {7236575320101828288 16 92} {7811645073810706344 16 93} {8325295833061987801 16 94} {5225143458108411094 16 95} {3446830271209142463 16 96} {2752353892913263136 16 97} {2752353892913263136 18 98} {155006169700822888 19 99}]
------------------------------------------------------
term 19 Server2 start snapshot! index=99
term 19 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 53411 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 87586 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 99 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 19 99}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3135701062683587949 (index 100) to leader 2
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 32431 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 47700 term 19 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 99 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {3135701062683587949 19 100}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 99->98
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 92498 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 20622 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 19 99} {3135701062683587949 19 100}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8023620391428732556 (index 101) to leader 2
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 1922 term 18 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 19
------------------------------------------------------
flag 95325 term 19 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 19 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 19 leaderCommit: 100 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 19 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91006 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 52335 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
flag 95644 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 89191 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63221 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 8617 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
flag 74281 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 9667 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
flag 98949 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 48722 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10722 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 75636 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
flag 95792 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 99017 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3022404052192092474 (index 102) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64009 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
flag 12615 term 19 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 101 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101} {3022404052192092474 19 102}]
------------------------------------------------------
flag 69767 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
flag 88412 term 19 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101} {3022404052192092474 19 102}]
------------------------------------------------------
client write log 628532210198112889 (index 103) to leader 2
client write log 1837724592767183935 (index 104) to leader 2
client write log 4449457765439685544 (index 105) to leader 2
client write log 1391110991426703792 (index 106) to leader 2
client write log 8001337241149304810 (index 107) to leader 2
client write log 2446635068819317428 (index 108) to leader 2
client write log 8218307551783896204 (index 109) to leader 2
client write log 2821005764520173419 (index 110) to leader 2
client write log 4567220745705024504 (index 111) to leader 2
client write log 5738917197869314698 (index 112) to leader 2
client write log 7250144538520643488 (index 113) to leader 2
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79720 term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
flag 62603 term 19 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 19 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 19 99} {3135701062683587949 19 100} {8023620391428732556 19 101} {3022404052192092474 19 102} {628532210198112889 19 103} {1837724592767183935 19 104} {4449457765439685544 19 105} {1391110991426703792 19 106} {8001337241149304810 19 107} {2446635068819317428 19 108} {8218307551783896204 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 69390 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4743552386555575545 (index 114) to leader 2
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 26075 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 40727 term 19 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 19 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 20 server 0 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get outdate rpc reply from server 0
flag 26103 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 5111 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 40805 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
flag 54040 term 22 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 22 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 48811 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
flag 21670 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 3537 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97338 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 77546 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
flag 1759 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 45673 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
flag 61086 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 28080 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
flag 80745 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 10568 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8919978701374745095 (index 115) to leader 2
flag 10569 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 9703 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114} {8919978701374745095 22 115}]
------------------------------------------------------
flag 85782 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 14955 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114} {8919978701374745095 22 115}]
------------------------------------------------------
client write log 2649790029123898954 (index 116) to leader 2
client write log 8342255171540769875 (index 117) to leader 2
client write log 7636102066248717020 (index 118) to leader 2
client write log 858658567759960996 (index 119) to leader 2
client write log 2625654689536124949 (index 120) to leader 2
client write log 5489527839401965432 (index 121) to leader 2
client write log 3858345006578612023 (index 122) to leader 2
client write log 5204169150626665091 (index 123) to leader 2
client write log 791865244139269622 (index 124) to leader 2
client write log 5738480077040001252 (index 125) to leader 2
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2443 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 64937 term 22 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 22 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 109} {2821005764520173419 19 110} {4567220745705024504 19 111} {5738917197869314698 19 112} {7250144538520643488 19 113} {4743552386555575545 19 114} {8919978701374745095 22 115} {2649790029123898954 22 116} {8342255171540769875 22 117} {7636102066248717020 22 118} {858658567759960996 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125}]
------------------------------------------------------
term 22 Server2 start snapshot! index=119
term 22 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=125
-------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 7777 term 22 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 22 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125}]
------------------------------------------------------
term 22 Server1 start snapshot! index=119
term 22 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1024243317760641287 (index 126) to leader 2
term 22 server 2 not vote for server 0, 日志不够新
term 22 server 1 not vote for server 0, 日志不够新
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get outdate rpc reply from server 0
flag 15893 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 30163 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 127->126
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
flag 32592 term 24 leader 2 nextIndex[1]: 126  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88146 term 24 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 24 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 19579 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 83107 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 97513 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 18499 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 47786 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 58067 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 7096 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51354 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 11698 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94365 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 42867 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 70615 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 2804 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 30208 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 33733 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63291 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 58794 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 26814 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 96 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 12117 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 83321 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45722 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 6002 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 96436 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 3848 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 93941 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 71190 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39369 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 75037 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 40741 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 70267 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
flag 8273 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 39928 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30955 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 12635 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=125
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126}]
------------------------------------------------------
client write log 1024243317760641287 (index 127) to leader 2
flag 48005 term 24 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
flag 21924 term 24 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 24 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 22 leaderCommit: 125 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61050 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 96688 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59976 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 30658 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
flag 11128 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 89075 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31471 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 68868 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34464 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 87035 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
flag 42774 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 86744 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 30391 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 74298 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 24 server 1 not vote for server 0, 任期不够新
term 24 server 0 get outdate rpc reply from server 1
flag 21789 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 49625 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 66742 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 89970 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
client write log 6481796633480783826 (index 128) to leader 0
flag 86446 term 25 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 7405 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127} {6481796633480783826 25 128}]
------------------------------------------------------
flag 3801 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 44347 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57501 term 25 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 25 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 25 leaderCommit: 128 
------------------------------------------------------
flag 39778 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127} {6481796633480783826 25 128}]
------------------------------------------------------
flag 79275 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 22134 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
client write log 6646504947082038594 (index 129) to leader 0
client write log 8764788823113592538 (index 130) to leader 0
client write log 1598287763755432424 (index 131) to leader 0
client write log 2211513000177605219 (index 132) to leader 0
client write log 8246955901558862691 (index 133) to leader 0
client write log 8950669118283523725 (index 134) to leader 0
client write log 3816301945733356564 (index 135) to leader 0
client write log 1668301045937518221 (index 136) to leader 0
client write log 4529270753840601893 (index 137) to leader 0
client write log 3547139311183733702 (index 138) to leader 0
client write log 2256536585147422990 (index 139) to leader 0
client write log 767183070141225126 (index 140) to leader 0
client write log 867948210590073782 (index 141) to leader 0
flag 9893 term 25 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 25 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 25 leaderCommit: 128 
------------------------------------------------------
flag 89630 term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 22 119} {2625654689536124949 22 120} {5489527839401965432 22 121} {3858345006578612023 22 122} {5204169150626665091 22 123} {791865244139269622 22 124} {5738480077040001252 22 125} {1024243317760641287 22 126} {1024243317760641287 24 127} {6481796633480783826 25 128} {6646504947082038594 25 129} {8764788823113592538 25 130} {1598287763755432424 25 131} {2211513000177605219 25 132} {8246955901558862691 25 133} {8950669118283523725 25 134} {3816301945733356564 25 135} {1668301045937518221 25 136} {4529270753840601893 25 137} {3547139311183733702 25 138} {2256536585147422990 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
flag 41576 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 14083 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 32696 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 Server1 start snapshot! index=129
term 25 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
flag 25325 term 24 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 7480 term 24 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 24 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
!!!!!!connect server 2
client write log 617007406829445224 (index 128) to leader 2
flag 11811 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
flag 49227 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 47727 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 68369 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 32756 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 70797 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 40587 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 32812 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 73492 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 59629 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 17507 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 26685 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 9679 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 50529 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 26252 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 46127 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 25379 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 27451 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 42294 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 90473 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 49989 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 56837 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 11222 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 17399 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 68142 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44292 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 31848 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
flag 38904 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 25085 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 60163 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 85207 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
flag 36755 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 96485 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58084 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 32325 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
flag 96491 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 141
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 2 InstallSnapshot fail
rf.commitIndex 141 args.LastIncludedIndex 139
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52092 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 58467 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141}]
------------------------------------------------------
client write log 617007406829445224 (index 142) to leader 0
flag 82714 term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 96267 term 25 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 25 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47494 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 77175 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
flag 35464 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 8553 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
flag 71358 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 97907 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
flag 21765 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 6774 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
flag 64482 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 27374 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
flag 35501 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 23510 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2151473521062267549 (index 143) to leader 0
flag 69883 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 85343 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142} {2151473521062267549 25 143}]
------------------------------------------------------
flag 96292 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 30449 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142} {2151473521062267549 25 143}]
------------------------------------------------------
client write log 2500984950855898029 (index 144) to leader 0
client write log 5129944869586738663 (index 145) to leader 0
client write log 4859220761622216513 (index 146) to leader 0
client write log 3337248827450354072 (index 147) to leader 0
client write log 7278816978930114492 (index 148) to leader 0
client write log 2650268096137681327 (index 149) to leader 0
client write log 8275280827224020085 (index 150) to leader 0
flag 90227 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 11058 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 139} {767183070141225126 25 140} {867948210590073782 25 141} {617007406829445224 25 142} {2151473521062267549 25 143} {2500984950855898029 25 144} {5129944869586738663 25 145} {4859220761622216513 25 146} {3337248827450354072 25 147} {7278816978930114492 25 148} {2650268096137681327 25 149} {8275280827224020085 25 150}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 71442 term 25 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 25 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
!!!!!!connect server 1
client write log 2881426200019234643 (index 151) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 1
flag 67394 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 11747 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 152->151
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 92829 term 27 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 4715 term 27 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 27 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 36359 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 14064 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 86654 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 98350 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 75909 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93504 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 34901 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 8542 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 95948 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89507 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 82861 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33141 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 19513 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 67115 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 78690 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 62707 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 24364 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 57961 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 83665 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74308 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 46795 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 50629 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 10056 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83108 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 36842 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 3005 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 62478 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92584 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 47451 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
flag 56140 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 71135 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47427 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 39478 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50909 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 58303 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151}]
------------------------------------------------------
client write log 2881426200019234643 (index 152) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92255 term 27 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
flag 23089 term 27 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 27 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9834 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 38842 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
flag 70126 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 64479 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
flag 13078 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 52623 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
flag 11191 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 4064 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
flag 47687 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 18630 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3425055043335144434 (index 153) to leader 0
flag 56657 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
flag 99773 term 27 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 152 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152} {3425055043335144434 27 153}]
------------------------------------------------------
flag 73238 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 32221 term 27 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 27 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152} {3425055043335144434 27 153}]
------------------------------------------------------
client write log 4957596792112447776 (index 154) to leader 0
client write log 4899515422845799340 (index 155) to leader 0
client write log 3973040579851745292 (index 156) to leader 0
client write log 2353574541414129078 (index 157) to leader 0
client write log 2682253884215857217 (index 158) to leader 0
client write log 6391341099864149310 (index 159) to leader 0
client write log 8786631257925578603 (index 160) to leader 0
client write log 4109867162163914329 (index 161) to leader 0
client write log 1033180348203838129 (index 162) to leader 0
client write log 4694221535702212765 (index 163) to leader 0
client write log 4556001537414415703 (index 164) to leader 0
client write log 2434329585946120298 (index 165) to leader 0
client write log 3186103055550198174 (index 166) to leader 0
client write log 3189399960939565362 (index 167) to leader 0
flag 21950 term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 64267 term 27 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 27 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 149} {8275280827224020085 25 150} {2881426200019234643 25 151} {2881426200019234643 27 152} {3425055043335144434 27 153} {4957596792112447776 27 154} {4899515422845799340 27 155} {3973040579851745292 27 156} {2353574541414129078 27 157} {2682253884215857217 27 158} {6391341099864149310 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=167
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 10676 term 27 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 27 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167}]
------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1092259228117534162 (index 168) to leader 0
term 27 server 2 not vote for server 1, 日志不够新
term 27 server 0 not vote for server 1, 日志不够新
term 29 server 2 vote for server 0
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 0 get outdate rpc reply from server 1
flag 18576 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 98516 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 98314 term 29 leader 0 nextIndex[2]: 168  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3437 term 29 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 29 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 38258 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 68366 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 68545 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 65244 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 42913 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 95418 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 46535 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 64893 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 46653 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 95229 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 28174 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 82276 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 32738 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 15832 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 54291 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 29589 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 79847 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 26142 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 52948 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 75578 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 52266 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 96672 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 74947 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 88671 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 66016 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 65452 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 40761 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49370 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 39723 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 62849 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 47750 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 38050 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 28334 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
flag 53732 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 54110 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=167
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168}]
------------------------------------------------------
client write log 1092259228117534162 (index 169) to leader 0
flag 80408 term 29 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
flag 54124 term 29 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 27 leaderCommit: 167 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168} {1092259228117534162 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 27 159} {8786631257925578603 27 160} {4109867162163914329 27 161} {1033180348203838129 27 162} {4694221535702212765 27 163} {4556001537414415703 27 164} {2434329585946120298 27 165} {3186103055550198174 27 166} {3189399960939565362 27 167} {1092259228117534162 27 168} {1092259228117534162 29 169}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 55015 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 31014 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 86548 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 46252 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 5278 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 79052 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 32213 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 84424 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
flag 67886 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 57440 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 61996 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 18685 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 96787 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 53114 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 54485 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 1313 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
flag 33401 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 9300 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
client write log 4042961514371272392 (index 170) to leader 1
flag 88496 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 16208 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 69592 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 66627 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {4042961514371272392 30 170}]
------------------------------------------------------
flag 13514 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 48078 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 92546 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 73503 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 29 169} {4042961514371272392 30 170}]
------------------------------------------------------
client write log 8705610794988827486 (index 171) to leader 1
client write log 3099199771198954070 (index 172) to leader 1
client write log 3229823972442751246 (index 173) to leader 1
client write log 8614224860593526176 (index 174) to leader 1
client write log 2764825461078821119 (index 175) to leader 1
client write log 5193987812075036003 (index 176) to leader 1
client write log 3299539714424744888 (index 177) to leader 1
flag 7737 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 4755 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 82749 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 74794 term 30 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 30 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 30 leaderCommit: 170 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177}]
------------------------------------------------------
flag 45176 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 68279 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 38573 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 87449 term 30 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3125654324932669237 (index 178) to leader 1
flag 79657 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
flag 40485 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 1 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21336 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 177 
------------------------------------------------------
flag 97503 term 30 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 30 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
flag 91086 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 94691 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79909 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 18516 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
flag 19998 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 21215 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77833 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 61411 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 179->178
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 30 leader 1 nextIndex[0]: 0  matchIndex[0]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 6507 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178}]
------------------------------------------------------
term 30 server 0 InstallSnapshot fail
rf.commitIndex 178 args.LastIncludedIndex 169
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 4009288340140580839 (index 179) to leader 1
flag 48149 term 30 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 178 
------------------------------------------------------
flag 44635 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 169} {4042961514371272392 30 170} {8705610794988827486 30 171} {3099199771198954070 30 172} {3229823972442751246 30 173} {8614224860593526176 30 174} {2764825461078821119 30 175} {5193987812075036003 30 176} {3299539714424744888 30 177} {3125654324932669237 30 178} {4009288340140580839 30 179}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 21321 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
client write log 9218238323439293288 (index 180) to leader 1
client write log 3071577273918565204 (index 181) to leader 1
client write log 2113701268653152180 (index 182) to leader 1
client write log 2468706142763335356 (index 183) to leader 1
client write log 2133976116572980309 (index 184) to leader 1
client write log 4719151397621702417 (index 185) to leader 1
client write log 2828590920294424481 (index 186) to leader 1
client write log 3393567771077183273 (index 187) to leader 1
client write log 2681210818030847218 (index 188) to leader 1
client write log 6949420461368313194 (index 189) to leader 1
client write log 3283375455859780797 (index 190) to leader 1
client write log 5812911319431244490 (index 191) to leader 1
client write log 242285106846005136 (index 192) to leader 1
client write log 4406739425626582748 (index 193) to leader 1
client write log 3963332100526411001 (index 194) to leader 1
flag 31340 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 179} {9218238323439293288 30 180} {3071577273918565204 30 181} {2113701268653152180 30 182} {2468706142763335356 30 183} {2133976116572980309 30 184} {4719151397621702417 30 185} {2828590920294424481 30 186} {3393567771077183273 30 187} {2681210818030847218 30 188} {6949420461368313194 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=194
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 195->194
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
term 30 leader 1 nextIndex[0]: 0  matchIndex[0]: 194
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
flag 64068 term 30 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3387478232144463686 (index 195) to leader 1
flag 52447 term 30 leader 1 nextIndex[0]: 195  matchIndex[0]: 194
term 30 leader 1 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 178
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 0 vote for server 1
term 32 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90684 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 97756 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 196->195
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 74910 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 179  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 0
flag 65305 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 88725 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 89248 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 72631 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73693 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 77278 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 87572 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 4371 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 71230 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 37320 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2003 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 25973 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 1743 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 59853 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87900 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 26314 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 80559 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 16085 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 77478 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 45389 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 22952 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 13591 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 28229 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 94897 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68899 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 32271 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 29074 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 55035 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 99843 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 47635 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
flag 98478 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 61196 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90492 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 89681 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
client write log 3387478232144463686 (index 196) to leader 1
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
flag 60513 term 32 leader 1 nextIndex[0]: 196  matchIndex[0]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
flag 31142 term 32 leader 1 nextIndex[2]: 196  matchIndex[2]: 195
term 32 leader 1 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 30 leaderCommit: 194 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60695 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 68917 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88101 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 12501 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 1 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9273 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 59494 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12071 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 84522 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
flag 48522 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 59609 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52629 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 63524 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 193172394955788078 (index 197) to leader 1
flag 65398 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
flag 79369 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196} {193172394955788078 32 197}]
------------------------------------------------------
flag 69261 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 92969 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196} {193172394955788078 32 197}]
------------------------------------------------------
client write log 7480998323081423513 (index 198) to leader 1
client write log 2351061370412806912 (index 199) to leader 1
client write log 304923346870811778 (index 200) to leader 1
client write log 7700587269484562533 (index 201) to leader 1
client write log 6498303844520879872 (index 202) to leader 1
client write log 8812787226891501957 (index 203) to leader 1
client write log 4960886498616367520 (index 204) to leader 1
client write log 4477834638619723722 (index 205) to leader 1
client write log 6530188353178335371 (index 206) to leader 1
client write log 7019823852647911211 (index 207) to leader 1
client write log 6591216471162335644 (index 208) to leader 1
client write log 3329200932581392124 (index 209) to leader 1
client write log 4772261524638040564 (index 210) to leader 1
client write log 6322439677728723739 (index 211) to leader 1
flag 4026 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
flag 25179 term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 30 189} {3283375455859780797 30 190} {5812911319431244490 30 191} {242285106846005136 30 192} {4406739425626582748 30 193} {3963332100526411001 30 194} {3387478232144463686 30 195} {3387478232144463686 32 196} {193172394955788078 32 197} {7480998323081423513 32 198} {2351061370412806912 32 199} {304923346870811778 32 200} {7700587269484562533 32 201} {6498303844520879872 32 202} {8812787226891501957 32 203} {4960886498616367520 32 204} {4477834638619723722 32 205} {6530188353178335371 32 206} {7019823852647911211 32 207} {6591216471162335644 32 208} {3329200932581392124 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211}]
------------------------------------------------------
term 32 Server1 start snapshot! index=199
term 32 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=211
-------------------------------------------------------------
term 32 Server1 start snapshot! index=209
term 32 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
flag 72504 term 32 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 32 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 197  matchIndex[2]: 196
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=211
-------------------------------------------------------------
term 32 Server0 start snapshot! index=209
term 32 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1521568434117145206 (index 212) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 0 not vote for server 2, 日志不够新
term 34 server 2 vote for server 1
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 1 get outdate rpc reply from server 0
flag 43071 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 42184 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
flag 7430 term 34 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 197  matchIndex[2]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 32 rf.commitIndex 209 rf.lastApplied 209
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 34172 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 82168 term 34 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 34 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 49306 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 67907 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 3094 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 94631 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 46619 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 42178 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8933 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 93564 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 22051 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 41604 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11467 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 27677 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75848 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 10005 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 11440 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 73426 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 90982 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 89094 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79169 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 64282 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 85771 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 32642 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86873 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 97009 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 18683 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 68303 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 28241 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 65948 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
flag 23507 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 71618 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83151 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 91220 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212}]
------------------------------------------------------
client write log 1521568434117145206 (index 213) to leader 1
flag 71415 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
flag 87378 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 32 leaderCommit: 211 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
flag 99566 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 48057 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
flag 8846 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 67993 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
flag 13069 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 5243 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
flag 29858 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 95354 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
flag 27230 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 97415 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 44469 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 65382 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 40482 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 39142 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 17 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 96709 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 0
term 35 server 2 become leader
------------------------------------------------------
flag 16550 term 35 leader 2 nextIndex[0]: 214  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 4283 term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213}]
------------------------------------------------------
client write log 7696532929264494887 (index 214) to leader 2
flag 12193 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 72234 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 69857 term 35 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 52325 term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213} {7696532929264494887 35 214}]
------------------------------------------------------
flag 49761 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 40951 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 19208 term 35 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 83866 term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213} {7696532929264494887 35 214}]
------------------------------------------------------
client write log 8380242420790474977 (index 215) to leader 2
client write log 6990209687725934142 (index 216) to leader 2
client write log 6592342190281112997 (index 217) to leader 2
client write log 5665871510294224001 (index 218) to leader 2
client write log 1753812489076050208 (index 219) to leader 2
client write log 6532916007668011438 (index 220) to leader 2
flag 69310 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 52082 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
flag 58310 term 35 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 35 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 68125 term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 32 209} {4772261524638040564 32 210} {6322439677728723739 32 211} {1521568434117145206 32 212} {1521568434117145206 34 213} {7696532929264494887 35 214} {8380242420790474977 35 215} {6990209687725934142 35 216} {6592342190281112997 35 217} {5665871510294224001 35 218} {1753812489076050208 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 213
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 82756 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 87479 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5146941745149562054 (index 214) to leader 1
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 213
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 32
------------------------------------------------------
flag 40325 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49465 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 34910 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 65447 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 15994 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 86218 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 73742 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 43161 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66994 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 76006 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 37645 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 89609 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 23425 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 26186 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
------------------------------------------------------
flag 76171 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 220
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 220 args.LastIncludedIndex 219
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
flag 30860 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 219
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 220 args.LastIncludedIndex 219
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 20115 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 53708 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 72649 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 26594 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 83810 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 29487 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18744 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 84585 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 1 not vote for server 2, 日志不够新
term 35 server 2 get outdate rpc reply from server 1
flag 40609 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 38283 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 72486 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 96944 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 26247 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 26698 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4515 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 25864 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 84247 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 52616 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
flag 2117 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 22824 term 35 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
flag 79361 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 220
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 InstallSnapshot fail
rf.commitIndex 220 args.LastIncludedIndex 219
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 35 219} {6532916007668011438 35 220}]
------------------------------------------------------
client write log 5146941745149562054 (index 221) to leader 2
flag 18827 term 35 leader 2 nextIndex[0]: 221  matchIndex[0]: 220
term 35 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
flag 18506 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 220 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63775 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 19014 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
flag 86278 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 54075 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35909 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 74317 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67498 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 64044 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 68518 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 89310 term 35 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 35 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
flag 41876 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 60 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2631693732092407899 (index 222) to leader 2
flag 50680 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
flag 36804 term 35 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 221 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221} {2631693732092407899 35 222}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17030 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
flag 89909 term 35 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 35 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221} {2631693732092407899 35 222}]
------------------------------------------------------
client write log 1045086046557183903 (index 223) to leader 2
client write log 1922047592258189248 (index 224) to leader 2
client write log 5582133989174123154 (index 225) to leader 2
client write log 4808204561960046565 (index 226) to leader 2
client write log 767334836112713397 (index 227) to leader 2
client write log 7173706596329514734 (index 228) to leader 2
client write log 6730661725286803738 (index 229) to leader 2
client write log 8200326416789414615 (index 230) to leader 2
client write log 4500645615025269147 (index 231) to leader 2
client write log 494519521302998712 (index 232) to leader 2
client write log 716935968695683228 (index 233) to leader 2
client write log 616151159887148121 (index 234) to leader 2
client write log 6100071999275823125 (index 235) to leader 2
client write log 4055240929636360542 (index 236) to leader 2
flag 59837 term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
flag 33547 term 35 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 35 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 219} {6532916007668011438 35 220} {5146941745149562054 35 221} {2631693732092407899 35 222} {1045086046557183903 35 223} {1922047592258189248 35 224} {5582133989174123154 35 225} {4808204561960046565 35 226} {767334836112713397 35 227} {7173706596329514734 35 228} {6730661725286803738 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236}]
------------------------------------------------------
term 35 Server2 start snapshot! index=229
term 35 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
term 35 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 91303 term 35 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 35 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236}]
------------------------------------------------------
term 35 Server1 start snapshot! index=229
term 35 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8649415439589281698 (index 237) to leader 2
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 75369 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 51621 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 238->237
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 238->237
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 90974 term 37 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 InstallSnapshot success
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
flag 51005 term 37 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 37 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 24950 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 58194 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 34364 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91778 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 79526 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 67046 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 20188 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 55837 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 52416 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 5440 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 37137 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85869 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 16923 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 65002 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 97528 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22018 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 59090 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 35083 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 80472 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40024 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 18188 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 11814 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 24529 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 8873 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 880 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 29147 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 78681 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 10494 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 69096 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65747 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 16469 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 70245 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 23666 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
flag 35034 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 66992 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=236
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237}]
------------------------------------------------------
client write log 8649415439589281698 (index 238) to leader 2
flag 38885 term 37 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
flag 37722 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 35 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
flag 88459 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 15477 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
flag 49099 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 5651 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
flag 78901 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 15712 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
flag 99214 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 9111 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
flag 35238 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 17264 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 329772693866810758 (index 239) to leader 2
flag 37768 term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
flag 89059 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 35 229} {8200326416789414615 35 230} {4500645615025269147 35 231} {494519521302998712 35 232} {716935968695683228 35 233} {616151159887148121 35 234} {6100071999275823125 35 235} {4055240929636360542 35 236} {8649415439589281698 35 237} {8649415439589281698 37 238} {329772693866810758 37 239}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 73395 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
client write log 3040846215860731314 (index 240) to leader 2
client write log 1116196180970838872 (index 241) to leader 2
client write log 1209231139350022865 (index 242) to leader 2
client write log 4956061972616519335 (index 243) to leader 2
client write log 8607018778674902136 (index 244) to leader 2
client write log 8562196770200044520 (index 245) to leader 2
client write log 8118961142087419157 (index 246) to leader 2
client write log 1801756730156633747 (index 247) to leader 2
client write log 4410890111205947264 (index 248) to leader 2
client write log 2069960564669266378 (index 249) to leader 2
client write log 1695151828914670077 (index 250) to leader 2
client write log 453960340270881091 (index 251) to leader 2
client write log 3990593934229445822 (index 252) to leader 2
client write log 1618413667161081919 (index 253) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 22093 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 37 239} {3040846215860731314 37 240} {1116196180970838872 37 241} {1209231139350022865 37 242} {4956061972616519335 37 243} {8607018778674902136 37 244} {8562196770200044520 37 245} {8118961142087419157 37 246} {1801756730156633747 37 247} {4410890111205947264 37 248} {2069960564669266378 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253}]
------------------------------------------------------
term 37 Server2 start snapshot! index=249
term 37 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=253
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 85410 term 37 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 37 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253}]
------------------------------------------------------
term 37 Server1 start snapshot! index=249
term 37 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=253
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7347153256269996930 (index 254) to leader 2
term 37 leader 2 nextIndex[0]: 239  matchIndex[0]: 238
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 56613 term 37 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 37 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 37 leaderCommit: 253 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 22076 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 73307 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 255->254
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 239  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 37
------------------------------------------------------
flag 92965 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 37 rf.commitIndex 249 rf.lastApplied 249
flag 25805 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 66949 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 46426 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 31211 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 75796 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 14826 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 59311 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 18780 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 82882 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 19205 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 85639 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 48655 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
flag 50867 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 68461 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
term 39 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 75551 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 84050 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 51834 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 29857 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19880 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 46179 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
flag 27493 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 47735 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
client write log 8196578145881951067 (index 255) to leader 1
flag 44596 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 96712 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 97568 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 40265 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255}]
------------------------------------------------------
flag 78454 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 64459 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 6158 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 48768 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255}]
------------------------------------------------------
client write log 1752991898823421333 (index 256) to leader 1
flag 49295 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 77851 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 34736 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 43188 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256}]
------------------------------------------------------
flag 99904 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 63231 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65510 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 14353 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6235036336345777966 (index 257) to leader 1
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79591 term 39 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
flag 70981 term 39 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 39 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 254 
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14036 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 59199 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 37 leaderCommit: 256 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
flag 58058 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 27981 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
flag 92669 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 51800 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
flag 9315 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 60202 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
flag 62213 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 37823 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70765 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 24925 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
flag 79312 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 50809 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3971687069545203858 (index 258) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57979 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 70343 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257} {3971687069545203858 40 258}]
------------------------------------------------------
flag 10564 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 99848 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257} {3971687069545203858 40 258}]
------------------------------------------------------
client write log 5456197872654841697 (index 259) to leader 1
client write log 5151062852617145160 (index 260) to leader 1
client write log 4963639061403820110 (index 261) to leader 1
client write log 1427340335785030810 (index 262) to leader 1
client write log 7351041730782300670 (index 263) to leader 1
client write log 6246384537603622621 (index 264) to leader 1
client write log 2434515431041167602 (index 265) to leader 1
client write log 5574426500255598047 (index 266) to leader 1
client write log 2918989332186209522 (index 267) to leader 1
client write log 7230612824700329149 (index 268) to leader 1
client write log 5844631709273740530 (index 269) to leader 1
client write log 9152542721551206339 (index 270) to leader 1
flag 80724 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 8916 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 37 249} {1695151828914670077 37 250} {453960340270881091 37 251} {3990593934229445822 37 252} {1618413667161081919 37 253} {7347153256269996930 37 254} {8196578145881951067 40 255} {1752991898823421333 40 256} {6235036336345777966 40 257} {3971687069545203858 40 258} {5456197872654841697 40 259} {5151062852617145160 40 260} {4963639061403820110 40 261} {1427340335785030810 40 262} {7351041730782300670 40 263} {6246384537603622621 40 264} {2434515431041167602 40 265} {5574426500255598047 40 266} {2918989332186209522 40 267} {7230612824700329149 40 268} {5844631709273740530 40 269} {9152542721551206339 40 270}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=270
-------------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13881 term 40 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=270
-------------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
!!!!!!connect server 2
client write log 636740353404181212 (index 271) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 0 not vote for server 2, 日志不够新
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 62590 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 37234 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 272->271
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 272->271
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88127 term 42 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 40 rf.commitIndex 269 rf.lastApplied 269
flag 58865 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 71451 term 42 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 45946 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 82235 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93095 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 76683 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 11559 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 7297 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72850 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 60215 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 21355 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 74810 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11146 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 50806 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 85549 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 11262 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32847 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 36563 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 31233 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 48216 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 96114 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 68000 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53003 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 76544 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21157 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 18518 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 5532 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 85164 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 41105 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 72831 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 71784 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 42479 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
flag 97091 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 82040 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271}]
------------------------------------------------------
client write log 636740353404181212 (index 272) to leader 1
flag 48456 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 83942 term 42 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87557 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 77487 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
flag 47414 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 20534 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
flag 80720 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 52296 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
flag 26410 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 2089 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 32271 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 71263 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45729 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 55184 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6804623383104676926 (index 273) to leader 1
flag 27147 term 42 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
flag 19620 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 272 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272} {6804623383104676926 42 273}]
------------------------------------------------------
flag 64486 term 42 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 42 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 17351 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272} {6804623383104676926 42 273}]
------------------------------------------------------
client write log 4781268825050967726 (index 274) to leader 1
client write log 6793103083947964421 (index 275) to leader 1
client write log 812384052950950386 (index 276) to leader 1
client write log 9212908247105938494 (index 277) to leader 1
client write log 3631443029233664366 (index 278) to leader 1
client write log 4205126278834434216 (index 279) to leader 1
client write log 175604660666701845 (index 280) to leader 1
client write log 2468209224750557807 (index 281) to leader 1
client write log 7171852441482275665 (index 282) to leader 1
client write log 4295598000991108429 (index 283) to leader 1
client write log 7006113829420931885 (index 284) to leader 1
client write log 4057892616292019800 (index 285) to leader 1
client write log 6527442494139050305 (index 286) to leader 1
flag 56228 term 42 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 42 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
flag 89716 term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 273 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 40 269} {9152542721551206339 40 270} {636740353404181212 40 271} {636740353404181212 42 272} {6804623383104676926 42 273} {4781268825050967726 42 274} {6793103083947964421 42 275} {812384052950950386 42 276} {9212908247105938494 42 277} {3631443029233664366 42 278} {4205126278834434216 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286}]
------------------------------------------------------
term 42 Server1 start snapshot! index=279
term 42 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67864 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286}]
------------------------------------------------------
term 42 Server0 start snapshot! index=279
term 42 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4395626700294081147 (index 287) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
flag 8640 term 42 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 42 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 272
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 41692 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 69054 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
flag 85054 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 42 rf.commitIndex 279 rf.lastApplied 279
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 68070 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 4358 term 44 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 44 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40405 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 26752 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 24939 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 47960 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 53923 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 46178 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79367 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 27648 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 64673 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 11705 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65671 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 89149 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 73836 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 76755 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50368 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 49852 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 53903 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 51615 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 76045 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 81092 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 69140 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 15498 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 81556 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 74530 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 47956 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 99624 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 75346 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 5452 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25616 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 40580 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
flag 5592 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 53035 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287}]
------------------------------------------------------
client write log 4395626700294081147 (index 288) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66525 term 44 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
flag 2862 term 44 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 44 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 42 leaderCommit: 286 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
flag 94016 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 66197 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
flag 48810 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 92713 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
term 44 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53778 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 63139 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
term 44 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
flag 23948 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 35918 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
flag 46101 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 85980 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 76703 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 2181 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 31436 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 84921 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 9130 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 67673 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 34603 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 19104 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
flag 17393 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 47861 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288}]
------------------------------------------------------
client write log 6431561406357731258 (index 289) to leader 0
flag 61476 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 36268 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 57967 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 75139 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 279} {175604660666701845 42 280} {2468209224750557807 42 281} {7171852441482275665 42 282} {4295598000991108429 42 283} {7006113829420931885 42 284} {4057892616292019800 42 285} {6527442494139050305 42 286} {4395626700294081147 42 287} {4395626700294081147 44 288} {6431561406357731258 45 289}]
------------------------------------------------------
term 45 Server0 start snapshot! index=289
term 45 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 74168 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 29084 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 63203 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 289 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 289}]
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 2130287702850935093 (index 290) to leader 0
flag 78499 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 82568 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 72976 term 45 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 289 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 42671 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 79915 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 15854 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
!!!!!!connect server 1
client write log 439898697125009656 (index 289) to leader 1
flag 1695 term 44 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
flag 58994 term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 44 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 44 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 65359 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 45 rf.commitIndex 289 rf.lastApplied 289
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 77691 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 15263 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 74247 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 40190 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 4219 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 98336 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38985 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 4388 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 62879 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 50166 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 2323 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 94850 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 54077 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 77562 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
update nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 37915 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 38417 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98163 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 12108 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 79389 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 86360 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 50617 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 92913 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 69031 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 91215 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 53781 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 8510 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70641 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 2516 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 26009 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 80763 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 81823 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 80080 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 960 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 64599 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 41408 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 71668 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
flag 87830 term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 37780 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 45 289} {2130287702850935093 45 290}]
------------------------------------------------------
client write log 439898697125009656 (index 291) to leader 0
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 85643 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
flag 55961 term 45 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 45 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 45 leaderCommit: 290 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96962 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 66445 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63445 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 98953 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
flag 38752 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 53179 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
flag 95888 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 5508 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99238 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 69643 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 647373353324982246 (index 292) to leader 0
flag 65859 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 10652 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291} {647373353324982246 45 292}]
------------------------------------------------------
flag 80300 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
flag 36912 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291} {647373353324982246 45 292}]
------------------------------------------------------
client write log 2691196874311914829 (index 293) to leader 0
client write log 9183668050745623211 (index 294) to leader 0
client write log 9057351110050594182 (index 295) to leader 0
client write log 3210358969123760921 (index 296) to leader 0
client write log 3997110123879863370 (index 297) to leader 0
client write log 4005864969588465064 (index 298) to leader 0
client write log 3880593898663823773 (index 299) to leader 0
client write log 8041881068452767348 (index 300) to leader 0
client write log 3514653960107432668 (index 301) to leader 0
client write log 8002911623001115560 (index 302) to leader 0
client write log 5392820370113919056 (index 303) to leader 0
client write log 8356455135318774517 (index 304) to leader 0
flag 44852 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
flag 76004 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 45 289} {2130287702850935093 45 290} {439898697125009656 45 291} {647373353324982246 45 292} {2691196874311914829 45 293} {9183668050745623211 45 294} {9057351110050594182 45 295} {3210358969123760921 45 296} {3997110123879863370 45 297} {4005864969588465064 45 298} {3880593898663823773 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304}]
------------------------------------------------------
term 45 Server0 start snapshot! index=299
term 45 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 91477 term 45 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 45 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 72451 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304}]
------------------------------------------------------
term 45 Server2 start snapshot! index=299
term 45 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 1
client write log 91210567518828492 (index 305) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 299
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 24318 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 1 vote for server 0
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 1
flag 13007 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 11910 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 306->305
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 58778 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 45 rf.commitIndex 299 rf.lastApplied 299
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 12185 term 47 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 47 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 63974 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 8001 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 1138 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 76435 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 41749 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 66109 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 30541 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 65009 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 97822 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69236 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 66691 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96167 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 10684 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 13947 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 46708 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73554 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 10793 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 24113 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 62730 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 59677 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 32233 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8163 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 46459 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 33946 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 27579 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 20375 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 25340 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8364 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 18881 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22653 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 90525 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
flag 52000 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 38012 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305}]
------------------------------------------------------
client write log 91210567518828492 (index 306) to leader 0
flag 28652 term 47 leader 0 nextIndex[1]: 306  matchIndex[1]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 24686 term 47 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 47 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87591 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 52214 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52238 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 34996 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
flag 45300 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 33827 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
flag 82815 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 13521 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
flag 19383 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 80927 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8736681851840332960 (index 307) to leader 0
flag 99754 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 42883 term 47 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306} {8736681851840332960 47 307}]
------------------------------------------------------
flag 46689 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 86736 term 47 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 47 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306} {8736681851840332960 47 307}]
------------------------------------------------------
client write log 2429318647716340321 (index 308) to leader 0
client write log 4029609865443985681 (index 309) to leader 0
client write log 3194687653021978800 (index 310) to leader 0
client write log 3255155596764867644 (index 311) to leader 0
client write log 8379410881718811307 (index 312) to leader 0
client write log 1756566729187611679 (index 313) to leader 0
client write log 862078003352150642 (index 314) to leader 0
flag 85358 term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
flag 56295 term 47 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 47 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 45 299} {8041881068452767348 45 300} {3514653960107432668 45 301} {8002911623001115560 45 302} {5392820370113919056 45 303} {8356455135318774517 45 304} {91210567518828492 45 305} {91210567518828492 47 306} {8736681851840332960 47 307} {2429318647716340321 47 308} {4029609865443985681 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314}]
------------------------------------------------------
term 47 Server0 start snapshot! index=309
term 47 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 77298 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314}]
------------------------------------------------------
term 47 Server2 start snapshot! index=309
term 47 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2731154300381935721 (index 315) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 90444 term 47 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 47 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 48 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 2 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 2
flag 50787 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 43776 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 316->315
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 92286 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 47 rf.commitIndex 309 rf.lastApplied 309
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 49553 term 49 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 49 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 83083 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 24155 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 23580 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 79113 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 88527 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 52305 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 66485 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76292 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 22222 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 36428 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 45904 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 84363 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 89675 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 5203 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 7514 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 14271 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 18170 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 65763 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 59430 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 12570 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 96203 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 19656 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 69365 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 4418 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 22545 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
update nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 29962 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 58741 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 11313 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 29438 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 77065 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 64316 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
flag 41023 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 38521 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315}]
------------------------------------------------------
client write log 2731154300381935721 (index 316) to leader 0
flag 58938 term 49 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
flag 61129 term 49 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 49 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 47 leaderCommit: 314 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
flag 61493 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 75473 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
flag 26171 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 84111 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
flag 57785 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 17067 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
flag 51571 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 30511 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89450 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 771 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
flag 47131 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 68129 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
!!!!!!diconnect server 0
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 31187 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 10753 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 89208 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 17999 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 95189 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 27524 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
flag 42074 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 74328 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316}]
------------------------------------------------------
client write log 598845682012093707 (index 317) to leader 1
flag 80021 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 88352 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 77811 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 30230 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316} {598845682012093707 50 317}]
------------------------------------------------------
flag 30344 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 68976 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84517 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 317 
------------------------------------------------------
flag 88027 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316} {598845682012093707 50 317}]
------------------------------------------------------
client write log 62348934935509193 (index 318) to leader 1
client write log 4447251285214074897 (index 319) to leader 1
client write log 5276619687601597025 (index 320) to leader 1
client write log 6527001956146040705 (index 321) to leader 1
client write log 7179592006318467321 (index 322) to leader 1
client write log 5662758763299514460 (index 323) to leader 1
client write log 7164945960900956413 (index 324) to leader 1
client write log 44746059696156818 (index 325) to leader 1
client write log 389115841770667867 (index 326) to leader 1
client write log 100126970919865957 (index 327) to leader 1
client write log 2031286227552431355 (index 328) to leader 1
client write log 8368094388726542910 (index 329) to leader 1
client write log 2566029520626769196 (index 330) to leader 1
client write log 6380109596044725023 (index 331) to leader 1
flag 654 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 23066 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67062 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 317 
------------------------------------------------------
flag 19283 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 309} {3194687653021978800 47 310} {3255155596764867644 47 311} {8379410881718811307 47 312} {1756566729187611679 47 313} {862078003352150642 47 314} {2731154300381935721 47 315} {2731154300381935721 49 316} {598845682012093707 50 317} {62348934935509193 50 318} {4447251285214074897 50 319} {5276619687601597025 50 320} {6527001956146040705 50 321} {7179592006318467321 50 322} {5662758763299514460 50 323} {7164945960900956413 50 324} {44746059696156818 50 325} {389115841770667867 50 326} {100126970919865957 50 327} {2031286227552431355 50 328} {8368094388726542910 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331}]
------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=331
-------------------------------------------------------------
term 50 Server1 start snapshot! index=329
term 50 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
flag 75193 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 34063 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 67816 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331}]
------------------------------------------------------
term 50 Server2 start snapshot! index=319
term 50 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=331
-------------------------------------------------------------
term 50 Server2 start snapshot! index=329
term 50 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4526739684724226742 (index 332) to leader 1
flag 50203 term 49 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
flag 31002 term 49 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 49 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 49 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 10779 term 50 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 50 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 50 leaderCommit: 331 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 50 rf.commitIndex 329 rf.lastApplied 329
flag 48848 term 50 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 88000 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93416 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 64717 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 42098 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 93331 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96907 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 55657 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
term 50 server 0 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 0
flag 12131 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 90189 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17767 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 64867 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2641730053245262077 (index 333) to leader 1
flag 48303 term 50 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 93742 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332} {2641730053245262077 50 333}]
------------------------------------------------------
flag 38197 term 50 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
flag 60170 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332} {2641730053245262077 50 333}]
------------------------------------------------------
client write log 4520061035104158421 (index 334) to leader 1
client write log 1378539843788301721 (index 335) to leader 1
client write log 1194960854152358816 (index 336) to leader 1
client write log 457946483518081733 (index 337) to leader 1
client write log 1466897533826410673 (index 338) to leader 1
client write log 5464748207353074048 (index 339) to leader 1
client write log 6882711903640956135 (index 340) to leader 1
client write log 5120697713316297578 (index 341) to leader 1
client write log 82088167032069155 (index 342) to leader 1
client write log 3785873388119948875 (index 343) to leader 1
client write log 4810364104308885201 (index 344) to leader 1
client write log 6598460511536875687 (index 345) to leader 1
client write log 6837239880855918101 (index 346) to leader 1
client write log 3305317827735037458 (index 347) to leader 1
flag 27585 term 50 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 50 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
flag 40449 term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 50 329} {2566029520626769196 50 330} {6380109596044725023 50 331} {4526739684724226742 50 332} {2641730053245262077 50 333} {4520061035104158421 50 334} {1378539843788301721 50 335} {1194960854152358816 50 336} {457946483518081733 50 337} {1466897533826410673 50 338} {5464748207353074048 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=347
-------------------------------------------------------------
flag 87269 term 50 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 50 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 348->347
------------------------------------------------------
term 50 Server0 start snapshot! index=339
term 50 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=347
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4404747112964532374 (index 348) to leader 1
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 85908 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 141 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 349->348
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 349->348
------------------------------------------------------
flag 77627 term 52 leader 1 nextIndex[0]: 348  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 32539 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 1507 term 52 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 52 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95802 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 69722 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 82964 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 83138 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 35899 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 25922 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42276 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 2064 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 63395 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 52098 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 91920 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 97687 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 9756 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 99645 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 78379 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 80514 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 65303 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 75328 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 77350 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 17005 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46511 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 70870 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79476 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 24319 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 84994 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 71449 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 88742 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 98924 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 41269 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 89181 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25933 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 48198 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
flag 59971 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 19816 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=347
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348}]
------------------------------------------------------
client write log 4404747112964532374 (index 349) to leader 1
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93118 term 52 leader 1 nextIndex[0]: 349  matchIndex[0]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
flag 64684 term 52 leader 1 nextIndex[2]: 349  matchIndex[2]: 348
term 52 leader 1 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 50 leaderCommit: 347 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:347 
term 52 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348} {4404747112964532374 52 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 50 339} {6882711903640956135 50 340} {5120697713316297578 50 341} {82088167032069155 50 342} {3785873388119948875 50 343} {4810364104308885201 50 344} {6598460511536875687 50 345} {6837239880855918101 50 346} {3305317827735037458 50 347} {4404747112964532374 50 348} {4404747112964532374 52 349}]
------------------------------------------------------
term 52 Server1 start snapshot! index=349
term 52 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99727 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 1899 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 Server2 start snapshot! index=349
term 52 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 52 Server0 start snapshot! index=349
term 52 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15924 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 87529 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 69375 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 8354 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 5308 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 3434 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 5357 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 44701 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
flag 67664 term 52 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
flag 4506 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 52 leaderCommit: 349 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=350
update matchIndex[0]=349
update leader CommitIndex=349
leader log:
[{snapshot 52 349}]
------------------------------------------------------
  ... Passed --  77.2  3 1761  743277  349
--- PASS: TestSnapshotInstall2D (77.19s)
PASS
