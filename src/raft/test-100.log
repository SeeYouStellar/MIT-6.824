=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
flag 26548 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 35837 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3564942735317508105 (index 1) to leader 2
flag 16227 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 96961 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
flag 58868 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10103 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
flag 74914 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89612 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
flag 51359 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1315 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
flag 36944 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24660 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
flag 53127 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 11168 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3564942735317508105 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7019800001187585410 (index 2) to leader 2
flag 21173 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36376 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3564942735317508105 1 1} {7019800001187585410 1 2}]
------------------------------------------------------
flag 10278 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 70956 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3564942735317508105 1 1} {7019800001187585410 1 2}]
------------------------------------------------------
client write log 6589465524273896435 (index 3) to leader 2
client write log 7348903134486276923 (index 4) to leader 2
client write log 6042445344688639861 (index 5) to leader 2
client write log 4371868121621239771 (index 6) to leader 2
client write log 1464686865719349455 (index 7) to leader 2
client write log 5542675766846174155 (index 8) to leader 2
client write log 6829705120621270543 (index 9) to leader 2
client write log 6915251627108019082 (index 10) to leader 2
flag 39217 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 93280 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {3564942735317508105 1 1} {7019800001187585410 1 2} {6589465524273896435 1 3} {7348903134486276923 1 4} {6042445344688639861 1 5} {4371868121621239771 1 6} {1464686865719349455 1 7} {5542675766846174155 1 8} {6829705120621270543 1 9} {6915251627108019082 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7566 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4507969286984105815 (index 11) to leader 2
term 1 server 1 not vote for server 0, 日志不够新
term 1 server 2 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 92339 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 46314 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54672 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75980 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41983 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 59688 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 9242 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20566 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 14832 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 7619 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 72017 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 64034 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 39991 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 88901 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 34265 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 71031 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 70860 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 93458 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 60374 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 34488 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 81980 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 44265 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 21385 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 44023 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 33534 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 85374 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 89092 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 58706 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 40173 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 71846 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 15054 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 91910 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 37527 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 64215 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 19610 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 92248 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 32848 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
flag 65110 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 70097 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11}]
------------------------------------------------------
client write log 4507969286984105815 (index 12) to leader 2
flag 87158 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 32446 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 52310 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 11299 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 89273 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 82478 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 86262 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 8056 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 61820 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 59488 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 23542 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 70822 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
flag 1979 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 91014 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 4161 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 34349 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 88420 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 65383 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 96809 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 26573 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 95901 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 5715 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12}]
------------------------------------------------------
client write log 2824618088926176296 (index 13) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 68413 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 68141 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 14130 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 48614 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 20052 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 95743 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13}]
------------------------------------------------------
client write log 5341125887355862108 (index 14) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 64922 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 47821 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 3984 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 48483 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 72502 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 17614 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2413471799554298638 (index 15) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 18186 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49426 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 74760 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 65490 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 31409 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 91130 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 86069 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 2825 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 72049 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 48078 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 85290 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 32594 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 70604 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
flag 47442 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 32040 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4476275800095455483 (index 16) to leader 1
flag 81281 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 97432 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15} {4476275800095455483 4 16}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54200 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 55144 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15} {4476275800095455483 4 16}]
------------------------------------------------------
client write log 8259773923963340421 (index 17) to leader 1
client write log 2013720000784744625 (index 18) to leader 1
client write log 6567048614522005522 (index 19) to leader 1
client write log 3877706106491792895 (index 20) to leader 1
client write log 681934897153203574 (index 21) to leader 1
client write log 2107800041652180258 (index 22) to leader 1
flag 52422 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 84641 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 1 9} {6915251627108019082 1 10} {4507969286984105815 1 11} {4507969286984105815 3 12} {2824618088926176296 4 13} {5341125887355862108 4 14} {2413471799554298638 4 15} {4476275800095455483 4 16} {8259773923963340421 4 17} {2013720000784744625 4 18} {6567048614522005522 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11423 term 4 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=22
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3849633198054425853 (index 23) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 29505 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 47929 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 24->23
------------------------------------------------------
flag 46409 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 68523 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 61968 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 93505 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 57787 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78933 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24627 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 74988 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 65850 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 96815 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 60881 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13284 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 58848 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 46363 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 88294 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 39447 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 17300 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67776 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 69164 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62558 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34891 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82484 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 60220 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86427 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 16675 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46799 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 27814 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 39481 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 5739 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 25594 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 53675 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87434 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 7043 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 45913 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34471 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
flag 84360 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 85012 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23}]
------------------------------------------------------
client write log 3849633198054425853 (index 24) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62562 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 38557 term 6 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19212 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 15695 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84427 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 35018 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
flag 13068 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 77843 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
flag 48377 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 7948 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
flag 58533 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 82217 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
flag 37475 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 49612 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2091655483114500278 (index 25) to leader 1
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38181 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 63238 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24} {2091655483114500278 6 25}]
------------------------------------------------------
flag 5597 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 93633 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24} {2091655483114500278 6 25}]
------------------------------------------------------
client write log 5821824552898354695 (index 26) to leader 1
client write log 4198462726313759674 (index 27) to leader 1
client write log 3255383577346832024 (index 28) to leader 1
client write log 2726132622146834689 (index 29) to leader 1
client write log 425262771641502593 (index 30) to leader 1
client write log 2919309347151370062 (index 31) to leader 1
client write log 1179501664870804757 (index 32) to leader 1
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40715 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 65720 term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 19} {3877706106491792895 4 20} {681934897153203574 4 21} {2107800041652180258 4 22} {3849633198054425853 4 23} {3849633198054425853 6 24} {2091655483114500278 6 25} {5821824552898354695 6 26} {4198462726313759674 6 27} {3255383577346832024 6 28} {2726132622146834689 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=32
-------------------------------------------------------------
flag 55075 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=32
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5079941579942181819 (index 33) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 0
term 8 server 2 vote for server 1
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 2
flag 90972 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 23429 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 34->33
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 34->33
------------------------------------------------------
flag 14698 term 8 leader 1 nextIndex[0]: 33  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 25  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17081 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 96036 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 80845 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 40258 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 70790 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 63669 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 13333 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 76121 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52098 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 18466 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 2577 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 52083 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 57278 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 18202 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 82909 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 25406 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30701 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 51354 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 28288 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 91046 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90968 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 30879 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 12859 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 79108 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 70128 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 20932 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 45997 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 30026 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83007 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 74209 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 5959 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 47173 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59405 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 68880 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
flag 21287 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 46114 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33}]
------------------------------------------------------
client write log 5079941579942181819 (index 34) to leader 1
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76399 term 8 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 49688 term 8 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
term 8 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
flag 78575 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 45952 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
flag 75438 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 37513 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
flag 63927 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 32486 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58762 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 37314 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
term 8 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
flag 86358 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 15753 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 20961 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 53562 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58068 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 9902 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 68895 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 61164 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 65050 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 87613 term 9 leader 0 nextIndex[2]: 35  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34}]
------------------------------------------------------
flag 96108 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 49282 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
client write log 2471891974986785448 (index 35) to leader 0
flag 28577 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 94842 term 9 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35}]
------------------------------------------------------
flag 62968 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 82995 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 91515 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 60778 term 9 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35}]
------------------------------------------------------
client write log 4515521024861263159 (index 36) to leader 0
flag 72625 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 26011 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 6092 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 35 
------------------------------------------------------
flag 16439 term 9 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 9 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 9 leaderCommit: 35 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 83073 term 8 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 29455 term 8 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
term 8 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 35->34
------------------------------------------------------
flag 82469 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 36 
------------------------------------------------------
flag 31641 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
!!!!!!connect server 1
client write log 659317232036274408 (index 35) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 34
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 34
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86526 term 9 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 36 
------------------------------------------------------
flag 43664 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 13491 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 77383 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 40879 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 23335 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 69663 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 92228 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 83629 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 25385 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 13373 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 2655 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 87642 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 22020 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 53624 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 95718 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 37->36
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 36
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 9636 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 36 args.LastIncludedIndex 29
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 21387 term 9 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 9 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 28945 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 60340 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 18328 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 87599 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 91020 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25916 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 34757 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 57475 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 21780 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
flag 40373 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 9371 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 50866 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 39887 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77707 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 76682 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10212 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 2925 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39821 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 75608 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11105 term 9 leader 0 nextIndex[1]: 37  matchIndex[1]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
flag 1000 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36}]
------------------------------------------------------
client write log 659317232036274408 (index 37) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 37->36
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 36
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 97048 term 9 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 9 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 9 leaderCommit: 36 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 36 args.LastIncludedIndex 29
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 34262 term 9 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 9 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 57553 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53314 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 5730 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 88269 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 73619 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 79391 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 31751 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 5285 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 66385 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 99483 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 71321 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
flag 66913 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 29879 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1223718285236160695 (index 38) to leader 0
flag 64721 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
flag 91425 term 9 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 37 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37} {1223718285236160695 9 38}]
------------------------------------------------------
flag 30524 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
flag 53957 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37} {1223718285236160695 9 38}]
------------------------------------------------------
client write log 4784846861937411540 (index 39) to leader 0
client write log 9059347427037517515 (index 40) to leader 0
client write log 2808460858526383989 (index 41) to leader 0
client write log 6205401788519493993 (index 42) to leader 0
client write log 4595494888316351439 (index 43) to leader 0
client write log 5404748225334285314 (index 44) to leader 0
flag 16753 term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
flag 77848 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 9 leaderCommit: 38 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 29} {425262771641502593 6 30} {2919309347151370062 6 31} {1179501664870804757 6 32} {5079941579942181819 6 33} {5079941579942181819 8 34} {2471891974986785448 9 35} {4515521024861263159 9 36} {659317232036274408 9 37} {1223718285236160695 9 38} {4784846861937411540 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 49197 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44}]
------------------------------------------------------
term 9 Server2 start snapshot! index=39
term 9 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1064549536016003423 (index 45) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 85773 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 10112 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 46->45
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
flag 9940 term 11 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 9 rf.commitIndex 39 rf.lastApplied 39
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92299 term 11 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 79697 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 89139 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 2385 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 77970 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 68484 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 26410 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 7715 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 68574 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 69735 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45464 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 2807 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 33989 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 4815 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 69896 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 73027 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 75774 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 63906 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1023 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 98273 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 29311 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 88953 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 73669 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 12166 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76583 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 5172 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 24453 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 10392 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 93869 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 99170 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 53822 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 48311 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
flag 36913 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 3318 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=44
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45}]
------------------------------------------------------
client write log 1064549536016003423 (index 46) to leader 0
flag 18971 term 11 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 2177 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78121 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 21998 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
flag 43158 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 98352 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
flag 73325 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 34012 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
flag 25061 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 25539 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
flag 14284 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 94893 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
flag 28853 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 52475 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4003870375452711646 (index 47) to leader 0
flag 5906 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 25481 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46} {4003870375452711646 11 47}]
------------------------------------------------------
flag 97625 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 68603 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46} {4003870375452711646 11 47}]
------------------------------------------------------
client write log 3707603297992747046 (index 48) to leader 0
client write log 8274080720579836374 (index 49) to leader 0
client write log 8785841591488221312 (index 50) to leader 0
client write log 5590544307239600287 (index 51) to leader 0
client write log 1055669010887260692 (index 52) to leader 0
client write log 4338377577892090548 (index 53) to leader 0
client write log 5533874611619996947 (index 54) to leader 0
client write log 6290482726432547404 (index 55) to leader 0
client write log 4816256534166495224 (index 56) to leader 0
client write log 4904397175685027604 (index 57) to leader 0
client write log 1480257010863433455 (index 58) to leader 0
flag 35616 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 93066 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 39} {9059347427037517515 9 40} {2808460858526383989 9 41} {6205401788519493993 9 42} {4595494888316351439 9 43} {5404748225334285314 9 44} {1064549536016003423 9 45} {1064549536016003423 11 46} {4003870375452711646 11 47} {3707603297992747046 11 48} {8274080720579836374 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 77533 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58}]
------------------------------------------------------
term 11 Server2 start snapshot! index=49
term 11 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=58
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4548547792175018723 (index 59) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 50321 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 92056 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 44018 term 13 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 11 rf.commitIndex 49 rf.lastApplied 49
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78716 term 13 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 13 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 27884 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
term 13 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61483 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 66423 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32565 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 22653 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 71398 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 90406 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 83896 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 12426 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 81308 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 72153 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 78214 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 60664 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 49761 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 45308 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 28863 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 96648 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 81104 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 48808 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4850 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 75736 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 48816 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 87631 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 53540 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 70252 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 64150 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 15087 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 40423 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 81329 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66011 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 20226 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 23950 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 61125 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
flag 73663 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 52243 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59}]
------------------------------------------------------
client write log 4548547792175018723 (index 60) to leader 0
flag 95885 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 63896 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 49} {8785841591488221312 11 50} {5590544307239600287 11 51} {1055669010887260692 11 52} {4338377577892090548 11 53} {5533874611619996947 11 54} {6290482726432547404 11 55} {4816256534166495224 11 56} {4904397175685027604 11 57} {1480257010863433455 11 58} {4548547792175018723 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 Server0 start snapshot! index=59
term 13 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
flag 46083 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 64256 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 Server1 start snapshot! index=59
term 13 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 13 Server2 start snapshot! index=59
term 13 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
flag 99513 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 93851 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
flag 64137 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 86947 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
flag 66408 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 793 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
flag 18462 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 55275 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
flag 88985 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 63215 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 92564 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 35935 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 38788 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 62003 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 19797 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 49468 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 85101 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 85203 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 40058 term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 87869 term 14 leader 1 nextIndex[2]: 61  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4548547792175018723 13 60}]
------------------------------------------------------
client write log 1735438217715244473 (index 61) to leader 1
flag 66812 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 41971 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 95610 term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 37886 term 14 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {4548547792175018723 13 60} {1735438217715244473 14 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35748 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 28445 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 59623 term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 1646 term 14 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {4548547792175018723 13 60} {1735438217715244473 14 61}]
------------------------------------------------------
client write log 2564233503409336191 (index 62) to leader 1
client write log 5019622997884167823 (index 63) to leader 1
client write log 627149576565137252 (index 64) to leader 1
client write log 1967298498542289826 (index 65) to leader 1
client write log 4757087298589169205 (index 66) to leader 1
client write log 2449338188057499853 (index 67) to leader 1
client write log 5234014927087276557 (index 68) to leader 1
client write log 4045217277564019589 (index 69) to leader 1
client write log 3361449417504492247 (index 70) to leader 1
flag 68504 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 56269 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 14600 term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 69149 term 14 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 14 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 14 leaderCommit: 61 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 59} {4548547792175018723 13 60} {1735438217715244473 14 61} {2564233503409336191 14 62} {5019622997884167823 14 63} {627149576565137252 14 64} {1967298498542289826 14 65} {4757087298589169205 14 66} {2449338188057499853 14 67} {5234014927087276557 14 68} {4045217277564019589 14 69} {3361449417504492247 14 70}]
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96829 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 14863 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 13464 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {3361449417504492247 14 70}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2813650590567723716 (index 71) to leader 1
flag 7532 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 40394 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 61  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
flag 35883 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 14 rf.commitIndex 69 rf.lastApplied 69
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6867 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 41281 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61557 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 9332 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
flag 66143 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 98402 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
flag 11402 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 56926 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
flag 76537 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 53473 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
flag 28423 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 95899 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 474145410047161627 (index 72) to leader 1
flag 21001 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 1017 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71} {474145410047161627 14 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75961 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 74378 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71} {474145410047161627 14 72}]
------------------------------------------------------
client write log 3067511440089078905 (index 73) to leader 1
client write log 8645460847830830680 (index 74) to leader 1
client write log 7475499467740886734 (index 75) to leader 1
client write log 7548832843810658745 (index 76) to leader 1
client write log 4527254858225853868 (index 77) to leader 1
client write log 2858012850414043489 (index 78) to leader 1
client write log 6982533396336284852 (index 79) to leader 1
client write log 258988385883793861 (index 80) to leader 1
client write log 7292626019400046078 (index 81) to leader 1
client write log 500995167814012269 (index 82) to leader 1
client write log 6726369997675124191 (index 83) to leader 1
client write log 1067426144849640715 (index 84) to leader 1
client write log 4576880311500459539 (index 85) to leader 1
client write log 2573598214909906874 (index 86) to leader 1
flag 48083 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 72788 term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 69} {3361449417504492247 14 70} {2813650590567723716 14 71} {474145410047161627 14 72} {3067511440089078905 14 73} {8645460847830830680 14 74} {7475499467740886734 14 75} {7548832843810658745 14 76} {4527254858225853868 14 77} {2858012850414043489 14 78} {6982533396336284852 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
flag 15061 term 14 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6242071645824778427 (index 87) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 86 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 13165 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 63121 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
flag 82416 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 96612 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 98089 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 21844 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 12287 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 82682 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 93100 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 57878 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 81679 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 10786 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 24992 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 2662 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 73415 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32493 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 95576 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 17570 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 7067 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 9380 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 13131 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 250 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 64342 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 13968 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 10267 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67507 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 39689 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 28825 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 7268 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60628 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 71501 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 86082 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 37794 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 178 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 15033 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
flag 48273 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 33504 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
update nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87}]
------------------------------------------------------
client write log 6242071645824778427 (index 88) to leader 1
flag 25464 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 474 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
flag 90889 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 70569 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
flag 83604 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 22417 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
flag 27007 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 13387 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
flag 8690 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 21708 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
flag 39161 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 22849 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6800657704033049372 (index 89) to leader 1
flag 64431 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
flag 35616 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 79} {258988385883793861 14 80} {7292626019400046078 14 81} {500995167814012269 14 82} {6726369997675124191 14 83} {1067426144849640715 14 84} {4576880311500459539 14 85} {2573598214909906874 14 86} {6242071645824778427 14 87} {6242071645824778427 16 88} {6800657704033049372 16 89}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 58822 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 648269049314089082 (index 90) to leader 1
client write log 1612310827105306866 (index 91) to leader 1
client write log 6196011180225387009 (index 92) to leader 1
client write log 1805072991629220947 (index 93) to leader 1
client write log 707179994377575884 (index 94) to leader 1
client write log 2769222504543833441 (index 95) to leader 1
client write log 9298995866710897 (index 96) to leader 1
client write log 3582407509371628688 (index 97) to leader 1
client write log 8972026544842104979 (index 98) to leader 1
client write log 8522107736921193490 (index 99) to leader 1
client write log 1634153770178594694 (index 100) to leader 1
client write log 8009056511644341106 (index 101) to leader 1
flag 53430 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 89} {648269049314089082 16 90} {1612310827105306866 16 91} {6196011180225387009 16 92} {1805072991629220947 16 93} {707179994377575884 16 94} {2769222504543833441 16 95} {9298995866710897 16 96} {3582407509371628688 16 97} {8972026544842104979 16 98} {8522107736921193490 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
flag 61143 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5069058731606358745 (index 102) to leader 1
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 78802 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 73604 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 103->102
------------------------------------------------------
flag 92936 term 18 leader 1 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
flag 58398 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 35884 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5484 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 89581 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 81054 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 2546 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 25406 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 30816 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 92842 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 19840 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 82055 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 78430 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 35569 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 29378 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 8570 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 5117 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78105 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 7665 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23794 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 27371 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 9420 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 92551 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11558 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 7908 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54621 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 34807 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58019 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 61555 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76208 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 68632 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96544 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 98128 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92445 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 10326 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
flag 34818 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 70656 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102}]
------------------------------------------------------
client write log 5069058731606358745 (index 103) to leader 1
flag 52048 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 26248 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 41769 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 57306 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63575 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 43991 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 77708 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 4927 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 90387 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 16819 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 66256 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 38535 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 73680 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 1555 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
!!!!!!diconnect server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64574 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 65101 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 15230 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 4371 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 35755 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 11867 term 19 leader 0 nextIndex[2]: 104  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103}]
------------------------------------------------------
flag 21143 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
client write log 9180120226339485731 (index 104) to leader 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 69092 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
flag 44025 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 17307 term 19 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104}]
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 46929 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81459 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 4495 term 19 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 19 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104}]
------------------------------------------------------
client write log 7037433193704047015 (index 105) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 88110 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 81904 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 5222 term 19 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 19 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 28916 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 3602 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 81083 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2374283598607015354 (index 104) to leader 1
term 18 leader 1 nextIndex[0]: 0  matchIndex[0]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 91616 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60109 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 3873 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 35435 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 18593 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 22413 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 105 args.LastIncludedIndex 99
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
term 19 server 1 not vote for server 0, 日志不够新
term 19 server 0 get outdate rpc reply from server 1
flag 71167 term 19 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 1540 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 29492 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 81768 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 77149 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 48466 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64147 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 28324 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 57746 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 70246 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 37928 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 6096 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 88431 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 82852 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 11563 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 83881 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 85133 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 61957 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 8288 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 9396 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17560 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 24070 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 62998 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 64520 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 62899 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 35628 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 3366 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 59663 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 91613 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 25336 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
flag 92495 term 19 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
flag 63508 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 18411 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 105 args.LastIncludedIndex 99
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
client write log 2374283598607015354 (index 106) to leader 0
flag 92315 term 19 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 14987 term 19 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 19 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 19 leaderCommit: 105 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
flag 41598 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 29614 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 106
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 5505 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 106 args.LastIncludedIndex 99
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 47705 term 19 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 19 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 43580 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94494 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 91494 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51442 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 41935 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 68529251980978352 (index 107) to leader 0
flag 83241 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
flag 94752 term 19 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 106 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106} {68529251980978352 19 107}]
------------------------------------------------------
flag 7751 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 83761 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106} {68529251980978352 19 107}]
------------------------------------------------------
client write log 6081293559718421414 (index 108) to leader 0
client write log 8992339202234295883 (index 109) to leader 0
client write log 7477856066031954823 (index 110) to leader 0
client write log 1029586967986438788 (index 111) to leader 0
client write log 3807362905563743088 (index 112) to leader 0
client write log 76600003843531903 (index 113) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93964 term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
flag 19410 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 19 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 99} {1634153770178594694 16 100} {8009056511644341106 16 101} {5069058731606358745 16 102} {5069058731606358745 18 103} {9180120226339485731 19 104} {7037433193704047015 19 105} {2374283598607015354 19 106} {68529251980978352 19 107} {6081293559718421414 19 108} {8992339202234295883 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 70494 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6513989312248627618 (index 114) to leader 0
term 19 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 41852 term 19 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 19584 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 59567 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 107  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 48986 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
flag 77133 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 7764 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
flag 15580 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 89700 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
flag 3051 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 45035 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73856 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 81714 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
flag 12738 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 63958 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
flag 91656 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 66800 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3563381596211851421 (index 115) to leader 0
flag 55991 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 43926 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114} {3563381596211851421 21 115}]
------------------------------------------------------
flag 71043 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 47835 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114} {3563381596211851421 21 115}]
------------------------------------------------------
client write log 3435012245991012566 (index 116) to leader 0
client write log 7293076994059969184 (index 117) to leader 0
client write log 1131234311745961107 (index 118) to leader 0
client write log 1402536696790197722 (index 119) to leader 0
client write log 6297216668568256818 (index 120) to leader 0
client write log 638930562871292700 (index 121) to leader 0
client write log 6757914219573339095 (index 122) to leader 0
flag 25486 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 89959 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 109} {7477856066031954823 19 110} {1029586967986438788 19 111} {3807362905563743088 19 112} {76600003843531903 19 113} {6513989312248627618 19 114} {3563381596211851421 21 115} {3435012245991012566 21 116} {7293076994059969184 21 117} {1131234311745961107 21 118} {1402536696790197722 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 16728 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7104260778983079975 (index 123) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 94759 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 22 server 2 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 2 not vote for server 1, 日志不够新
term 22 server 0 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 2, 日志不够新
term 24 server 1 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
flag 46493 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 96758 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48371 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 12824 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 46847 term 24 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 24 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2026 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 40619 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63211 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 71373 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 77532 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 51396 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10950 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 34869 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 92334 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 15159 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 20611 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 68137 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 35743 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 54594 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 57206 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 48522 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76746 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 25693 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28379 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 42411 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 3419 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 96770 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 2
flag 86452 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 44525 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
flag 88190 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 76921 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
client write log 7104260778983079975 (index 123) to leader 2
flag 11516 term 24 leader 2 nextIndex[0]: 123  matchIndex[0]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 10414 term 24 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 24 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:122 
term 24 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 90278 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 61376 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61566 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 20324 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 71707 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 74396 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 22571 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 14948 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 36207 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 73621 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 15733 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 43245 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 29513 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 477 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 69874 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 32508 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 76408 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 799 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
flag 52990 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 68448 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123}]
------------------------------------------------------
flag 91992 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 46733 term 24 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
client write log 2092846578169165529 (index 124) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
flag 74684 term 25 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
flag 92434 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123} {2092846578169165529 25 124}]
------------------------------------------------------
flag 46489 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 123
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5572 term 25 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 25 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
flag 30525 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 124 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123} {2092846578169165529 25 124}]
------------------------------------------------------
client write log 2036310352798384770 (index 125) to leader 0
client write log 6670113212852783205 (index 126) to leader 0
client write log 6706306555729582655 (index 127) to leader 0
client write log 4895703406785226520 (index 128) to leader 0
client write log 2474652650430679532 (index 129) to leader 0
client write log 6886287499257942913 (index 130) to leader 0
client write log 3258754427742923843 (index 131) to leader 0
client write log 6326123848034311898 (index 132) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30823 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 123
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 70382 term 25 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 25 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 25 leaderCommit: 124 
------------------------------------------------------
flag 63051 term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 124 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 21 119} {6297216668568256818 21 120} {638930562871292700 21 121} {6757914219573339095 21 122} {7104260778983079975 24 123} {2092846578169165529 25 124} {2036310352798384770 25 125} {6670113212852783205 25 126} {6706306555729582655 25 127} {4895703406785226520 25 128} {2474652650430679532 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
flag 71734 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 123
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 8251 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 25 Server1 start snapshot! index=129
term 25 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6396843025640289168 (index 124) to leader 2
flag 95268 term 24 leader 2 nextIndex[0]: 124  matchIndex[0]: 123
term 24 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 24 leaderCommit: 123 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 123
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13047 term 25 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 25 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 25 rf.commitIndex 129 rf.lastApplied 129
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 1
flag 45551 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 5941 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 133->132
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19216 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 69821 term 27 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 31564 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 83269 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 23320 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 98763 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 28422 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 29789 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 41791 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 37388 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 70439 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 22784 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 88643 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 20109 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15857 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 19871 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 1206 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 89979 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 6108 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 64509 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 15728 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 59132 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 91879 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 41431 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 20024 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 98728 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 8733 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 45236 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 10574 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 62521 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 95327 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 47460 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 82658 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 88678 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
flag 46805 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 24083 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132}]
------------------------------------------------------
client write log 6396843025640289168 (index 133) to leader 0
flag 45032 term 27 leader 0 nextIndex[1]: 133  matchIndex[1]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
flag 57132 term 27 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 132 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
term 27 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
flag 8324 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 95727 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
flag 31722 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 21256 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
flag 66198 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 37792 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
flag 59490 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 46700 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42635 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 28684 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7369001219070603498 (index 134) to leader 0
flag 66881 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 30066 term 27 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133} {7369001219070603498 27 134}]
------------------------------------------------------
flag 17366 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 33827 term 27 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 27 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133} {7369001219070603498 27 134}]
------------------------------------------------------
client write log 4079354801345771829 (index 135) to leader 0
client write log 7813037715243508702 (index 136) to leader 0
client write log 9010755912225100082 (index 137) to leader 0
client write log 168165936116331015 (index 138) to leader 0
client write log 8316669128053359230 (index 139) to leader 0
client write log 1569503236159618089 (index 140) to leader 0
client write log 1792416416821973978 (index 141) to leader 0
client write log 1936188032433390236 (index 142) to leader 0
client write log 7510258108688069710 (index 143) to leader 0
flag 42898 term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 71357 term 27 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 27 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 25 129} {6886287499257942913 25 130} {3258754427742923843 25 131} {6326123848034311898 25 132} {6396843025640289168 27 133} {7369001219070603498 27 134} {4079354801345771829 27 135} {7813037715243508702 27 136} {9010755912225100082 27 137} {168165936116331015 27 138} {8316669128053359230 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143}]
------------------------------------------------------
term 27 Server0 start snapshot! index=139
term 27 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 80132 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143}]
------------------------------------------------------
term 27 Server2 start snapshot! index=139
term 27 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8991612915223751552 (index 144) to leader 0
term 27 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 3358 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 28 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get outdate rpc reply from server 1
flag 60299 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 11712 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 29 server 2 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 2
term 29 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 59130 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 27 rf.commitIndex 139 rf.lastApplied 139
flag 45292 term 29 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 29 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 63308 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17326 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 78631 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
flag 28303 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 23226 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
flag 53750 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 46651 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69191 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 36020 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79550 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 13068 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
flag 55467 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 39371 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9004949646420441058 (index 145) to leader 0
flag 1832 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 57119 term 29 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144} {9004949646420441058 29 145}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56849 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 30949 term 29 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 29 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144} {9004949646420441058 29 145}]
------------------------------------------------------
client write log 7302036698253987085 (index 146) to leader 0
client write log 6708388455603379012 (index 147) to leader 0
client write log 1595832350307826585 (index 148) to leader 0
client write log 2048562459692174286 (index 149) to leader 0
client write log 3253984316717982876 (index 150) to leader 0
client write log 941899868543653051 (index 151) to leader 0
flag 11553 term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
flag 44174 term 29 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 29 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 27 139} {1569503236159618089 27 140} {1792416416821973978 27 141} {1936188032433390236 27 142} {7510258108688069710 27 143} {8991612915223751552 27 144} {9004949646420441058 29 145} {7302036698253987085 29 146} {6708388455603379012 29 147} {1595832350307826585 29 148} {2048562459692174286 29 149} {3253984316717982876 29 150} {941899868543653051 29 151}]
------------------------------------------------------
term 29 Server0 start snapshot! index=149
term 29 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 29
------------------------------------------------------
flag 40621 term 29 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 29 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151}]
------------------------------------------------------
term 29 Server2 start snapshot! index=149
term 29 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=151
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4968893894901655203 (index 152) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 86087 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 25104 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 153->152
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 29
------------------------------------------------------
flag 80074 term 31 leader 0 nextIndex[2]: 152  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 29 rf.commitIndex 149 rf.lastApplied 149
flag 19340 term 31 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 31 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 50605 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
flag 57733 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 85836 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55318 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 7489 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
flag 10067 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 40282 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
flag 25848 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 95204 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54114 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 49872 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36635 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 7456 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
flag 75402 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 94070 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5021 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 94388 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29497 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 72365 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35668 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 67578 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19833 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 29791 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
flag 38031 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 46606 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25943 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 71145 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44388 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 39152 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68598 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 96809 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68155 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 3567 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39052 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 70759 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=151
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152}]
------------------------------------------------------
client write log 4968893894901655203 (index 153) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83364 term 31 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
flag 14497 term 31 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 31 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 29 leaderCommit: 151 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
flag 89310 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 69868 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
flag 21211 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 69192 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
flag 12641 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 41878 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
flag 37621 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 3139 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
flag 84741 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 95357 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 75347 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 46596 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 18233 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 80557 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 19807 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 85360 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
client write log 7412810784933621294 (index 154) to leader 1
flag 57112 term 32 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 40498 term 32 leader 1 nextIndex[2]: 154  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153} {7412810784933621294 32 154}]
------------------------------------------------------
flag 39678 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 41118 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 33931 term 32 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 154 
------------------------------------------------------
flag 88872 term 32 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 32 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 32 leaderCommit: 154 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153} {7412810784933621294 32 154}]
------------------------------------------------------
client write log 4456778989302755941 (index 155) to leader 1
client write log 8648209137327902598 (index 156) to leader 1
client write log 6237973863726073762 (index 157) to leader 1
client write log 1313110458634353635 (index 158) to leader 1
client write log 3489258342837793572 (index 159) to leader 1
client write log 1274053531680750622 (index 160) to leader 1
client write log 456851638258453813 (index 161) to leader 1
client write log 4478124157276600310 (index 162) to leader 1
client write log 4757622359108770496 (index 163) to leader 1
client write log 4909982886339361383 (index 164) to leader 1
client write log 3367051360059556659 (index 165) to leader 1
client write log 151441006354417455 (index 166) to leader 1
client write log 339697864630625081 (index 167) to leader 1
client write log 2982492061342828217 (index 168) to leader 1
client write log 7444117110284018417 (index 169) to leader 1
flag 91673 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 92872 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 33480 term 32 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 154 
------------------------------------------------------
flag 72799 term 32 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 32 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 32 leaderCommit: 154 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 149} {3253984316717982876 29 150} {941899868543653051 29 151} {4968893894901655203 29 152} {4968893894901655203 31 153} {7412810784933621294 32 154} {4456778989302755941 32 155} {8648209137327902598 32 156} {6237973863726073762 32 157} {1313110458634353635 32 158} {3489258342837793572 32 159} {1274053531680750622 32 160} {456851638258453813 32 161} {4478124157276600310 32 162} {4757622359108770496 32 163} {4909982886339361383 32 164} {3367051360059556659 32 165} {151441006354417455 32 166} {339697864630625081 32 167} {2982492061342828217 32 168} {7444117110284018417 32 169}]
------------------------------------------------------
term 32 Server1 start snapshot! index=159
term 32 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=169
-------------------------------------------------------------
term 32 Server1 start snapshot! index=169
term 32 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14795 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
flag 75900 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 624 term 32 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 Server2 start snapshot! index=159
term 32 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=169
-------------------------------------------------------------
term 32 Server2 start snapshot! index=169
term 32 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 24397 term 31 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
!!!!!!connect server 0
client write log 6893671480515835055 (index 170) to leader 1
flag 29117 term 31 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 31 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 31 leaderCommit: 153 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 66097 term 32 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 32 rf.commitIndex 169 rf.lastApplied 169
------------------------------------------------------------------------
term 32 server 0 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 0
flag 56725 term 32 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 32 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 52952 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9843 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 81923 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
flag 82145 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 49491 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
flag 89040 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 37227 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
flag 16035 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 13750 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
flag 78454 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 31279 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {6893671480515835055 32 170}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4521390647255897416 (index 171) to leader 1
flag 55707 term 32 leader 1 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 53327 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {6893671480515835055 32 170} {4521390647255897416 32 171}]
------------------------------------------------------
flag 40544 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 28208 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {6893671480515835055 32 170} {4521390647255897416 32 171}]
------------------------------------------------------
client write log 530285491311648432 (index 172) to leader 1
client write log 1608488040764746802 (index 173) to leader 1
client write log 9020318754988589855 (index 174) to leader 1
client write log 6601769026643028806 (index 175) to leader 1
client write log 2613592470990072196 (index 176) to leader 1
client write log 5317123944731460292 (index 177) to leader 1
client write log 5920937422060661915 (index 178) to leader 1
client write log 24120907735495703 (index 179) to leader 1
client write log 3102515250507456916 (index 180) to leader 1
client write log 8036101938026586690 (index 181) to leader 1
client write log 4559418084067780215 (index 182) to leader 1
client write log 9106962229296025151 (index 183) to leader 1
client write log 620354693343196792 (index 184) to leader 1
client write log 3747491032623493835 (index 185) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47551 term 32 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 32 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 61253 term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 169} {6893671480515835055 32 170} {4521390647255897416 32 171} {530285491311648432 32 172} {1608488040764746802 32 173} {9020318754988589855 32 174} {6601769026643028806 32 175} {2613592470990072196 32 176} {5317123944731460292 32 177} {5920937422060661915 32 178} {24120907735495703 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
flag 74339 term 32 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2971886364466436383 (index 186) to leader 1
term 32 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 171->170
------------------------------------------------------
flag 14813 term 32 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 0  matchIndex[2]: 170
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 33 server 0 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 33 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
term 35 server 2 vote for server 0
term 34 server 1 not vote for server 0, 日志不够新
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 21519 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 39231 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 13892 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 171  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43665 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 31440 term 35 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 35 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:179 
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31406 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 7794 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 38524 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 50220 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 33514 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 70783 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 69039 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 80940 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5729 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 46201 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 47873 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 24951 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 49728 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 54234 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 11340 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 36054 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 87623 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 19416 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83001 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 51535 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 73031 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 13767 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
flag 78951 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 94259 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90537 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 71021 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185}]
------------------------------------------------------
client write log 2971886364466436383 (index 186) to leader 0
flag 12514 term 35 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 2216 term 35 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 35 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
flag 77964 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 87226 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
flag 32217 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 19928 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
flag 39488 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 98295 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
flag 40942 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 56264 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20069 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 13397 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1483337999319111327 (index 187) to leader 0
flag 97752 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
flag 50115 term 35 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 186 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186} {1483337999319111327 35 187}]
------------------------------------------------------
flag 9739 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 187 
------------------------------------------------------
flag 37355 term 35 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 35 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 35 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186} {1483337999319111327 35 187}]
------------------------------------------------------
client write log 8125159408480682397 (index 188) to leader 0
client write log 7852638681209868340 (index 189) to leader 0
client write log 2463342922634227267 (index 190) to leader 0
client write log 4196529204473249391 (index 191) to leader 0
client write log 8366221657489302579 (index 192) to leader 0
client write log 2654528146417414007 (index 193) to leader 0
client write log 7696289580951492891 (index 194) to leader 0
client write log 2979351522027452814 (index 195) to leader 0
flag 40054 term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 35 leaderCommit: 187 
------------------------------------------------------
flag 13552 term 35 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 35 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 35 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 179} {3102515250507456916 32 180} {8036101938026586690 32 181} {4559418084067780215 32 182} {9106962229296025151 32 183} {620354693343196792 32 184} {3747491032623493835 32 185} {2971886364466436383 35 186} {1483337999319111327 35 187} {8125159408480682397 35 188} {7852638681209868340 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195}]
------------------------------------------------------
term 35 Server0 start snapshot! index=189
term 35 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
flag 49433 term 35 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 35 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195}]
------------------------------------------------------
term 35 Server2 start snapshot! index=189
term 35 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1216247043204036600 (index 196) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
term 37 server 2 vote for server 0
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 0 get outdate rpc reply from server 1
flag 7257 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 53617 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 197->196
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
flag 61233 term 37 leader 0 nextIndex[2]: 196  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 35 rf.commitIndex 189 rf.lastApplied 189
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 77184 term 37 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 37 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 14238 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 27071 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 25199 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 87361 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 44392 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 36040 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 2062 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99196 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 43809 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 65415 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 65220 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 88008 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 55526 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 35294 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 16183 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29567 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 14850 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12232 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 97293 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 25385 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 53385 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 18271 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 86264 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 62947 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 30184 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 65547 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 35327 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 28730 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 82626 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 84028 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 26479 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 82842 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 17853 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
flag 53766 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 57086 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196}]
------------------------------------------------------
client write log 1216247043204036600 (index 197) to leader 0
flag 23375 term 37 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
flag 37474 term 37 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 37 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 195 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 not vote for server 2, 任期不够新
term 37 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20497 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 87386 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
flag 60489 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 65741 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16509 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 54158 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
flag 12782 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 4384 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 37 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
flag 58416 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 14225 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80920 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 78659 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 36059 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 12479 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 3539 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 76515 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
client write log 5251984716988560627 (index 198) to leader 2
flag 18316 term 38 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 55049 term 38 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197} {5251984716988560627 38 198}]
------------------------------------------------------
flag 82458 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 59100 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 55372 term 38 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 198 
------------------------------------------------------
flag 69779 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 38 leaderCommit: 198 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197} {5251984716988560627 38 198}]
------------------------------------------------------
flag 42662 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
flag 20703 term 37 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
client write log 4117914861702011692 (index 199) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
flag 41 term 38 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 198 
------------------------------------------------------
flag 80235 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 38 leaderCommit: 198 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 189} {2463342922634227267 35 190} {4196529204473249391 35 191} {8366221657489302579 35 192} {2654528146417414007 35 193} {7696289580951492891 35 194} {2979351522027452814 35 195} {1216247043204036600 35 196} {1216247043204036600 37 197} {5251984716988560627 38 198} {4117914861702011692 38 199}]
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 68003 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 197
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 41374 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 Server1 start snapshot! index=199
term 38 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 99238 term 37 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 37 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 37 leaderCommit: 197 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 197
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 35
------------------------------------------------------
!!!!!!connect server 0
client write log 303159751192826254 (index 200) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 198->197
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 198  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 52743 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 38 rf.commitIndex 199 rf.lastApplied 199
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 45964 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 77384 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
flag 27350 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 35892 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 201->200
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 200
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 92708 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 0 InstallSnapshot fail
rf.commitIndex 200 args.LastIncludedIndex 199
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
flag 93064 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 36079 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
flag 27026 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 54482 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
flag 26074 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 73362 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
flag 64116 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 70214 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {303159751192826254 38 200}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5468760927671660780 (index 201) to leader 2
flag 57651 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
flag 14023 term 38 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 38 199} {303159751192826254 38 200} {5468760927671660780 38 201}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27722 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
flag 24078 term 38 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 38 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 38 199} {303159751192826254 38 200} {5468760927671660780 38 201}]
------------------------------------------------------
client write log 6853191193759005952 (index 202) to leader 2
client write log 1637237569060726845 (index 203) to leader 2
client write log 7390783236052213748 (index 204) to leader 2
client write log 1209683696203293327 (index 205) to leader 2
client write log 328636639646808824 (index 206) to leader 2
client write log 6513947199194060675 (index 207) to leader 2
client write log 42969517906091495 (index 208) to leader 2
client write log 4109148618368465153 (index 209) to leader 2
client write log 8894446367093507627 (index 210) to leader 2
client write log 1236342513926118292 (index 211) to leader 2
client write log 7180039161864079252 (index 212) to leader 2
client write log 2623848886720770965 (index 213) to leader 2
client write log 7870615067800867751 (index 214) to leader 2
flag 64362 term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
flag 21592 term 38 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 38 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 38 199} {303159751192826254 38 200} {5468760927671660780 38 201} {6853191193759005952 38 202} {1637237569060726845 38 203} {7390783236052213748 38 204} {1209683696203293327 38 205} {328636639646808824 38 206} {6513947199194060675 38 207} {42969517906091495 38 208} {4109148618368465153 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214}]
------------------------------------------------------
term 38 Server2 start snapshot! index=209
term 38 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 201  matchIndex[0]: 200
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 38
------------------------------------------------------
flag 56565 term 38 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 38 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214}]
------------------------------------------------------
term 38 Server1 start snapshot! index=209
term 38 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9208022939399618299 (index 215) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 59046 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 89129 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 216->215
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 201  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 38
------------------------------------------------------
flag 76791 term 40 leader 2 nextIndex[1]: 215  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 38 rf.commitIndex 209 rf.lastApplied 209
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 91285 term 40 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 40 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 4172 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 95944 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 58299 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 59599 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 86686 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21636 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 2542 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 25327 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 45279 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 46010 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 38718 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 98322 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 44121 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17976 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 8683 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59395 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 64158 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 7166 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 74587 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 12304 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 34975 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33676 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 93900 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 3433 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 3399 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 43774 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 12077 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
flag 12362 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 33007 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21809 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 93222 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64683 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 12376 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 9208022939399618299 (index 216) to leader 2
flag 22948 term 40 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
flag 14855 term 40 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 40 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 214 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
flag 19067 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 13912 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53676 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 97628 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
flag 32717 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 76411 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89075 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 35754 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
flag 87082 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 48419 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26008 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 23590 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5387931669812573986 (index 217) to leader 2
flag 51219 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
flag 62477 term 40 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 216 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216} {5387931669812573986 40 217}]
------------------------------------------------------
flag 44172 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 51914 term 40 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216} {5387931669812573986 40 217}]
------------------------------------------------------
client write log 2730193244908880283 (index 218) to leader 2
client write log 6584501020842318906 (index 219) to leader 2
client write log 3240250446222303928 (index 220) to leader 2
client write log 4514753332203204440 (index 221) to leader 2
client write log 4244965915156096664 (index 222) to leader 2
client write log 5263636402381120770 (index 223) to leader 2
flag 27999 term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
flag 68386 term 40 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 40 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 40 leaderCommit: 217 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 38 209} {8894446367093507627 38 210} {1236342513926118292 38 211} {7180039161864079252 38 212} {2623848886720770965 38 213} {7870615067800867751 38 214} {9208022939399618299 38 215} {9208022939399618299 40 216} {5387931669812573986 40 217} {2730193244908880283 40 218} {6584501020842318906 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223}]
------------------------------------------------------
term 40 Server2 start snapshot! index=219
term 40 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 62937 term 40 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 40 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 40 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223}]
------------------------------------------------------
term 40 Server1 start snapshot! index=219
term 40 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6329866526749522647 (index 224) to leader 2
term 40 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 27995 term 40 leader 2 nextIndex[1]: 224  matchIndex[1]: 223
term 40 leader 2 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 40 leaderCommit: 223 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 1 vote for server 2
term 42 server 2 get vote from server 1
term 42 server 2 become leader
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90365 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 41308 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
flag 62613 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 40 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
flag 34742 term 42 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 42 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 51067 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 32589 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 6096 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
flag 66024 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 43772 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
flag 80765 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 61779 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
flag 64931 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 91069 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30683 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 34683 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=225
update matchIndex[1]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 26051 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 76435 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73418 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 74066 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 9512 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 26994 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 69497 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 16269 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
flag 35109 term 43 leader 1 nextIndex[0]: 225  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 59747 term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224}]
------------------------------------------------------
client write log 6961340207602189979 (index 225) to leader 1
flag 44354 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 27662 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21670 term 43 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 86804 term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42323 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 50052 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 68728 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 95039 term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225}]
------------------------------------------------------
client write log 5818700453756599221 (index 226) to leader 1
flag 26300 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 16391 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60808 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 43 leaderCommit: 225 
------------------------------------------------------
flag 44435 term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 225 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226}]
------------------------------------------------------
flag 85207 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 30885 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 94041 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 72777 term 43 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 226 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3494317066265471514 (index 227) to leader 1
flag 33083 term 42 leader 2 nextIndex[0]: 225  matchIndex[0]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
flag 95688 term 42 leader 2 nextIndex[1]: 225  matchIndex[1]: 224
term 42 leader 2 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 40 leaderCommit: 224 
------------------------------------------------------
term 43 server 1 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 225->224
------------------------------------------------------
flag 48155 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 224 args.LastIncludedIndex 219
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38994 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 95022 term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
flag 24507 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 81957 term 43 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
flag 51890 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 49990 term 43 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36659 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 47919 term 43 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
flag 16668 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 64525 term 43 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
flag 34562 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 23831 term 43 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 228->227
------------------------------------------------------
flag 26929 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 227
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot fail
rf.commitIndex 227 args.LastIncludedIndex 219
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8229374018787970362 (index 228) to leader 1
flag 19566 term 43 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 43 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
flag 27119 term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 227 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227} {8229374018787970362 43 228}]
------------------------------------------------------
flag 65490 term 43 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 43 leaderCommit: 228 
------------------------------------------------------
flag 51277 term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227} {8229374018787970362 43 228}]
------------------------------------------------------
client write log 821709123577176063 (index 229) to leader 1
client write log 7145195941011665434 (index 230) to leader 1
client write log 4673869515635692591 (index 231) to leader 1
client write log 3961904969472538442 (index 232) to leader 1
client write log 4539456378048667318 (index 233) to leader 1
client write log 1783467590875213482 (index 234) to leader 1
client write log 5651503361896960604 (index 235) to leader 1
client write log 8465106184913313863 (index 236) to leader 1
client write log 2486241881559970362 (index 237) to leader 1
client write log 7361237725763738033 (index 238) to leader 1
client write log 2753833867727430117 (index 239) to leader 1
client write log 2949703063976323112 (index 240) to leader 1
client write log 7787682864205133881 (index 241) to leader 1
client write log 4093668716253449255 (index 242) to leader 1
client write log 5663031955384583391 (index 243) to leader 1
flag 69811 term 43 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 43 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 43 leaderCommit: 228 
------------------------------------------------------
flag 47782 term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 40 leaderCommit: 228 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 40 219} {3240250446222303928 40 220} {4514753332203204440 40 221} {4244965915156096664 40 222} {5263636402381120770 40 223} {6329866526749522647 40 224} {6961340207602189979 43 225} {5818700453756599221 43 226} {3494317066265471514 43 227} {8229374018787970362 43 228} {821709123577176063 43 229} {7145195941011665434 43 230} {4673869515635692591 43 231} {3961904969472538442 43 232} {4539456378048667318 43 233} {1783467590875213482 43 234} {5651503361896960604 43 235} {8465106184913313863 43 236} {2486241881559970362 43 237} {7361237725763738033 43 238} {2753833867727430117 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243}]
------------------------------------------------------
term 43 Server1 start snapshot! index=229
term 43 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=243
-------------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
flag 57510 term 43 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243}]
------------------------------------------------------
term 43 Server0 start snapshot! index=229
term 43 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=243
-------------------------------------------------------------
term 43 Server0 start snapshot! index=239
term 43 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1770440422865081547 (index 244) to leader 1
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 26039 term 43 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 43 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 71462 term 43 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 43 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 43 server 0 not vote for server 2, 日志不够新
term 44 server 1 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 58050 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 29970 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 245->244
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 10246 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 228  matchIndex[2]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 43 rf.commitIndex 239 rf.lastApplied 239
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 23517 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 45782 term 46 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 46 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 54017 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 71373 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 52239 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 40410 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 56015 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 1952 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 16677 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 90292 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 21299 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 12584 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88221 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 38726 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 67190 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 9201 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58231 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 30529 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 32435 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 15081 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 11596 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 16991 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 86357 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 659 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 4365 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 2646 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
flag 87024 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 71406 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=243
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244}]
------------------------------------------------------
client write log 1770440422865081547 (index 245) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3916 term 46 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
flag 49276 term 46 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 46 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
flag 53495 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 94507 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
term 46 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60844 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 72007 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
flag 26453 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 80739 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
flag 86845 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 10266 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
flag 35331 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 66442 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245}]
------------------------------------------------------
term 46 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
!!!!!!diconnect server 1
client write log 77370624792648774 (index 246) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67990 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
flag 37548 term 46 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 245 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245} {77370624792648774 46 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1508 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 246 
------------------------------------------------------
flag 42018 term 46 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 46 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 46 leaderCommit: 246 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245} {77370624792648774 46 246}]
------------------------------------------------------
client write log 6239444348471399578 (index 247) to leader 0
client write log 7273801375864047306 (index 248) to leader 0
client write log 1633670938671550058 (index 249) to leader 0
client write log 1751847653447555063 (index 250) to leader 0
client write log 4019160813473646912 (index 251) to leader 0
client write log 34382097943213750 (index 252) to leader 0
client write log 8865658967535227411 (index 253) to leader 0
client write log 1572155650992523050 (index 254) to leader 0
client write log 7117601339963898306 (index 255) to leader 0
client write log 7919658141876588553 (index 256) to leader 0
client write log 7671269410063697166 (index 257) to leader 0
client write log 43739682561216018 (index 258) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97820 term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 46 leaderCommit: 246 
------------------------------------------------------
flag 84236 term 46 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 46 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 46 leaderCommit: 246 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 239} {2949703063976323112 43 240} {7787682864205133881 43 241} {4093668716253449255 43 242} {5663031955384583391 43 243} {1770440422865081547 43 244} {1770440422865081547 46 245} {77370624792648774 46 246} {6239444348471399578 46 247} {7273801375864047306 46 248} {1633670938671550058 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258}]
------------------------------------------------------
term 46 Server0 start snapshot! index=249
term 46 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 63118 term 46 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 46 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258}]
------------------------------------------------------
term 46 Server2 start snapshot! index=249
term 46 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5754144834400579563 (index 259) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 1 vote for server 0
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 51414 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 5214 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 260->259
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 246  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 46
------------------------------------------------------
flag 23519 term 48 leader 0 nextIndex[2]: 259  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 46 rf.commitIndex 249 rf.lastApplied 249
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33300 term 48 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 48 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 15161 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43505 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 79424 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 45432 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 61696 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 52554 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 10164 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11805 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 27748 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 64673 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 67847 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8547 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 52976 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 81829 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 85 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 9056 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 98367 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19165 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 32146 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 85237 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 49198 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15948 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 87540 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82855 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 58686 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49282 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 97311 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99518 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 96846 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
flag 39800 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 34424 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37140 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 17998 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2407 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 4484 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259}]
------------------------------------------------------
client write log 5754144834400579563 (index 260) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46966 term 48 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 22108 term 48 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 249} {1751847653447555063 46 250} {4019160813473646912 46 251} {34382097943213750 46 252} {8865658967535227411 46 253} {1572155650992523050 46 254} {7117601339963898306 46 255} {7919658141876588553 46 256} {7671269410063697166 46 257} {43739682561216018 46 258} {5754144834400579563 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 Server0 start snapshot! index=259
term 48 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 55804 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 50404 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 Server2 start snapshot! index=259
term 48 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 48 Server1 start snapshot! index=259
term 48 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 40449 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 29735 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
flag 95903 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 37455 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
flag 83791 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 3612 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
flag 69541 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 26649 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
flag 15292 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 44868 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 61653 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 42710 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 50370 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 20373 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 51913 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 96448 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 25997 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 80873 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 69976 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 33694 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {5754144834400579563 48 260}]
------------------------------------------------------
client write log 7468786863959813402 (index 261) to leader 1
flag 54401 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 24293 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 38173 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 2628 term 49 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {5754144834400579563 48 260} {7468786863959813402 49 261}]
------------------------------------------------------
flag 37978 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 70654 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 21166 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 261 
------------------------------------------------------
flag 29113 term 49 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 49 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {5754144834400579563 48 260} {7468786863959813402 49 261}]
------------------------------------------------------
client write log 8424955684626962984 (index 262) to leader 1
client write log 5750943725055075124 (index 263) to leader 1
client write log 2292006610923287608 (index 264) to leader 1
client write log 5771822955102300587 (index 265) to leader 1
client write log 690874280811180140 (index 266) to leader 1
client write log 4751373611678220133 (index 267) to leader 1
client write log 7409017268685054426 (index 268) to leader 1
client write log 2891489735974750260 (index 269) to leader 1
client write log 8955760429914586946 (index 270) to leader 1
client write log 8812586547260773216 (index 271) to leader 1
client write log 1152806387261488606 (index 272) to leader 1
client write log 767383360891728229 (index 273) to leader 1
flag 68778 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 70041 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 74106 term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 261 
------------------------------------------------------
flag 72612 term 49 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 49 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 259} {5754144834400579563 48 260} {7468786863959813402 49 261} {8424955684626962984 49 262} {5750943725055075124 49 263} {2292006610923287608 49 264} {5771822955102300587 49 265} {690874280811180140 49 266} {4751373611678220133 49 267} {7409017268685054426 49 268} {2891489735974750260 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273}]
------------------------------------------------------
term 49 Server1 start snapshot! index=269
term 49 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=273
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59550 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 92482 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 65346 term 49 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273}]
------------------------------------------------------
term 49 Server2 start snapshot! index=269
term 49 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=273
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2959587230856580758 (index 274) to leader 1
flag 80040 term 48 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
flag 83509 term 48 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 48 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 48 leaderCommit: 260 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 51250 term 49 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 49 rf.commitIndex 269 rf.lastApplied 269
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 269
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 11671 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96202 term 49 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 49 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 18673 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50828 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 89668 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
flag 96149 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 19121 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
flag 29923 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 14138 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
flag 45471 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 31637 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32434 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 59435 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1451655330800779029 (index 275) to leader 1
flag 31146 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 15564 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274} {1451655330800779029 49 275}]
------------------------------------------------------
flag 12600 term 49 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 49 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
flag 77759 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274} {1451655330800779029 49 275}]
------------------------------------------------------
client write log 528501635724021712 (index 276) to leader 1
client write log 4634226124920015884 (index 277) to leader 1
client write log 4981511591582261234 (index 278) to leader 1
client write log 3687861904970454628 (index 279) to leader 1
client write log 2376155567321841030 (index 280) to leader 1
client write log 1133569060221044427 (index 281) to leader 1
client write log 9000510685387089333 (index 282) to leader 1
client write log 4625278772798741857 (index 283) to leader 1
client write log 1428505013568807030 (index 284) to leader 1
client write log 7302778151427691716 (index 285) to leader 1
client write log 761508383006168129 (index 286) to leader 1
flag 29066 term 49 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 49 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
flag 52323 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 49 269} {8955760429914586946 49 270} {8812586547260773216 49 271} {1152806387261488606 49 272} {767383360891728229 49 273} {2959587230856580758 49 274} {1451655330800779029 49 275} {528501635724021712 49 276} {4634226124920015884 49 277} {4981511591582261234 49 278} {3687861904970454628 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286}]
------------------------------------------------------
term 49 Server1 start snapshot! index=279
term 49 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68166 term 49 leader 1 nextIndex[0]: 287  matchIndex[0]: 286
term 49 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286}]
------------------------------------------------------
term 49 Server0 start snapshot! index=279
term 49 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9210821223783347994 (index 287) to leader 1
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 0
term 51 server 1 become leader
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get outdate rpc reply from server 2
flag 70556 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 63312 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 288->287
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 35241 term 51 leader 1 nextIndex[0]: 287  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 49 rf.commitIndex 279 rf.lastApplied 279
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16122 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 9935 term 51 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 51 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41891 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 23117 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 8447 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 65079 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73396 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 46079 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 7970 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 76277 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 79001 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 81014 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 7747 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 20772 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 35536 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 11709 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 14131 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 80146 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 22335 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 71850 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 13698 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 66042 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41557 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 83774 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 86303 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 79951 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 51855 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 70755 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 28534 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 32265 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 85079 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 44433 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
flag 90068 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 6862 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42603 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 64010 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287}]
------------------------------------------------------
client write log 9210821223783347994 (index 288) to leader 1
flag 36332 term 51 leader 1 nextIndex[0]: 288  matchIndex[0]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 16618 term 51 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 51 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
flag 48538 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 93636 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
flag 41062 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 28328 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78076 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 46263 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78130 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 42711 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
flag 81460 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 28955 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
flag 47671 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 46031 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3217852161340920351 (index 289) to leader 1
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89815 term 51 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
flag 7201 term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 51 leaderCommit: 288 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 49 279} {2376155567321841030 49 280} {1133569060221044427 49 281} {9000510685387089333 49 282} {4625278772798741857 49 283} {1428505013568807030 49 284} {7302778151427691716 49 285} {761508383006168129 49 286} {9210821223783347994 49 287} {9210821223783347994 51 288} {3217852161340920351 51 289}]
------------------------------------------------------
term 51 Server1 start snapshot! index=289
term 51 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 21635 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 51 289}]
------------------------------------------------------
term 51 Server0 start snapshot! index=289
term 51 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 683522241693500142 (index 290) to leader 1
client write log 778057062127985579 (index 291) to leader 1
client write log 2179799908660834950 (index 292) to leader 1
client write log 5397001230942688712 (index 293) to leader 1
client write log 3543108499108415521 (index 294) to leader 1
client write log 9202352706706101446 (index 295) to leader 1
client write log 4330891170520782460 (index 296) to leader 1
client write log 3400529040713817274 (index 297) to leader 1
client write log 2531012214404688926 (index 298) to leader 1
client write log 200513207646729262 (index 299) to leader 1
client write log 1466218721450551135 (index 300) to leader 1
client write log 2605018551187876819 (index 301) to leader 1
client write log 8136949869434829577 (index 302) to leader 1
client write log 1028548214162376910 (index 303) to leader 1
client write log 2971479090168706777 (index 304) to leader 1
flag 91211 term 51 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 289 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 289} {683522241693500142 51 290} {778057062127985579 51 291} {2179799908660834950 51 292} {5397001230942688712 51 293} {3543108499108415521 51 294} {9202352706706101446 51 295} {4330891170520782460 51 296} {3400529040713817274 51 297} {2531012214404688926 51 298} {200513207646729262 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304}]
------------------------------------------------------
term 51 Server1 start snapshot! index=299
term 51 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69578 term 51 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304}]
------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4163950222141292940 (index 305) to leader 1
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 0 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 1 get outdate rpc reply from server 0
flag 92283 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 18629 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 306->305
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 306->305
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88194 term 53 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96374 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 56028 term 53 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 96625 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 66266 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 41660 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 5168 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 64579 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 50038 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13423 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 62871 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52063 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 67360 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 33662 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 62410 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 9738 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 60145 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23952 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 52445 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 55683 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 10874 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 7154 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 34483 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 21926 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 103 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 5043 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 50014 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26352 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 28400 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3841 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 24779 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 34297 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 89458 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
flag 38024 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 80907 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4163950222141292940 (index 306) to leader 1
flag 78191 term 53 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 40188 term 53 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 53 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82932 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 14146 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
update nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
flag 88933 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 41607 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
update nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
flag 59757 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 11615 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32076 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 25123 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
flag 30897 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 47090 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 87415 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 62445 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 10219 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 3900 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 74893 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 35633 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 0
term 54 server 2 become leader
------------------------------------------------------
flag 68315 term 54 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 51981 term 54 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306}]
------------------------------------------------------
client write log 2643585141649221589 (index 307) to leader 2
flag 28273 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 24691 term 53 leader 1 nextIndex[2]: 307  matchIndex[2]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 32890 term 54 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
flag 72522 term 54 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306} {2643585141649221589 54 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
flag 82346 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
flag 58825 term 54 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 54 leaderCommit: 307 
------------------------------------------------------
flag 92436 term 54 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306} {2643585141649221589 54 307}]
------------------------------------------------------
client write log 1295271860832843862 (index 308) to leader 2
client write log 7852061396994420770 (index 309) to leader 2
client write log 4634878206256593143 (index 310) to leader 2
client write log 6254714772952657072 (index 311) to leader 2
client write log 6511341981651005122 (index 312) to leader 2
client write log 5500128626686922606 (index 313) to leader 2
client write log 7583934802856110077 (index 314) to leader 2
client write log 2139832948926496960 (index 315) to leader 2
client write log 9065968174222789165 (index 316) to leader 2
client write log 5845098929045224322 (index 317) to leader 2
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23528 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
flag 79257 term 54 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 54 leaderCommit: 307 
------------------------------------------------------
flag 6740 term 54 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 307 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 51 299} {1466218721450551135 51 300} {2605018551187876819 51 301} {8136949869434829577 51 302} {1028548214162376910 51 303} {2971479090168706777 51 304} {4163950222141292940 51 305} {4163950222141292940 53 306} {2643585141649221589 54 307} {1295271860832843862 54 308} {7852061396994420770 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 Server2 start snapshot! index=309
term 54 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
flag 68222 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
flag 98612 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 54 Server0 start snapshot! index=309
term 54 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6866232354719216029 (index 307) to leader 1
flag 64560 term 53 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 53 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 53 leaderCommit: 306 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 0  matchIndex[2]: 306
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 server 0 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14844 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 95505 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 73902 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 308  matchIndex[1]: 309
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 54 rf.commitIndex 309 rf.lastApplied 309
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40662 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 48295 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 92103 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 8875 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43857 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 55231 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 46781 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 35132 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10393 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 39853 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 46393 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 68716 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 15214 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 25521 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 55947 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 88617 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7195 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 19396 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75518 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 73369 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 77445 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 86311 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 23213 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 76386 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 48621 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 601 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 38289 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 69573 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 72487 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 81696 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 12799 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 26153 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 14761 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 44116 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
flag 7529 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 25455 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317}]
------------------------------------------------------
client write log 6866232354719216029 (index 318) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76374 term 54 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 67863 term 54 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 54 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 319->318
------------------------------------------------------
flag 77294 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
rf.commitIndex 317 args.LastIncludedIndex 309
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24682 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 51075 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
flag 58945 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 68296 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 319->318
------------------------------------------------------
flag 19614 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
rf.commitIndex 318 args.LastIncludedIndex 309
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 66531 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 17625 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47712 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 98802 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
flag 28173 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 18715 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=319
update matchIndex[1]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8645026427244821207 (index 319) to leader 2
flag 72895 term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
flag 6332 term 54 leader 2 nextIndex[1]: 319  matchIndex[1]: 318
term 54 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 54 309} {4634878206256593143 54 310} {6254714772952657072 54 311} {6511341981651005122 54 312} {5500128626686922606 54 313} {7583934802856110077 54 314} {2139832948926496960 54 315} {9065968174222789165 54 316} {5845098929045224322 54 317} {6866232354719216029 54 318} {8645026427244821207 54 319}]
------------------------------------------------------
term 54 Server2 start snapshot! index=319
term 54 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 57212 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=319
leader log:
[{snapshot 54 319}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 54 server 1 not vote for server 2, 日志不够新
term 54 server 2 get outdate rpc reply from server 1
client write log 713179673486356033 (index 320) to leader 2
client write log 8269336345566891880 (index 321) to leader 2
client write log 2571018194984220480 (index 322) to leader 2
client write log 3522179899335997377 (index 323) to leader 2
client write log 2165696819584260640 (index 324) to leader 2
client write log 945197770032193801 (index 325) to leader 2
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 16183 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 319 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325}]
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 56809 term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325}]
------------------------------------------------------
!!!!!!connect server 0
client write log 382747541237270289 (index 326) to leader 2
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 44310 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 57027 term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 55 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 1 vote for server 2
term 57 server 0 vote for server 2
term 57 server 2 get vote from server 0
term 57 server 2 become leader
------------------------------------------------------
term 57 server 2 get outdate rpc reply from server 1
flag 83757 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 83899 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 327->326
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 319  matchIndex[0]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 74533 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 server 0 InstallSnapshot success
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 54 rf.commitIndex 319 rf.lastApplied 319
flag 10107 term 57 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 60143 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
flag 4215 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 64402 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51587 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 48330 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
flag 90945 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 54448 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
flag 7820 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 26753 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
flag 20335 term 57 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 94882 term 57 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 57 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {713179673486356033 54 320} {8269336345566891880 54 321} {2571018194984220480 54 322} {3522179899335997377 54 323} {2165696819584260640 54 324} {945197770032193801 54 325} {382747541237270289 54 326}]
------------------------------------------------------
  ... Passed --  78.7  3 1781  759829  326
--- PASS: TestSnapshotInstall2D (78.65s)
PASS
