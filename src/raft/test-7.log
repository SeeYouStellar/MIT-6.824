=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 63819 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 85626 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6713160525023026423 (index 1) to leader 1
flag 98082 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
[{6713160525023026423 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 83381 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
[{6713160525023026423 1 1}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
flag 32749 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 85263 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6713160525023026423 1 1}]
------------------------------------------------------
client write log 6946931876805207552 (index 2) to leader 1
flag 55200 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
[{6946931876805207552 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 41825 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
[{6946931876805207552 1 2}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
flag 69235 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 804 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2}]
------------------------------------------------------
client write log 4642880923478470847 (index 3) to leader 1
flag 71561 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
[{4642880923478470847 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 58647 term 1 leader 1 nextIndex[2]: 3  matchIndex[2]: 2
[{4642880923478470847 1 3}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
flag 68290 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 79281 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3}]
------------------------------------------------------
client write log 1662724508492130720 (index 4) to leader 1
flag 46568 term 1 leader 1 nextIndex[0]: 4  matchIndex[0]: 3
[{1662724508492130720 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 36471 term 1 leader 1 nextIndex[2]: 4  matchIndex[2]: 3
[{1662724508492130720 1 4}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
flag 32523 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 41542 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4}]
------------------------------------------------------
client write log 7822126797531469640 (index 5) to leader 1
flag 42852 term 1 leader 1 nextIndex[0]: 5  matchIndex[0]: 4
[{7822126797531469640 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 43119 term 1 leader 1 nextIndex[2]: 5  matchIndex[2]: 4
[{7822126797531469640 1 5}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
flag 29090 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 20264 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5}]
------------------------------------------------------
client write log 8233640347697948392 (index 6) to leader 1
flag 58185 term 1 leader 1 nextIndex[0]: 6  matchIndex[0]: 5
[{8233640347697948392 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 22355 term 1 leader 1 nextIndex[2]: 6  matchIndex[2]: 5
[{8233640347697948392 1 6}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
flag 30547 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 99207 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6}]
------------------------------------------------------
client write log 8985289293313568830 (index 7) to leader 1
flag 31982 term 1 leader 1 nextIndex[0]: 7  matchIndex[0]: 6
[{8985289293313568830 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 45534 term 1 leader 1 nextIndex[2]: 7  matchIndex[2]: 6
[{8985289293313568830 1 7}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
flag 75004 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 39220 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7}]
------------------------------------------------------
client write log 3382833296191004782 (index 8) to leader 1
flag 94335 term 1 leader 1 nextIndex[0]: 8  matchIndex[0]: 7
[{3382833296191004782 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 7314 term 1 leader 1 nextIndex[2]: 8  matchIndex[2]: 7
[{3382833296191004782 1 8}]
term 1 leader 1 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
flag 88761 term 1 leader 1 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 18859 term 1 leader 1 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 1 leader 1 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 1 logs [{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 1 logs [{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 1 logs [{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
!!!!!! server 2 crash
term 2 server 1 vote for server 2
term 2 server 0 vote for server 2
term 2 server 2 get vote from server 1
term 2 server 2 become leader
------------------------------------------------------
term 2 server 2 get outdate rpc reply from server 0
flag 82416 term 2 leader 2 nextIndex[0]: 9  matchIndex[0]: 0
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 62641 term 2 leader 2 nextIndex[1]: 9  matchIndex[1]: 0
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=0
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8}]
------------------------------------------------------
client write log 1024499379357777571 (index 9) to leader 2
flag 48653 term 2 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[{1024499379357777571 2 9}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
flag 5092 term 2 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[{1024499379357777571 2 9}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 0 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
term 2 Server2 start snapshot! index=9
term 2 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 62370 term 2 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 75394 term 2 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {6713160525023026423 1 1} {6946931876805207552 1 2} {4642880923478470847 1 3} {1662724508492130720 1 4} {7822126797531469640 1 5} {8233640347697948392 1 6} {8985289293313568830 1 7} {3382833296191004782 1 8} {1024499379357777571 2 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 2 9}]
------------------------------------------------------
term 2 Server1 start snapshot! index=9
term 2 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 2 Server0 start snapshot! index=9
term 2 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 1975171414742489359 (index 10) to leader 2
flag 92576 term 2 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[{1975171414742489359 2 10}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 25635 term 2 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[{1975171414742489359 2 10}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
flag 23131 term 2 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 57395 term 2 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 2 9} {1975171414742489359 2 10}]
------------------------------------------------------
client write log 8456604988517366894 (index 11) to leader 2
flag 90337 term 2 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[{8456604988517366894 2 11}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
flag 18212 term 2 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[{8456604988517366894 2 11}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 2 leaderCommit: 10 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:10 
server 1 log:
term 2 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
flag 18653 term 2 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 61998 term 2 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11}]
------------------------------------------------------
client write log 7627498771907214868 (index 12) to leader 2
flag 23313 term 2 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[{7627498771907214868 2 12}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 48407 term 2 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[{7627498771907214868 2 12}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
flag 21814 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 20431 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12}]
------------------------------------------------------
client write log 142962323304460436 (index 13) to leader 2
flag 90124 term 2 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
[{142962323304460436 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 74789 term 2 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
[{142962323304460436 2 13}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
flag 96088 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 48175 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13}]
------------------------------------------------------
client write log 6028254101881149573 (index 14) to leader 2
flag 72550 term 2 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
[{6028254101881149573 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 52486 term 2 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
[{6028254101881149573 2 14}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
flag 92436 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 61677 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14}]
------------------------------------------------------
client write log 3861451732739725823 (index 15) to leader 2
flag 39827 term 2 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
[{3861451732739725823 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 55714 term 2 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
[{3861451732739725823 2 15}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
flag 33362 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 154 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15}]
------------------------------------------------------
client write log 8622920262801048834 (index 16) to leader 2
flag 92876 term 2 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
[{8622920262801048834 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 55191 term 2 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
[{8622920262801048834 2 16}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
flag 78442 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 90683 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16}]
------------------------------------------------------
client write log 6921275251381804668 (index 17) to leader 2
flag 31979 term 2 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
[{6921275251381804668 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 95619 term 2 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
[{6921275251381804668 2 17}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
flag 63985 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 97042 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17}]
------------------------------------------------------
client write log 5105098578997215051 (index 18) to leader 2
flag 3382 term 2 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
[{5105098578997215051 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 95192 term 2 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
[{5105098578997215051 2 18}]
term 2 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
flag 67712 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 39573 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 2 logs [{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 2 logs [{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 2 logs [{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
!!!!!! server 2 crash
flag 57773 term 2 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 68939 term 2 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 92041 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 33733 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=9
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=9
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18}]
------------------------------------------------------
client write log 8569003925049756463 (index 19) to leader 1
flag 8806 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[{8569003925049756463 3 19}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
flag 93588 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[{8569003925049756463 3 19}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 68869 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69076 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 9} {1975171414742489359 2 10} {8456604988517366894 2 11} {7627498771907214868 2 12} {142962323304460436 2 13} {6028254101881149573 2 14} {3861451732739725823 2 15} {8622920262801048834 2 16} {6921275251381804668 2 17} {5105098578997215051 2 18} {8569003925049756463 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 3976277939191126019 (index 20) to leader 1
flag 3108 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[{3976277939191126019 3 20}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69313 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[{3976277939191126019 3 20}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
flag 57827 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 89025 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3976277939191126019 3 20}]
------------------------------------------------------
client write log 1388697099200919690 (index 21) to leader 1
flag 4588 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{1388697099200919690 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 88688 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{1388697099200919690 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
flag 12375 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 21012 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21}]
------------------------------------------------------
client write log 7430770859950490760 (index 22) to leader 1
flag 64489 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{7430770859950490760 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 37628 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{7430770859950490760 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
flag 26007 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 84867 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22}]
------------------------------------------------------
client write log 3691402551802729967 (index 23) to leader 1
flag 66983 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{3691402551802729967 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 84522 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{3691402551802729967 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
flag 44392 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 36568 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23}]
------------------------------------------------------
client write log 7642844836742639701 (index 24) to leader 1
flag 32670 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{7642844836742639701 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 94794 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{7642844836742639701 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
flag 1817 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 44460 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24}]
------------------------------------------------------
client write log 9108582659344484118 (index 25) to leader 1
flag 86557 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{9108582659344484118 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 8388 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{9108582659344484118 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
flag 30927 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 46284 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25}]
------------------------------------------------------
client write log 5069131077027989962 (index 26) to leader 1
flag 35993 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{5069131077027989962 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 39470 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{5069131077027989962 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
flag 44506 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 49197 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26}]
------------------------------------------------------
client write log 5803671793605003498 (index 27) to leader 1
flag 82776 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{5803671793605003498 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 46206 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{5803671793605003498 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
flag 46818 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 86477 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27}]
------------------------------------------------------
client write log 7724733970328465517 (index 28) to leader 1
flag 82664 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{7724733970328465517 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 47840 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{7724733970328465517 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
flag 51805 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 37024 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28}]
------------------------------------------------------
client write log 6803530237628295521 (index 29) to leader 1
flag 94236 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{6803530237628295521 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 89812 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{6803530237628295521 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 78800 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 28494 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 19} {3976277939191126019 3 20} {1388697099200919690 3 21} {7430770859950490760 3 22} {3691402551802729967 3 23} {7642844836742639701 3 24} {9108582659344484118 3 25} {5069131077027989962 3 26} {5803671793605003498 3 27} {7724733970328465517 3 28} {6803530237628295521 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 7398441414312767102 (index 30) to leader 1
flag 22741 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[{7398441414312767102 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 34367 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[{7398441414312767102 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
flag 41458 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 51240 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7398441414312767102 3 30}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7398441414312767102 3 30}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {7398441414312767102 3 30}]
!!!!!! server 2 crash
flag 82807 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 2296 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
term 4 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
flag 49879 term 4 leader 2 nextIndex[0]: 31  matchIndex[0]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 24228 term 4 leader 2 nextIndex[1]: 31  matchIndex[1]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {7398441414312767102 3 30}]
------------------------------------------------------
client write log 2466380489011823237 (index 31) to leader 2
flag 24861 term 4 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[{2466380489011823237 4 31}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 73489 term 4 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[{2466380489011823237 4 31}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
flag 15345 term 4 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 85895 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31}]
------------------------------------------------------
client write log 271590949250730482 (index 32) to leader 2
flag 95450 term 4 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{271590949250730482 4 32}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
flag 30490 term 4 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{271590949250730482 4 32}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 31 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
flag 97580 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 2540 term 4 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32}]
------------------------------------------------------
client write log 6364643269388625886 (index 33) to leader 2
flag 38936 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{6364643269388625886 4 33}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 84902 term 4 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{6364643269388625886 4 33}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
flag 36400 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 46447 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33}]
------------------------------------------------------
client write log 2508647700829203335 (index 34) to leader 2
flag 60889 term 4 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{2508647700829203335 4 34}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 55518 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{2508647700829203335 4 34}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
flag 53150 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 50992 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34}]
------------------------------------------------------
client write log 2554665909767271982 (index 35) to leader 2
flag 16158 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{2554665909767271982 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 25512 term 4 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{2554665909767271982 4 35}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
flag 37063 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 1411 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35}]
------------------------------------------------------
client write log 4490910926341605205 (index 36) to leader 2
flag 10704 term 4 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{4490910926341605205 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 18484 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{4490910926341605205 4 36}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
flag 54168 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 65215 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36}]
------------------------------------------------------
client write log 475573683056762028 (index 37) to leader 2
flag 83014 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{475573683056762028 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 28686 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{475573683056762028 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
flag 37503 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 67963 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37}]
------------------------------------------------------
client write log 1774881079140480840 (index 38) to leader 2
flag 56211 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{1774881079140480840 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 6130 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{1774881079140480840 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
flag 7418 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 77070 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38}]
------------------------------------------------------
client write log 3245160036434654991 (index 39) to leader 2
flag 78369 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{3245160036434654991 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 4923 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{3245160036434654991 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 80813 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 14688 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {7398441414312767102 3 30} {2466380489011823237 4 31} {271590949250730482 4 32} {6364643269388625886 4 33} {2508647700829203335 4 34} {2554665909767271982 4 35} {4490910926341605205 4 36} {475573683056762028 4 37} {1774881079140480840 4 38} {3245160036434654991 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 3029562098277958824 (index 40) to leader 2
flag 82423 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[{3029562098277958824 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 75550 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[{3029562098277958824 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
flag 22987 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 9590 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3029562098277958824 4 40}]
------------------------------------------------------
client write log 6198384163514350575 (index 41) to leader 2
flag 29532 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[{6198384163514350575 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 71582 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[{6198384163514350575 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
flag 18349 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 83455 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41}]
------------------------------------------------------
client write log 6191369287059907783 (index 42) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
flag 31344 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[{6191369287059907783 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 60383 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[{6191369287059907783 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
flag 29367 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 23245 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42}]
------------------------------------------------------
client write log 4314233133079830742 (index 43) to leader 2
flag 72560 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[{4314233133079830742 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 7080 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[{4314233133079830742 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
flag 73463 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 99435 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43}]
------------------------------------------------------
client write log 4071017631667058914 (index 44) to leader 2
flag 59034 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[{4071017631667058914 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 36735 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[{4071017631667058914 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
flag 44350 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 68594 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44}]
------------------------------------------------------
client write log 505078522341839318 (index 45) to leader 2
flag 98206 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[{505078522341839318 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 3767 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[{505078522341839318 4 45}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
flag 60778 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 23438 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45}]
------------------------------------------------------
client write log 2006169345461301727 (index 46) to leader 2
flag 98723 term 4 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[{2006169345461301727 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 2788 term 4 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[{2006169345461301727 4 46}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
flag 99161 term 4 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 49650 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
!!!!!! server 2 crash
flag 14510 term 4 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 49349 term 4 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 5 server 2 vote for server 1
term 5 server 1 get vote from server 2
term 5 server 1 become leader
------------------------------------------------------
term 5 server 0 vote for server 1
term 5 server 1 get outdate rpc reply from server 0
flag 46832 term 5 leader 1 nextIndex[0]: 47  matchIndex[0]: 0
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 85304 term 5 leader 1 nextIndex[2]: 47  matchIndex[2]: 0
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
client write log 1104350988998858684 (index 47) to leader 1
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
flag 21526 term 5 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
[{1104350988998858684 5 47}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 62519 term 5 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
[{1104350988998858684 5 47}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
flag 5934 term 5 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 36733 term 5 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47}]
------------------------------------------------------
client write log 627973746608806192 (index 48) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
flag 58951 term 5 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
[{627973746608806192 5 48}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 11688 term 5 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
[{627973746608806192 5 48}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
flag 97841 term 5 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 63765 term 5 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48}]
------------------------------------------------------
client write log 1175633084696120105 (index 49) to leader 1
flag 83375 term 5 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
[{1175633084696120105 5 49}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 78211 term 5 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
[{1175633084696120105 5 49}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 38949 term 5 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 41728 term 5 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {3029562098277958824 4 40} {6198384163514350575 4 41} {6191369287059907783 4 42} {4314233133079830742 4 43} {4071017631667058914 4 44} {505078522341839318 4 45} {2006169345461301727 4 46} {1104350988998858684 5 47} {627973746608806192 5 48} {1175633084696120105 5 49}]
------------------------------------------------------
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 2901532332668949571 (index 50) to leader 1
flag 44046 term 5 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
[{2901532332668949571 5 50}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 2103 term 5 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
[{2901532332668949571 5 50}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
flag 57353 term 5 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 25367 term 5 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {2901532332668949571 5 50}]
------------------------------------------------------
client write log 8590505346451085240 (index 51) to leader 1
flag 97086 term 5 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
[{8590505346451085240 5 51}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 79226 term 5 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
[{8590505346451085240 5 51}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
flag 41969 term 5 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 69509 term 5 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51}]
------------------------------------------------------
client write log 717032611552824613 (index 52) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
flag 72891 term 5 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
[{717032611552824613 5 52}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 61813 term 5 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
[{717032611552824613 5 52}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
flag 20271 term 5 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 3674 term 5 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52}]
------------------------------------------------------
client write log 5906583684464909726 (index 53) to leader 1
flag 51429 term 5 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
[{5906583684464909726 5 53}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 23036 term 5 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
[{5906583684464909726 5 53}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
flag 27125 term 5 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 42072 term 5 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53}]
------------------------------------------------------
client write log 4665514004746983074 (index 54) to leader 1
flag 76678 term 5 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
[{4665514004746983074 5 54}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 96706 term 5 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
[{4665514004746983074 5 54}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
flag 24181 term 5 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 85485 term 5 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 1 logs [{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 1 logs [{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 1 logs [{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
!!!!!! server 2 crash
flag 86510 term 5 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 49359 term 5 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 25559 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 14554 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 0
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54}]
------------------------------------------------------
client write log 4828402469912302186 (index 55) to leader 1
flag 72933 term 6 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
[{4828402469912302186 6 55}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 41080 term 6 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
[{4828402469912302186 6 55}]
term 6 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
flag 65075 term 6 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
flag 66217 term 6 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 6 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 6 leaderCommit: 55 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {2901532332668949571 5 50} {8590505346451085240 5 51} {717032611552824613 5 52} {5906583684464909726 5 53} {4665514004746983074 5 54} {4828402469912302186 6 55}]
------------------------------------------------------
  ... Passed --  12.9  3  272   80163   55
--- PASS: TestSnapshotAllCrash2D (12.88s)
PASS
