=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 6552 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 78709 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2057117926241274764 (index 1) to leader 1
flag 2791 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 58325 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
flag 98163 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86501 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
flag 33631 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 28979 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
flag 93520 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 34964 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
flag 17231 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56179 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
flag 25237 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 35393 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2057117926241274764 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1497242297468746687 (index 2) to leader 1
flag 33000 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1364 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2057117926241274764 1 1} {1497242297468746687 1 2}]
------------------------------------------------------
flag 2094 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 12429 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2057117926241274764 1 1} {1497242297468746687 1 2}]
------------------------------------------------------
client write log 3340853659886261243 (index 3) to leader 1
client write log 6800383378261076326 (index 4) to leader 1
client write log 8862863219982161939 (index 5) to leader 1
client write log 5503347680652449960 (index 6) to leader 1
client write log 9163678234640023135 (index 7) to leader 1
client write log 3686473318474398496 (index 8) to leader 1
client write log 3472968230605667380 (index 9) to leader 1
client write log 7596197901028227559 (index 10) to leader 1
client write log 9159596038728547903 (index 11) to leader 1
client write log 2967341812982437911 (index 12) to leader 1
client write log 5568918035509228276 (index 13) to leader 1
client write log 2892861728500127032 (index 14) to leader 1
client write log 3143044921404410073 (index 15) to leader 1
client write log 3846939290479312119 (index 16) to leader 1
client write log 8024485180281870841 (index 17) to leader 1
flag 8531 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 48063 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {2057117926241274764 1 1} {1497242297468746687 1 2} {3340853659886261243 1 3} {6800383378261076326 1 4} {8862863219982161939 1 5} {5503347680652449960 1 6} {9163678234640023135 1 7} {3686473318474398496 1 8} {3472968230605667380 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
flag 28596 term 1 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 1 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4863300783400249712 (index 18) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 15150 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 30278 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
flag 58571 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 1873 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 87753 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 12968 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 86880 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 13213 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 86494 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 24635 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 5723 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 48359 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 86521 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 29857 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 72388 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 68056 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66335 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 97438 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 72491 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 36684 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 49279 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 24010 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 61731 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 57538 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 5760 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 77851 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 55743 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 32749 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 35945 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85990 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 1412 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 16363 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 11877 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 37820 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 85718 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
flag 45124 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 96049 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18}]
------------------------------------------------------
client write log 4863300783400249712 (index 19) to leader 1
flag 56843 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 35758 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18} {4863300783400249712 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7596197901028227559 1 10} {9159596038728547903 1 11} {2967341812982437911 1 12} {5568918035509228276 1 13} {2892861728500127032 1 14} {3143044921404410073 1 15} {3846939290479312119 1 16} {8024485180281870841 1 17} {4863300783400249712 1 18} {4863300783400249712 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 63513 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 84142 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 82362 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 38591 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 98036 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 45830 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 60184 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 13058 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 45569 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 94059 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 71836 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 78383 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 90137 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 72687 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 94976 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 77440 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 71829 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 48168 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 85039 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69422 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
client write log 3935467129271334112 (index 20) to leader 0
flag 88429 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 5861 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3935467129271334112 4 20}]
------------------------------------------------------
flag 64218 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 24767 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 81357 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 18572 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {3935467129271334112 4 20}]
------------------------------------------------------
client write log 8786621870142112968 (index 21) to leader 0
flag 60232 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 34285 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 53416 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
flag 93169 term 4 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 3314 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 67577 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65428 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 6283 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
!!!!!!connect server 1
client write log 747043664287739058 (index 20) to leader 1
flag 57865 term 3 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 35026 term 3 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 3 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46216 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 94573 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 52324 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 78050 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 82645 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 8388 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 59306 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 65500 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 91413 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 36672 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 90702 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 82601 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 4375 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 55303 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68191 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 35401 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 26366 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 7104 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15755 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 65359 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 43223 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 79634 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97404 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 44010 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 91365 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 18315 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 93825 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 64761 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 12093 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 42213 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80176 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 53712 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 61271 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 33950 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
flag 2128 term 4 leader 0 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 30563 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 81302 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
client write log 747043664287739058 (index 22) to leader 0
flag 18768 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 64689 term 4 leader 0 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 0 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
flag 10136 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 15040 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 1
flag 4026 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 32019 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37921 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 60707 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
flag 91876 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 17540 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86273 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 15463 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
flag 93722 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 92930 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8165485213968254285 (index 23) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20576 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 17150 term 4 leader 0 nextIndex[2]: 23  matchIndex[2]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22} {8165485213968254285 4 23}]
------------------------------------------------------
flag 27310 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 80224 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22} {8165485213968254285 4 23}]
------------------------------------------------------
client write log 2320173099791605264 (index 24) to leader 0
client write log 2463037913166190168 (index 25) to leader 0
client write log 9183951125229159764 (index 26) to leader 0
client write log 6223082421829104932 (index 27) to leader 0
client write log 8788651361236899245 (index 28) to leader 0
client write log 1245680530363888595 (index 29) to leader 0
client write log 1370006235923458635 (index 30) to leader 0
client write log 3453806211968071035 (index 31) to leader 0
client write log 1799735486912898271 (index 32) to leader 0
client write log 3824460503471969096 (index 33) to leader 0
client write log 3479972144648951969 (index 34) to leader 0
client write log 6005022119015969406 (index 35) to leader 0
client write log 5303128368951627162 (index 36) to leader 0
flag 37587 term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 26510 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 19} {3935467129271334112 4 20} {8786621870142112968 4 21} {747043664287739058 4 22} {8165485213968254285 4 23} {2320173099791605264 4 24} {2463037913166190168 4 25} {9183951125229159764 4 26} {6223082421829104932 4 27} {8788651361236899245 4 28} {1245680530363888595 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 63397 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8663328252376758526 (index 37) to leader 0
term 4 leader 0 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 22484 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 1
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 2
flag 70582 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 61100 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 38->37
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 23  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 12243 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78026 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 94016 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16102 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 52263 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
flag 3334 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 894 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
flag 98798 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 74329 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80313 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 57455 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
flag 70477 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 9391 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
flag 37985 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 59506 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8927762167874341603 (index 38) to leader 0
flag 66257 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 19913 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37} {8927762167874341603 6 38}]
------------------------------------------------------
flag 13188 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 47666 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37} {8927762167874341603 6 38}]
------------------------------------------------------
client write log 6752462282152275782 (index 39) to leader 0
client write log 3122765134367704109 (index 40) to leader 0
client write log 2640265811990660289 (index 41) to leader 0
client write log 4994850082680656008 (index 42) to leader 0
client write log 7887839593117750061 (index 43) to leader 0
client write log 2056646560789680271 (index 44) to leader 0
client write log 2583505045850893242 (index 45) to leader 0
client write log 6792844755894292595 (index 46) to leader 0
client write log 3931962261467987537 (index 47) to leader 0
client write log 7200158332936190137 (index 48) to leader 0
client write log 1733935466257383029 (index 49) to leader 0
flag 38609 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 12841 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 29} {1370006235923458635 4 30} {3453806211968071035 4 31} {1799735486912898271 4 32} {3824460503471969096 4 33} {3479972144648951969 4 34} {6005022119015969406 4 35} {5303128368951627162 4 36} {8663328252376758526 4 37} {8927762167874341603 6 38} {6752462282152275782 6 39} {3122765134367704109 6 40} {2640265811990660289 6 41} {4994850082680656008 6 42} {7887839593117750061 6 43} {2056646560789680271 6 44} {2583505045850893242 6 45} {6792844755894292595 6 46} {3931962261467987537 6 47} {7200158332936190137 6 48} {1733935466257383029 6 49}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=49
-------------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 91875 term 6 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 6 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=49
-------------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4697518187122459587 (index 50) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 48399 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 97172 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 51->50
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 7965 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 26827 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 81337 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5399 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 48539 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 23446 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 23970 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43854 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 18836 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 70387 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 76639 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 79488 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 96330 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 2687 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 6891 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73876 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 97019 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 34862 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 4797 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44519 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 71051 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 5259 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 72973 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65136 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 59670 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 66622 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 84623 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 59584 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 64550 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 25871 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 74 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 11226 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 21683 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 41059 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 46278 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
flag 83963 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 69139 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=49
leader log:
[{snapshot 6 49} {4697518187122459587 6 50}]
------------------------------------------------------
client write log 4697518187122459587 (index 51) to leader 0
flag 10493 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
flag 63843 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
flag 27759 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 82492 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
flag 94633 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 96882 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95017 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 89969 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
flag 51497 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 52471 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:51 
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
flag 44904 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 41241 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 27711 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 45172 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 52537 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 37958 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 47972 term 8 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 49583 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 65632 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 27837 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51}]
------------------------------------------------------
client write log 611150262885734328 (index 52) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 66295 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 71357 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 36221 term 9 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51} {611150262885734328 9 52}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 596 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 83338 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 68225 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51} {611150262885734328 9 52}]
------------------------------------------------------
client write log 3495199283666567255 (index 53) to leader 1
client write log 3936389794090189316 (index 54) to leader 1
client write log 3617633225711100383 (index 55) to leader 1
client write log 6966113348178837022 (index 56) to leader 1
client write log 2062651324715131929 (index 57) to leader 1
client write log 494597946500473056 (index 58) to leader 1
client write log 7237280530153854595 (index 59) to leader 1
client write log 6938325291928481867 (index 60) to leader 1
client write log 6503797447586478024 (index 61) to leader 1
client write log 6313356562312861955 (index 62) to leader 1
client write log 4304080023851834551 (index 63) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 36144 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 78191 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 58432 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 6 49} {4697518187122459587 6 50} {4697518187122459587 8 51} {611150262885734328 9 52} {3495199283666567255 9 53} {3936389794090189316 9 54} {3617633225711100383 9 55} {6966113348178837022 9 56} {2062651324715131929 9 57} {494597946500473056 9 58} {7237280530153854595 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 2077 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 91874 term 9 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 9 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=63
-------------------------------------------------------------
!!!!!!connect server 0
client write log 746682959366673310 (index 64) to leader 1
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 51
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 4482 term 8 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 8 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 79248 term 9 leader 1 nextIndex[2]: 64  matchIndex[2]: 63
term 9 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 2
flag 36102 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 73044 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 65->64
------------------------------------------------------
flag 87781 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 64791 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56567 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 84869 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
update nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 92274 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 68462 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
flag 55906 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 99757 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53861 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 6084 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86180 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 98650 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2780809875408243961 (index 65) to leader 1
flag 76475 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 13335 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64} {2780809875408243961 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95333 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 84011 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64} {2780809875408243961 11 65}]
------------------------------------------------------
client write log 2587904053145084650 (index 66) to leader 1
client write log 4852162166977280404 (index 67) to leader 1
client write log 1526395085195608913 (index 68) to leader 1
client write log 6166625426659142080 (index 69) to leader 1
client write log 5210345161585996469 (index 70) to leader 1
client write log 4749927722702046030 (index 71) to leader 1
client write log 1890560929903725385 (index 72) to leader 1
client write log 4114036404470466037 (index 73) to leader 1
client write log 7535600619566994251 (index 74) to leader 1
client write log 506839274030105457 (index 75) to leader 1
client write log 959890551919872485 (index 76) to leader 1
client write log 3167543947846726242 (index 77) to leader 1
client write log 8058330796699334198 (index 78) to leader 1
client write log 8983039435588183549 (index 79) to leader 1
flag 19618 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 61580 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 59} {6938325291928481867 9 60} {6503797447586478024 9 61} {6313356562312861955 9 62} {4304080023851834551 9 63} {746682959366673310 9 64} {2780809875408243961 11 65} {2587904053145084650 11 66} {4852162166977280404 11 67} {1526395085195608913 11 68} {6166625426659142080 11 69} {5210345161585996469 11 70} {4749927722702046030 11 71} {1890560929903725385 11 72} {4114036404470466037 11 73} {7535600619566994251 11 74} {506839274030105457 11 75} {959890551919872485 11 76} {3167543947846726242 11 77} {8058330796699334198 11 78} {8983039435588183549 11 79}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 90608 term 11 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 11 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 79}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4276207009200380349 (index 80) to leader 1
term 11 server 0 not vote for server 2, 日志不够新
term 11 server 1 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 72899 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 67306 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 81->80
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
flag 53108 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 65  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 52751 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 42857 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35264 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 23379 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 34800 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 86746 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 26548 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 80817 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 48752 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 11143 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 27453 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 76516 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57506 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 13514 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 52949 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 14755 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70512 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 12868 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 63709 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 23588 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 71935 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 55624 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 19007 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 44444 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 8471 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 31872 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 2305 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 20134 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
flag 36807 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 38402 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 42442 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 27234 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65683 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 12129 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51267 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 72342 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {4276207009200380349 11 80}]
------------------------------------------------------
client write log 4276207009200380349 (index 81) to leader 1
flag 58395 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 39957 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
flag 98272 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 18137 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14819 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 53888 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
flag 68165 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 667 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69901 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 48623 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
flag 72372 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 19663 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 433794639262612618 (index 82) to leader 1
flag 59395 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 89061 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81} {433794639262612618 13 82}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10481 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 78203 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81} {433794639262612618 13 82}]
------------------------------------------------------
client write log 2427840097442000212 (index 83) to leader 1
client write log 7920161467707481173 (index 84) to leader 1
client write log 6327803442130560104 (index 85) to leader 1
client write log 2148852394174323107 (index 86) to leader 1
client write log 1933072116448081020 (index 87) to leader 1
client write log 5015567719540335316 (index 88) to leader 1
client write log 7330451904770555069 (index 89) to leader 1
flag 25766 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 18296 term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {4276207009200380349 11 80} {4276207009200380349 13 81} {433794639262612618 13 82} {2427840097442000212 13 83} {7920161467707481173 13 84} {6327803442130560104 13 85} {2148852394174323107 13 86} {1933072116448081020 13 87} {5015567719540335316 13 88} {7330451904770555069 13 89}]
------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 12527 term 13 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 Server0 start snapshot! index=89
term 13 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 4443075586779387823 (index 90) to leader 1
term 13 server 1 not vote for server 2, 日志不够新
term 13 server 0 not vote for server 2, 日志不够新
term 15 server 2 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
term 15 server 0 vote for server 1
term 15 server 1 get outdate rpc reply from server 0
flag 74245 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 71842 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 91->90
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
flag 49342 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 13 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 96827 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 26405 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 87944 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 79457 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 22306 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 31128 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 67638 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 33512 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 59802 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 80294 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
update nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 78846 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 76476 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 86196 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 42262 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 27008 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 78580 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 94202 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 8079 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 9789 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 91166 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3637 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 64627 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 39419 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 6257 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42449 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 91447 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 46383 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 93834 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28443 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 71968 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3183 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 86054 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 38824 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 19780 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
flag 29070 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 82053 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {4443075586779387823 13 90}]
------------------------------------------------------
client write log 4443075586779387823 (index 91) to leader 1
flag 96952 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 74368 term 15 leader 1 nextIndex[2]: 91  matchIndex[2]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53461 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 28984 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
flag 8396 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 31195 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
flag 46902 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 73112 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
flag 91778 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 13796 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
flag 76154 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 16727 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78132 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 21062 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19606 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 49018 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 21823 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 13120 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 21353 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 29471 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
flag 41095 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 43178 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91}]
------------------------------------------------------
client write log 4588362802753151675 (index 92) to leader 0
flag 23574 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 68838 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19488 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 62585 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92}]
------------------------------------------------------
flag 40805 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 67219 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 93720 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 14179 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92}]
------------------------------------------------------
flag 53782 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 28727 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
client write log 7113425164390395315 (index 93) to leader 0
flag 33494 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
flag 54755 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 60950 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 28502 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 15394 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 49937 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1253114754034055826 (index 92) to leader 1
flag 28884 term 15 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 84097 term 15 leader 1 nextIndex[2]: 92  matchIndex[2]: 91
term 15 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24646 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
flag 55011 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 53309 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 64528 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54296 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 15972 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 94->93
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 93
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 50509 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 93 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56519 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 53638 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 18773 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 69804 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 日志不够新
term 16 server 0 get outdate rpc reply from server 1
flag 5679 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 93404 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 29526 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 14692 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 97908 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 49969 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 93491 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 6233 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 25318 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 68891 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20620 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 34732 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10468 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 6595 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 16906 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 76233 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 53428 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 83081 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 76393 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 37390 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 61119 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 38136 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 20772 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 16835 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 8650 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 63525 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
flag 86395 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 23339 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93}]
------------------------------------------------------
client write log 1253114754034055826 (index 94) to leader 0
flag 82703 term 16 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 77277 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
flag 3142 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 69237 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36670 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 5036 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
flag 39384 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 37184 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
flag 10104 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 60800 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75996 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 62070 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
flag 83093 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 47539 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3902245273793607890 (index 95) to leader 0
flag 50205 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 58995 term 16 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94} {3902245273793607890 16 95}]
------------------------------------------------------
flag 78769 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 95279 term 16 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 16 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94} {3902245273793607890 16 95}]
------------------------------------------------------
client write log 8946534167863364609 (index 96) to leader 0
client write log 7142022199950614461 (index 97) to leader 0
client write log 8946176319759378496 (index 98) to leader 0
client write log 5445407677599013014 (index 99) to leader 0
client write log 1768499074448627395 (index 100) to leader 0
client write log 4685538402234886743 (index 101) to leader 0
client write log 8143010384687280488 (index 102) to leader 0
client write log 7818464964550385257 (index 103) to leader 0
client write log 3106736237109185364 (index 104) to leader 0
client write log 6029390281874360961 (index 105) to leader 0
client write log 7633087376531855876 (index 106) to leader 0
client write log 3332649803136186939 (index 107) to leader 0
client write log 805317632312617635 (index 108) to leader 0
client write log 8927549866859067874 (index 109) to leader 0
flag 4661 term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 70996 term 16 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 16 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 13 89} {4443075586779387823 13 90} {4443075586779387823 15 91} {4588362802753151675 16 92} {7113425164390395315 16 93} {1253114754034055826 16 94} {3902245273793607890 16 95} {8946534167863364609 16 96} {7142022199950614461 16 97} {8946176319759378496 16 98} {5445407677599013014 16 99} {1768499074448627395 16 100} {4685538402234886743 16 101} {8143010384687280488 16 102} {7818464964550385257 16 103} {3106736237109185364 16 104} {6029390281874360961 16 105} {7633087376531855876 16 106} {3332649803136186939 16 107} {805317632312617635 16 108} {8927549866859067874 16 109}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=109
-------------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 30877 term 16 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=109
-------------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3652849416365083248 (index 110) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 95->94
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 94
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 75381 term 16 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 14175 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 92373 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 95  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 60936 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
flag 37083 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 4681 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
flag 57752 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 83803 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
flag 24439 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 70493 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
flag 43647 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 32416 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63844 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 56145 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 34591 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 54198 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38692 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 67090 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {3652849416365083248 16 110}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8038561114352418456 (index 111) to leader 0
flag 13746 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 12875 term 18 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111}]
------------------------------------------------------
flag 66157 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
flag 48766 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111}]
------------------------------------------------------
client write log 5363162014128879374 (index 112) to leader 0
client write log 5295753097515939766 (index 113) to leader 0
client write log 1037949550530511544 (index 114) to leader 0
client write log 9106251189729005126 (index 115) to leader 0
client write log 4318230927629948348 (index 116) to leader 0
client write log 623222030969412070 (index 117) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4064 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
flag 66 term 18 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 18 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117}]
------------------------------------------------------
flag 28615 term 18 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 30375 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8205996028464252058 (index 118) to leader 0
term 18 server 2 not vote for server 1, 日志不够新
term 18 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get outdate rpc reply from server 1
flag 92919 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 96466 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
flag 57497 term 20 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 15503 term 20 leader 0 nextIndex[2]: 118  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89230 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 66846 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 8042 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 81044 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 89534 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 64014 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19083 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 89902 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 88911 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 61911 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70232 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 35834 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92950 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 31279 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 41639 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 73130 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 68170 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 47680 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82162 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 99222 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 40689 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 62005 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 25511 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 79279 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 57040 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 76011 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68108 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 69464 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 86718 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 27470 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 22854 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 48233 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71535 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 63885 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
flag 99217 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 96844 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118}]
------------------------------------------------------
client write log 8205996028464252058 (index 119) to leader 0
flag 78157 term 20 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 66921 term 20 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 20 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118} {8205996028464252058 20 119}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {3652849416365083248 16 110} {8038561114352418456 18 111} {5363162014128879374 18 112} {5295753097515939766 18 113} {1037949550530511544 18 114} {9106251189729005126 18 115} {4318230927629948348 18 116} {623222030969412070 18 117} {8205996028464252058 18 118} {8205996028464252058 20 119}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 12982 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 41786 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 22801 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 46297 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
flag 24346 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 34932 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
flag 65442 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 1830 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
flag 92271 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 23286 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
flag 37831 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 85921 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 53758 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 4613 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 95872 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 25945 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 56633 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 28893 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71698 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 63052 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
flag 29704 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 91613 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 119}]
------------------------------------------------------
client write log 3704854959580174494 (index 120) to leader 1
flag 3465 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 25646 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 78964 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 12950 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {3704854959580174494 21 120}]
------------------------------------------------------
flag 21721 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 3210 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 1109 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 58577 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 20 119} {3704854959580174494 21 120}]
------------------------------------------------------
client write log 4988691478674400965 (index 121) to leader 1
client write log 5660278408355591621 (index 122) to leader 1
client write log 1095537817072613016 (index 123) to leader 1
client write log 6696617604623339287 (index 124) to leader 1
client write log 507625048140620042 (index 125) to leader 1
client write log 6380344622907033542 (index 126) to leader 1
client write log 5728411029694959336 (index 127) to leader 1
client write log 7794667016528492604 (index 128) to leader 1
client write log 2784699906182513845 (index 129) to leader 1
flag 26405 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
flag 55537 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 120->119
------------------------------------------------------
flag 86800 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 35947 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 21 leaderCommit: 120 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 119} {3704854959580174494 21 120} {4988691478674400965 21 121} {5660278408355591621 21 122} {1095537817072613016 21 123} {6696617604623339287 21 124} {507625048140620042 21 125} {6380344622907033542 21 126} {5728411029694959336 21 127} {7794667016528492604 21 128} {2784699906182513845 21 129}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 119
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 47984 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 26031 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 129}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5670196366055661834 (index 130) to leader 1
term 20 leader 0 nextIndex[1]: 0  matchIndex[1]: 119
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
flag 73699 term 20 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 33742 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 28508 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 58441 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 131->130
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 12250 term 23 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 43205 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
flag 89019 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 62662 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
flag 46744 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 37752 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52270 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 51388 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90594 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 70853 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
flag 8387 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 45905 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
flag 18139 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 56560 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {5670196366055661834 21 130}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8664407336659617224 (index 131) to leader 1
flag 94779 term 23 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 78570 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {5670196366055661834 21 130} {8664407336659617224 23 131}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15864 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 49266 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {5670196366055661834 21 130} {8664407336659617224 23 131}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6589849206618930581 (index 132) to leader 1
client write log 6280901199161507533 (index 133) to leader 1
client write log 7113739361971375523 (index 134) to leader 1
client write log 1339931517169306168 (index 135) to leader 1
client write log 7378498158442147252 (index 136) to leader 1
client write log 1818741790512097750 (index 137) to leader 1
client write log 4197786928821386439 (index 138) to leader 1
client write log 2097400119512252898 (index 139) to leader 1
client write log 5793274320668332303 (index 140) to leader 1
client write log 686129421076382533 (index 141) to leader 1
client write log 1605694801736870820 (index 142) to leader 1
client write log 3978606260425799318 (index 143) to leader 1
client write log 427234353527899598 (index 144) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85326 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 58475 term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 129} {5670196366055661834 21 130} {8664407336659617224 23 131} {6589849206618930581 23 132} {6280901199161507533 23 133} {7113739361971375523 23 134} {1339931517169306168 23 135} {7378498158442147252 23 136} {1818741790512097750 23 137} {4197786928821386439 23 138} {2097400119512252898 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99512 term 23 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 23 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8663240285266588399 (index 145) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31432 term 23 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 23 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
term 25 server 1 get outdate rpc reply from server 2
flag 63064 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 621 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 9258 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 89562 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 14618 term 25 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 573 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 54756 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87148 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 27326 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51590 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 31571 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 22306 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 766 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40751 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 54160 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 34288 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 87968 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 75700 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 46890 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64052 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 53912 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 14568 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 17893 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
flag 67898 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 12612 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
flag 80221 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 83231 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45381 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 7782 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 45251 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 2288 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46894 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 75434 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3246 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 85406 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8663240285266588399 (index 146) to leader 1
flag 42067 term 25 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 23457 term 25 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
flag 11942 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 22182 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
flag 86340 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 99577 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
flag 67363 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 23312 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16674 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 36087 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
flag 13704 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 28982 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26030 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 22791 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5038282694167604252 (index 147) to leader 1
flag 13998 term 25 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 29507 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146} {5038282694167604252 25 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70139 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 9006 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146} {5038282694167604252 25 147}]
------------------------------------------------------
client write log 9178074444767499424 (index 148) to leader 1
client write log 8135432554111229066 (index 149) to leader 1
client write log 7145286460074962770 (index 150) to leader 1
client write log 1267147559493288821 (index 151) to leader 1
client write log 5784260409871849723 (index 152) to leader 1
client write log 8276443404743501435 (index 153) to leader 1
client write log 2960783391759646798 (index 154) to leader 1
client write log 1505881692508239573 (index 155) to leader 1
client write log 5096654088489152027 (index 156) to leader 1
client write log 4916188562218495675 (index 157) to leader 1
flag 62510 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 45770 term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 23 139} {5793274320668332303 23 140} {686129421076382533 23 141} {1605694801736870820 23 142} {3978606260425799318 23 143} {427234353527899598 23 144} {8663240285266588399 23 145} {8663240285266588399 25 146} {5038282694167604252 25 147} {9178074444767499424 25 148} {8135432554111229066 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=157
-------------------------------------------------------------
flag 25632 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=157
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6889122659129714011 (index 158) to leader 1
flag 60622 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 147  matchIndex[2]: 146
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 41340 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 30819 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 159->158
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92408 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
term 27 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
flag 51354 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 36063 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 96244 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 25238 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 24541 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 11117 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39906 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 98169 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 51835 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 66588 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 0
flag 56847 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 89366 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 6788 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 68333 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 19035 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 34940 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 92047 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 40636 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 47182 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 86056 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29797 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 52187 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 8759 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 53218 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 29056 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 48978 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 12375 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 66284 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 33384 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 51228 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
flag 21253 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 12183 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89722 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 81342 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158}]
------------------------------------------------------
client write log 6889122659129714011 (index 159) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26143 term 27 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 95849 term 27 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 27 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158} {6889122659129714011 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 149} {7145286460074962770 25 150} {1267147559493288821 25 151} {5784260409871849723 25 152} {8276443404743501435 25 153} {2960783391759646798 25 154} {1505881692508239573 25 155} {5096654088489152027 25 156} {4916188562218495675 25 157} {6889122659129714011 25 158} {6889122659129714011 27 159}]
------------------------------------------------------
term 27 Server1 start snapshot! index=159
term 27 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 30349 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 26621 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 75610 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 51342 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 84223 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 86224 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77624 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 84537 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 71162 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 61596 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 95273 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 31964 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 93016 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 5267 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 30205 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 26596 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 24657 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 74804 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 0
term 28 server 2 become leader
------------------------------------------------------
flag 32286 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 20226 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
flag 23612 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 45569 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
client write log 4982974034638520643 (index 160) to leader 2
flag 95501 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 1307 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {4982974034638520643 28 160}]
------------------------------------------------------
flag 50513 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 62393 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 37368 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 91412 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {4982974034638520643 28 160}]
------------------------------------------------------
flag 21634 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 60721 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
client write log 9214057761149062673 (index 161) to leader 2
client write log 3899777922176032714 (index 162) to leader 2
client write log 5438544162385283778 (index 163) to leader 2
client write log 4046507568274574434 (index 164) to leader 2
client write log 7052770518069827792 (index 165) to leader 2
client write log 8765384166762927172 (index 166) to leader 2
client write log 3381484772589019864 (index 167) to leader 2
client write log 4792538394019722520 (index 168) to leader 2
client write log 6180788006961357003 (index 169) to leader 2
client write log 2792994930132671952 (index 170) to leader 2
client write log 1826664669758060645 (index 171) to leader 2
client write log 5752305917888732544 (index 172) to leader 2
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60315 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 69835 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 27 159} {4982974034638520643 28 160} {9214057761149062673 28 161} {3899777922176032714 28 162} {5438544162385283778 28 163} {4046507568274574434 28 164} {7052770518069827792 28 165} {8765384166762927172 28 166} {3381484772589019864 28 167} {4792538394019722520 28 168} {6180788006961357003 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 49315 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 54201 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
flag 2176 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 26026 term 27 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
flag 82797 term 27 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6650317906740549533 (index 160) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
flag 22871 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 74145 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 69333 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 57020 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 97269 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 32350 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 81998 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 20431 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 44819 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84761 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 74609 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
flag 86835 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 172
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 InstallSnapshot fail
rf.commitIndex 172 args.LastIncludedIndex 169
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 33574 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 34660 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 89036 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 40402 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 90593 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 53612 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 7468 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 64963 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46474 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 92194 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 6022 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 91729 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 48774 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 97980 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 31819 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 43864 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 88999 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 72155 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 67368 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 66498 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
flag 41948 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 45439 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25576 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 58963 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99260 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 52403 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172}]
------------------------------------------------------
client write log 6650317906740549533 (index 173) to leader 2
flag 5983 term 28 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
flag 60552 term 28 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 172 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
flag 89139 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 39652 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
flag 99421 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 68126 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35417 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 60681 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68965 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 55904 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
flag 54016 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 76476 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
flag 73584 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 60343 term 28 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5995929213782268192 (index 174) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35815 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 173
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 1 InstallSnapshot fail
rf.commitIndex 173 args.LastIncludedIndex 169
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5086 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 30609 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173} {5995929213782268192 28 174}]
------------------------------------------------------
flag 55253 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 32413 term 28 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 28 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173} {5995929213782268192 28 174}]
------------------------------------------------------
client write log 2705516313699693981 (index 175) to leader 2
client write log 2480892482239320551 (index 176) to leader 2
client write log 6153666167785140340 (index 177) to leader 2
client write log 4536509348932316707 (index 178) to leader 2
client write log 5121932635893807841 (index 179) to leader 2
client write log 8686790626065302169 (index 180) to leader 2
client write log 2031003210417440640 (index 181) to leader 2
client write log 5485432458811672103 (index 182) to leader 2
client write log 7607951794015028076 (index 183) to leader 2
client write log 5840017377177973407 (index 184) to leader 2
client write log 4206303231641721674 (index 185) to leader 2
client write log 4097663327931092969 (index 186) to leader 2
client write log 3007763483821728619 (index 187) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5107 term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 62057 term 28 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 28 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 169} {2792994930132671952 28 170} {1826664669758060645 28 171} {5752305917888732544 28 172} {6650317906740549533 28 173} {5995929213782268192 28 174} {2705516313699693981 28 175} {2480892482239320551 28 176} {6153666167785140340 28 177} {4536509348932316707 28 178} {5121932635893807841 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187}]
------------------------------------------------------
term 28 Server2 start snapshot! index=179
term 28 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 8018 term 28 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 28 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187}]
------------------------------------------------------
term 28 Server1 start snapshot! index=179
term 28 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3499063499637963014 (index 188) to leader 2
term 28 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 15673 term 28 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 28 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 28 leaderCommit: 187 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 not vote for server 2, 日志不够新
term 29 server 2 get outdate rpc reply from server 1
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 6732 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 60810 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 189->188
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
flag 80532 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 28 rf.commitIndex 179 rf.lastApplied 179
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 55681 term 30 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 77933 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
flag 45941 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 70550 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
flag 30470 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 14266 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77428 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 71505 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50453 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 36494 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
flag 80708 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 17427 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
flag 66171 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 19060 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5520592068509025314 (index 189) to leader 2
flag 75066 term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
flag 70926 term 30 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 30 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 28 leaderCommit: 188 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 28 179} {8686790626065302169 28 180} {2031003210417440640 28 181} {5485432458811672103 28 182} {7607951794015028076 28 183} {5840017377177973407 28 184} {4206303231641721674 28 185} {4097663327931092969 28 186} {3007763483821728619 28 187} {3499063499637963014 28 188} {5520592068509025314 30 189}]
------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 61969 term 30 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 30 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 189}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 6310195709399926110 (index 190) to leader 2
client write log 7202209552916462497 (index 191) to leader 2
client write log 860537357279680487 (index 192) to leader 2
client write log 1596676590104048527 (index 193) to leader 2
client write log 3756777488887230121 (index 194) to leader 2
client write log 3500588697254643932 (index 195) to leader 2
client write log 1658708623622087099 (index 196) to leader 2
term 30 leader 2 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 2334 term 30 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 30 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 189 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 42742 term 30 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 56488 term 30 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 30 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196}]
------------------------------------------------------
!!!!!!connect server 0
client write log 336739307769151870 (index 197) to leader 2
flag 29852 term 30 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 13396 term 30 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 30 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 15257 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 35731 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 198->197
------------------------------------------------------
term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 10277 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
flag 62099 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 3567 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 16508 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 24009 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 54561 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 79116 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 76683 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 42739 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 38052 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 43333 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 62493 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 43215 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22871 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 95813 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 61301 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 41971 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59641 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 97452 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63507 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 30553 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 64901 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 46650 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 32486 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 93897 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 72339 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 419 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
flag 76063 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 32967 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197}]
------------------------------------------------------
client write log 336739307769151870 (index 198) to leader 1
flag 70849 term 33 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 8975 term 33 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11509 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 34028 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
flag 37386 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 96329 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
flag 95154 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 82774 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
flag 45821 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 14739 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
flag 21011 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 72332 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 34435 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 96507 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 76447 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 8041 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 20761 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 33622 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
flag 16087 term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 38444 term 34 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
client write log 6078105888876482881 (index 199) to leader 0
term 34 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198} {6078105888876482881 34 199}]
------------------------------------------------------
flag 4323 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 68121 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 67676 term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 73227 term 34 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 34 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 189} {6310195709399926110 30 190} {7202209552916462497 30 191} {860537357279680487 30 192} {1596676590104048527 30 193} {3756777488887230121 30 194} {3500588697254643932 30 195} {1658708623622087099 30 196} {336739307769151870 30 197} {336739307769151870 33 198} {6078105888876482881 34 199}]
------------------------------------------------------
term 34 Server0 start snapshot! index=199
term 34 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 44172 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 29002 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 47157 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 199}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 99352 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 20159 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
client write log 2841762994235590265 (index 200) to leader 0
term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 24824 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 92595 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 47612 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 70576 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5100656349056689072 (index 199) to leader 1
flag 34064 term 33 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 87466 term 33 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 12824 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 34 rf.commitIndex 199 rf.lastApplied 199
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42782 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 12119 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69116 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 38750 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 51947 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 14325 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62288 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 49088 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71830 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 40809 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 75396 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 68902 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
flag 49175 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 47267 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 51353 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 96814 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 72312 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 15310 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 309 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 66016 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 15203 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 76776 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 200
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 60387 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 200 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68855 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 60765 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 34248 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 85920 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 not vote for server 0, 日志不够新
term 34 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90551 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 67958 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37603 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 37331 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 61438 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 30481 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
flag 66994 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 47147 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
flag 38278 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 46830 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 34 199} {2841762994235590265 34 200}]
------------------------------------------------------
client write log 5100656349056689072 (index 201) to leader 0
flag 89592 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
flag 66447 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 34 leaderCommit: 200 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
flag 40097 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 86345 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
flag 39114 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 47234 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 34
------------------------------------------------------
flag 79144 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 201 args.LastIncludedIndex 199
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 51906 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 40031 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
flag 27794 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 3839 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6398908555824551410 (index 202) to leader 0
flag 53161 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 81460 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201} {6398908555824551410 34 202}]
------------------------------------------------------
flag 47157 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 6276 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201} {6398908555824551410 34 202}]
------------------------------------------------------
client write log 6720477179650630942 (index 203) to leader 0
client write log 7089625377902171082 (index 204) to leader 0
client write log 7111674957840415842 (index 205) to leader 0
client write log 5563181682591904757 (index 206) to leader 0
client write log 4420279439744123098 (index 207) to leader 0
client write log 7431636511975953300 (index 208) to leader 0
client write log 876141331940793707 (index 209) to leader 0
client write log 7892907996868593603 (index 210) to leader 0
client write log 5601495092828584052 (index 211) to leader 0
client write log 1913754052272401239 (index 212) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27914 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 67605 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 199} {2841762994235590265 34 200} {5100656349056689072 34 201} {6398908555824551410 34 202} {6720477179650630942 34 203} {7089625377902171082 34 204} {7111674957840415842 34 205} {5563181682591904757 34 206} {4420279439744123098 34 207} {7431636511975953300 34 208} {876141331940793707 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 24679 term 34 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2132715896830384885 (index 213) to leader 0
term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 88285 term 34 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 1 vote for server 0
term 36 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
flag 85874 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 33011 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 214->213
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 25671 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73682 term 36 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 36 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 50439 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
flag 59950 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 75583 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8620 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 39819 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95566 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 41602 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
flag 65970 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 4344 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 478 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 80946 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
flag 86528 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 53497 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7518288497427341642 (index 214) to leader 0
flag 98954 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
flag 98935 term 36 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213} {7518288497427341642 36 214}]
------------------------------------------------------
flag 29458 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
flag 67220 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213} {7518288497427341642 36 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 941518415259779281 (index 215) to leader 0
client write log 9021556588207945164 (index 216) to leader 0
client write log 2457583988869824565 (index 217) to leader 0
client write log 5088522097062472276 (index 218) to leader 0
client write log 7580961041644075810 (index 219) to leader 0
client write log 5312903747565484210 (index 220) to leader 0
client write log 203997161246418021 (index 221) to leader 0
client write log 8672846298719280763 (index 222) to leader 0
client write log 2090241701743042691 (index 223) to leader 0
client write log 4379303137322220196 (index 224) to leader 0
client write log 3916975086005667147 (index 225) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64101 term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
flag 70503 term 36 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 209} {7892907996868593603 34 210} {5601495092828584052 34 211} {1913754052272401239 34 212} {2132715896830384885 34 213} {7518288497427341642 36 214} {941518415259779281 36 215} {9021556588207945164 36 216} {2457583988869824565 36 217} {5088522097062472276 36 218} {7580961041644075810 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225}]
------------------------------------------------------
term 36 Server0 start snapshot! index=219
term 36 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 52108 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6434752684956341172 (index 226) to leader 0
term 36 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 10318 term 36 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 27859 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 72387 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 25492 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 14592 term 38 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 38 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 86913 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1333 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 88671 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
flag 94499 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 53100 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
flag 22163 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 91099 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
flag 99253 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 22436 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
flag 43152 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 82292 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
flag 84999 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 91686 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 70118 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 62697 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 81861 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 8873 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63728 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 63045 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
flag 36342 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 35194 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 50542 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 19323 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226}]
------------------------------------------------------
client write log 331943495872156222 (index 227) to leader 2
flag 30624 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 83419 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 45568 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 9046 term 39 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227}]
------------------------------------------------------
flag 32253 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 83017 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 32793 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 45784 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227}]
------------------------------------------------------
client write log 6682727305819305201 (index 228) to leader 2
flag 39345 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 94941 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 49631 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 77093 term 39 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 39 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 39 leaderCommit: 227 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227} {6682727305819305201 39 228}]
------------------------------------------------------
flag 17036 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 1948 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 67090 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 63723 term 39 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 39 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227} {6682727305819305201 39 228}]
------------------------------------------------------
!!!!!!connect server 0
client write log 956773115788623866 (index 229) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63359 term 38 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 30922 term 38 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 227->226
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50990 term 39 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 30494 term 39 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 39 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 39 leaderCommit: 228 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227} {6682727305819305201 39 228} {956773115788623866 39 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 219} {5312903747565484210 36 220} {203997161246418021 36 221} {8672846298719280763 36 222} {2090241701743042691 36 223} {4379303137322220196 36 224} {3916975086005667147 36 225} {6434752684956341172 36 226} {331943495872156222 39 227} {6682727305819305201 39 228} {956773115788623866 39 229}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13138 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 88832 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 39 Server0 start snapshot! index=229
term 39 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 89216 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 server 0 InstallSnapshot fail
rf.commitIndex 229 args.LastIncludedIndex 229
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
flag 84628 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 28892 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 2
flag 86018 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 62953 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
flag 75868 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 23862 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91620 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 30160 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
[{snapshot 39 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 39 229}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7811407442514331314 (index 230) to leader 2
flag 90825 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
flag 77241 term 39 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 229 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {7811407442514331314 39 230}]
------------------------------------------------------
flag 99314 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 42168 term 39 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 39 229} {7811407442514331314 39 230}]
------------------------------------------------------
client write log 7947397122466360754 (index 231) to leader 2
client write log 1453686263249483836 (index 232) to leader 2
client write log 8069908567776659004 (index 233) to leader 2
client write log 6658617485164218003 (index 234) to leader 2
client write log 5389467636727881186 (index 235) to leader 2
client write log 2378172974366255168 (index 236) to leader 2
client write log 2740907261468359789 (index 237) to leader 2
client write log 4666113196746050399 (index 238) to leader 2
client write log 1036326507214646398 (index 239) to leader 2
client write log 417100144991542977 (index 240) to leader 2
client write log 6285187469713972150 (index 241) to leader 2
client write log 793308458060656308 (index 242) to leader 2
client write log 58597831209787002 (index 243) to leader 2
client write log 6683021943229024748 (index 244) to leader 2
client write log 6650375499569260039 (index 245) to leader 2
flag 14149 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
flag 67794 term 39 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 39 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 39 leaderCommit: 230 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 39 229} {7811407442514331314 39 230} {7947397122466360754 39 231} {1453686263249483836 39 232} {8069908567776659004 39 233} {6658617485164218003 39 234} {5389467636727881186 39 235} {2378172974366255168 39 236} {2740907261468359789 39 237} {4666113196746050399 39 238} {1036326507214646398 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245}]
------------------------------------------------------
term 39 Server2 start snapshot! index=239
term 39 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 8946 term 39 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 39 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245}]
------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2027586670676536429 (index 246) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 77532 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 50507 term 39 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 39 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 89884 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 56112 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
flag 39438 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
term 42 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36466 term 42 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 48231 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 33331 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 73856 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 79280 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 42960 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 92123 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 4505 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84077 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 19375 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53880 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 89161 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8182 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 88422 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80527 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 10955 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 46510 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 71179 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 30918 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 45606 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 90652 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 1069 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10289 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 2541 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 89891 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 19929 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
flag 29270 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 26337 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=245
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246}]
------------------------------------------------------
client write log 2027586670676536429 (index 247) to leader 1
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91179 term 42 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
flag 28807 term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 42 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 39 leaderCommit: 245 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
flag 15797 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 88952 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
flag 63452 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 50069 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 74152 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 98662 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
flag 34453 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 3571 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
flag 40202 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 42183 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
flag 58162 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 53984 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9195283723027084821 (index 248) to leader 1
flag 3383 term 42 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
flag 62013 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 247 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247} {9195283723027084821 42 248}]
------------------------------------------------------
flag 5004 term 42 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 42 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 91725 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247} {9195283723027084821 42 248}]
------------------------------------------------------
client write log 7569030568835953580 (index 249) to leader 1
client write log 7533113108638593135 (index 250) to leader 1
client write log 7124206299719757633 (index 251) to leader 1
client write log 4667511488528927807 (index 252) to leader 1
client write log 6354730078154634411 (index 253) to leader 1
client write log 4077336513635617691 (index 254) to leader 1
flag 28414 term 42 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 42 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 71393 term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 39 239} {417100144991542977 39 240} {6285187469713972150 39 241} {793308458060656308 39 242} {58597831209787002 39 243} {6683021943229024748 39 244} {6650375499569260039 39 245} {2027586670676536429 39 246} {2027586670676536429 42 247} {9195283723027084821 42 248} {7569030568835953580 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254}]
------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25052 term 42 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 42 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254}]
------------------------------------------------------
term 42 Server0 start snapshot! index=249
term 42 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1277632119990714282 (index 255) to leader 1
flag 85166 term 42 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 42 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 27987 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 29486 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 18030 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 42 rf.commitIndex 249 rf.lastApplied 249
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 75161 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 17966 term 44 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 44 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26421 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 11945 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 67707 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 51929 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 6492 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 57695 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 88873 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 57263 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 34660 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 98515 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 91007 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 87905 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 41602 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 99930 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 27296 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 65217 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13860 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 33570 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56915 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 30616 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66775 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 62518 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 35706 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 61234 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 1 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 1
flag 58077 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 7022 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 21759 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 93804 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
flag 86436 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 80546 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=254
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255}]
------------------------------------------------------
client write log 1277632119990714282 (index 256) to leader 1
flag 10147 term 44 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 87249 term 44 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 44 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
flag 58434 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 84038 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35508 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 30371 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
flag 30153 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 33477 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21979 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 38724 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
flag 44795 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 97915 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 13927 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 9449 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 12312 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 18035 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 44813 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 61784 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 37452 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 77911 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88040 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 27889 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
flag 46382 term 45 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 87951 term 45 leader 0 nextIndex[2]: 257  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256}]
------------------------------------------------------
client write log 2954633913066452828 (index 257) to leader 0
flag 70914 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 90389 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 96715 term 45 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 88838 term 45 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 45 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257}]
------------------------------------------------------
flag 79504 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 69942 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 9667 term 45 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 257 
------------------------------------------------------
flag 6102 term 45 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257}]
------------------------------------------------------
client write log 849183577459929557 (index 258) to leader 0
flag 75919 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 41319 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 90634 term 45 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 45 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 29546 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 7095 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 96772 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7752487317203835047 (index 257) to leader 1
flag 50451 term 44 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
flag 1608 term 44 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 44 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 44 leaderCommit: 256 
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 42
------------------------------------------------------
flag 22604 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 1 InstallSnapshot fail
rf.commitIndex 256 args.LastIncludedIndex 249
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 45012 term 45 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 45 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 114 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 46919 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 59963 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 21175 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 8607 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56269 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 32840 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 51073 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 76387 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83090 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 64935 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 55789 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 84246 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 44557 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 98053 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 60262 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 99774 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61386 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 75726 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36662 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 80300 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 60894 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 6492 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 98912 term 45 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 45 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 258 
------------------------------------------------------
flag 61908 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 77984 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 96805 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 39694 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 51874 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51309 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 33871 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 10037 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 55344 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
flag 39858 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 74026 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258}]
------------------------------------------------------
client write log 7752487317203835047 (index 259) to leader 0
flag 45406 term 45 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
flag 72485 term 45 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 45 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258} {7752487317203835047 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 42 249} {7533113108638593135 42 250} {7124206299719757633 42 251} {4667511488528927807 42 252} {6354730078154634411 42 253} {4077336513635617691 42 254} {1277632119990714282 42 255} {1277632119990714282 44 256} {2954633913066452828 45 257} {849183577459929557 45 258} {7752487317203835047 45 259}]
------------------------------------------------------
term 45 Server0 start snapshot! index=259
term 45 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3968 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 4491 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 Server2 start snapshot! index=259
term 45 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 45 Server1 start snapshot! index=259
term 45 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 48345 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 95645 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
flag 98188 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 66171 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
flag 22499 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 3769 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
flag 71111 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 84424 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85599 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 64314 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 45 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6894153484439387805 (index 260) to leader 0
flag 61124 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
flag 32289 term 45 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 259 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {6894153484439387805 45 260}]
------------------------------------------------------
flag 47644 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 66079 term 45 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 45 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 45 259} {6894153484439387805 45 260}]
------------------------------------------------------
client write log 575432577911656319 (index 261) to leader 0
client write log 6973711615768461255 (index 262) to leader 0
client write log 1728469904793680037 (index 263) to leader 0
client write log 9174938224402902639 (index 264) to leader 0
client write log 3938225407838149730 (index 265) to leader 0
client write log 4492907619249949082 (index 266) to leader 0
client write log 3864886873841465351 (index 267) to leader 0
client write log 6012347458939728165 (index 268) to leader 0
client write log 6705884816544991015 (index 269) to leader 0
client write log 4938373927430578468 (index 270) to leader 0
client write log 4306043213795751861 (index 271) to leader 0
client write log 9144387656275224523 (index 272) to leader 0
client write log 5338437710598063934 (index 273) to leader 0
client write log 6006968287391521506 (index 274) to leader 0
client write log 6334043294894498881 (index 275) to leader 0
flag 16085 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
flag 41546 term 45 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 45 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 45 leaderCommit: 260 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 259} {6894153484439387805 45 260} {575432577911656319 45 261} {6973711615768461255 45 262} {1728469904793680037 45 263} {9174938224402902639 45 264} {3938225407838149730 45 265} {4492907619249949082 45 266} {3864886873841465351 45 267} {6012347458939728165 45 268} {6705884816544991015 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275}]
------------------------------------------------------
term 45 Server0 start snapshot! index=269
term 45 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 11866 term 45 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275}]
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4201982717160971667 (index 276) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 29162 term 45 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 45 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 45 leaderCommit: 275 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 29254 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 34829 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 260  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 7044 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 45 rf.commitIndex 269 rf.lastApplied 269
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 87595 term 47 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 47 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 31949 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
flag 59912 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 90545 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
flag 68241 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 91462 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90623 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 67422 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
flag 7836 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 81952 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63291 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 97801 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3251474161101420080 (index 277) to leader 0
flag 63586 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
flag 65360 term 47 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 276 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276} {3251474161101420080 47 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50458 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 12647 term 47 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 47 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276} {3251474161101420080 47 277}]
------------------------------------------------------
client write log 5500799284598681649 (index 278) to leader 0
client write log 3762320751493728014 (index 279) to leader 0
client write log 7158100581237728983 (index 280) to leader 0
client write log 1260553946860862338 (index 281) to leader 0
client write log 2904438444688293447 (index 282) to leader 0
client write log 5484596194367009572 (index 283) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22584 term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
flag 91418 term 47 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 47 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 47 leaderCommit: 277 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 45 269} {4938373927430578468 45 270} {4306043213795751861 45 271} {9144387656275224523 45 272} {5338437710598063934 45 273} {6006968287391521506 45 274} {6334043294894498881 45 275} {4201982717160971667 45 276} {3251474161101420080 47 277} {5500799284598681649 47 278} {3762320751493728014 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283}]
------------------------------------------------------
term 47 Server0 start snapshot! index=279
term 47 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 29462 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8372509623085631490 (index 284) to leader 0
term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 40614 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 48 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
term 49 server 2 vote for server 0
term 49 server 0 get outdate rpc reply from server 2
flag 37125 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 93419 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 285->284
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 73420 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 40048 term 49 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 49 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 19280 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39515 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 79018 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 9822 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 84705 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 78316 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 70523 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82537 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 22121 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 1
flag 96128 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 80395 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 44926 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 75097 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 55700 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 71531 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31465 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 31900 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52404 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 38226 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5175 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 41526 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 96793 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 26195 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 68419 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 53145 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91372 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 37542 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10080 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 20611 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
flag 27097 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 53807 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65479 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 6510 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284}]
------------------------------------------------------
client write log 8372509623085631490 (index 285) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47979 term 49 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
flag 83883 term 49 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 49 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 283 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95509 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 67813 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
flag 64768 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 76983 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
flag 11742 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 92495 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
flag 85638 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 40137 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
flag 48232 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 23351 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
flag 44571 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 77306 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 38556 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 67952 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 86536 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 13023 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 62282 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 65695 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 67042 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 80026 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
flag 99006 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 65321 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285}]
------------------------------------------------------
client write log 3556704308715761523 (index 286) to leader 1
flag 55814 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 92695 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 64112 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 51985 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285} {3556704308715761523 50 286}]
------------------------------------------------------
flag 4098 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 82746 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 49128 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 36430 term 50 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 50 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285} {3556704308715761523 50 286}]
------------------------------------------------------
client write log 6143240110810017863 (index 287) to leader 1
client write log 5731848288585572928 (index 288) to leader 1
client write log 8880300139783969580 (index 289) to leader 1
client write log 6100983457711142482 (index 290) to leader 1
client write log 6975585396772523479 (index 291) to leader 1
client write log 2355314664883011191 (index 292) to leader 1
client write log 3308161976664480626 (index 293) to leader 1
client write log 2227808436934571878 (index 294) to leader 1
client write log 2022614943112931351 (index 295) to leader 1
client write log 3574404864634302592 (index 296) to leader 1
client write log 58112701002893174 (index 297) to leader 1
client write log 3744450890412471527 (index 298) to leader 1
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97983 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 5347 term 49 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
flag 31037 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 286 
------------------------------------------------------
flag 81380 term 50 leader 1 nextIndex[2]: 287  matchIndex[2]: 286
term 50 leader 1 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 279} {7158100581237728983 47 280} {1260553946860862338 47 281} {2904438444688293447 47 282} {5484596194367009572 47 283} {8372509623085631490 47 284} {8372509623085631490 49 285} {3556704308715761523 50 286} {6143240110810017863 50 287} {5731848288585572928 50 288} {8880300139783969580 50 289} {6100983457711142482 50 290} {6975585396772523479 50 291} {2355314664883011191 50 292} {3308161976664480626 50 293} {2227808436934571878 50 294} {2022614943112931351 50 295} {3574404864634302592 50 296} {58112701002893174 50 297} {3744450890412471527 50 298}]
------------------------------------------------------
term 50 Server1 start snapshot! index=289
term 50 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=298
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 286->285
------------------------------------------------------
flag 76530 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 285
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
flag 72324 term 50 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 50 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 50 289} {6100983457711142482 50 290} {6975585396772523479 50 291} {2355314664883011191 50 292} {3308161976664480626 50 293} {2227808436934571878 50 294} {2022614943112931351 50 295} {3574404864634302592 50 296} {58112701002893174 50 297} {3744450890412471527 50 298}]
------------------------------------------------------
term 50 Server2 start snapshot! index=289
term 50 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=298
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6286000750988977203 (index 299) to leader 1
flag 13990 term 49 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 49 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 49 leaderCommit: 285 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 285
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
flag 74965 term 50 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 50 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 50 leaderCommit: 298 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
term 50 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 289} {6100983457711142482 50 290} {6975585396772523479 50 291} {2355314664883011191 50 292} {3308161976664480626 50 293} {2227808436934571878 50 294} {2022614943112931351 50 295} {3574404864634302592 50 296} {58112701002893174 50 297} {3744450890412471527 50 298} {6286000750988977203 50 299}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 50 server 2 not vote for server 0, 日志不够新
term 50 server 1 not vote for server 0, 日志不够新
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 0 vote for server 1
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 73568 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 90830 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 300->299
------------------------------------------------------
term 52 Server2 start snapshot! index=299
term 52 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 nextIndex[0]: 290  matchIndex[0]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 77077 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 50 rf.commitIndex 299 rf.lastApplied 299
term 52 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52188 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 39234 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
flag 84080 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 62847 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
flag 86655 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 88925 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13241 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 83558 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 413984728721823707 (index 300) to leader 1
flag 46841 term 52 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 71697 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {413984728721823707 52 300}]
------------------------------------------------------
flag 29868 term 52 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 52 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 27614 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {413984728721823707 52 300}]
------------------------------------------------------
client write log 8700126382958800349 (index 301) to leader 1
client write log 6391514388036029686 (index 302) to leader 1
client write log 8986084893064518270 (index 303) to leader 1
client write log 3169171157040350007 (index 304) to leader 1
client write log 2571291011436204823 (index 305) to leader 1
client write log 857815041657339056 (index 306) to leader 1
client write log 7605652069832550768 (index 307) to leader 1
client write log 4353731496385764298 (index 308) to leader 1
client write log 757254919444269896 (index 309) to leader 1
client write log 2353635340482206514 (index 310) to leader 1
client write log 4714525363568568427 (index 311) to leader 1
client write log 4888079270019947788 (index 312) to leader 1
client write log 7737913106373833290 (index 313) to leader 1
client write log 4445893092243925436 (index 314) to leader 1
client write log 3671737397466353868 (index 315) to leader 1
flag 71137 term 52 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 52 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 52 leaderCommit: 300 
------------------------------------------------------
flag 23062 term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 50 299} {413984728721823707 52 300} {8700126382958800349 52 301} {6391514388036029686 52 302} {8986084893064518270 52 303} {3169171157040350007 52 304} {2571291011436204823 52 305} {857815041657339056 52 306} {7605652069832550768 52 307} {4353731496385764298 52 308} {757254919444269896 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
flag 11983 term 52 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 52 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315}]
------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3123782825840192273 (index 316) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 54 server 2 vote for server 1
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 91370 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 69243 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 317->316
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
flag 60180 term 54 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 52 rf.commitIndex 309 rf.lastApplied 309
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2388 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 51335 term 54 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 54 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
flag 8375 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 14695 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
flag 52850 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 50530 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 89934 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 91910 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 52715 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 10505 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56356 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 11011 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
flag 23098 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 28928 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 43341 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 81285 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 17213 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 61415 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13341 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 5938 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 66321 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 79122 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 50672 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 62837 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33826 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 4984 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2773 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 25282 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 56987 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 38247 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 56241 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 4610 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 53859 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 61836 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
flag 55008 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 85881 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316}]
------------------------------------------------------
client write log 3123782825840192273 (index 317) to leader 1
flag 14178 term 54 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
flag 43899 term 54 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 54 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 315 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10007 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 94709 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94220 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 62882 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
flag 3684 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 55577 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71246 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 82395 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
flag 80901 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 31718 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 75462026501789593 (index 318) to leader 1
flag 34400 term 54 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
flag 61123 term 54 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 54 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 54 leaderCommit: 317 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317} {75462026501789593 54 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
flag 25231 term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 317
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317} {75462026501789593 54 318}]
------------------------------------------------------
client write log 3119724832243882600 (index 319) to leader 1
client write log 8830128085775437321 (index 320) to leader 1
client write log 1923220343830110986 (index 321) to leader 1
client write log 7758858738839931333 (index 322) to leader 1
client write log 3437493656266831633 (index 323) to leader 1
client write log 8578967318729066028 (index 324) to leader 1
client write log 1000819990752604787 (index 325) to leader 1
client write log 6729283149878009012 (index 326) to leader 1
client write log 6684212810991028174 (index 327) to leader 1
flag 67323 term 54 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 54 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 54 leaderCommit: 318 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 317
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 52 309} {2353635340482206514 52 310} {4714525363568568427 52 311} {4888079270019947788 52 312} {7737913106373833290 52 313} {4445893092243925436 52 314} {3671737397466353868 52 315} {3123782825840192273 52 316} {3123782825840192273 54 317} {75462026501789593 54 318} {3119724832243882600 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327}]
------------------------------------------------------
term 54 Server1 start snapshot! index=319
term 54 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5596 term 54 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 54 leaderCommit: 327 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 317
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327}]
------------------------------------------------------
term 54 Server0 start snapshot! index=319
term 54 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6715632474475688535 (index 328) to leader 1
flag 26620 term 54 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 54 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 54 leaderCommit: 327 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 0  matchIndex[2]: 317
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 0 vote for server 1
term 56 server 1 get outdate rpc reply from server 0
flag 73324 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 10867 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 329->328
------------------------------------------------------
flag 8193 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 54 rf.commitIndex 319 rf.lastApplied 319
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54342 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 22722 term 56 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 56 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
flag 73335 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 93222 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
flag 27717 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 81318 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
flag 79312 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 49458 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
flag 30478 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 5670 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92846 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 69076 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
flag 48752 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 79412 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 96119 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 21749 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47686 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 27289 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78995 term 56 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 11325 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 329->328
------------------------------------------------------
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 57862 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 server 2 vote for server 0
term 57 server 0 get vote from server 2
term 57 server 0 become leader
------------------------------------------------------
flag 95344 term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 11153 term 57 leader 0 nextIndex[2]: 329  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328}]
------------------------------------------------------
client write log 4035302048328961389 (index 329) to leader 0
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 69084 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 68609 term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
flag 56273 term 57 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 57 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 54 319} {8830128085775437321 54 320} {1923220343830110986 54 321} {7758858738839931333 54 322} {3437493656266831633 54 323} {8578967318729066028 54 324} {1000819990752604787 54 325} {6729283149878009012 54 326} {6684212810991028174 54 327} {6715632474475688535 54 328} {4035302048328961389 57 329}]
------------------------------------------------------
term 57 Server0 start snapshot! index=329
term 57 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 55363 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 57
------------------------------------------------------
flag 91236 term 57 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 57 leaderCommit: 329 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 57 329}]
------------------------------------------------------
term 57 Server2 start snapshot! index=329
term 57 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 5176699338736423441 (index 330) to leader 0
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 7687 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 57
------------------------------------------------------
flag 16955 term 57 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 57 leaderCommit: 329 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 61535 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 57
------------------------------------------------------
flag 4999 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5748784889954335340 (index 329) to leader 1
term 56 leader 1 nextIndex[0]: 0  matchIndex[0]: 328
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
flag 75666 term 56 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 56 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 54 leaderCommit: 328 
------------------------------------------------------
term 57 server 2 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 57 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 57 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 leader 0 nextIndex[1]: 329  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 57
------------------------------------------------------
flag 36985 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 1 InstallSnapshot success
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 57 rf.commitIndex 329 rf.lastApplied 329
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 62432 term 57 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 11562 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51901 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 38597 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4689 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 48128 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52380 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 69542 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 38869 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 42102 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11406 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 9607 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 56777 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 95865 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65066 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 80835 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 1486 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 10004 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 63105 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 88395 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 12028 term 57 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 37681 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 48398 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 6120 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 23731 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 49845 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 11331 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 58928 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8003 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 29951 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 33179 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 15361 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
term 57 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63610 term 57 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 57 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 83658 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 98754 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 50636 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
flag 7388 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 21221 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 57 329} {5176699338736423441 57 330}]
------------------------------------------------------
client write log 5748784889954335340 (index 331) to leader 0
flag 98592 term 57 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
flag 79147 term 57 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 57 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 57 leaderCommit: 330 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
flag 80872 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 65230 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
flag 36805 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 58015 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
flag 16412 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 82417 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
flag 62600 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 99809 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19865 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 96478 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
flag 78365 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 6235 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 801074947829710040 (index 332) to leader 0
flag 96526 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
flag 97820 term 57 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 331 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331} {801074947829710040 57 332}]
------------------------------------------------------
flag 53114 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 35318 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331} {801074947829710040 57 332}]
------------------------------------------------------
client write log 2317460718684465623 (index 333) to leader 0
client write log 7876661731463377393 (index 334) to leader 0
client write log 4146517517308034000 (index 335) to leader 0
client write log 8333255651493285740 (index 336) to leader 0
client write log 5053176319520757094 (index 337) to leader 0
client write log 8434197734294410033 (index 338) to leader 0
client write log 2907198154099838154 (index 339) to leader 0
term 57 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75553 term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
flag 77917 term 57 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 57 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 57 leaderCommit: 332 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 57 329} {5176699338736423441 57 330} {5748784889954335340 57 331} {801074947829710040 57 332} {2317460718684465623 57 333} {7876661731463377393 57 334} {4146517517308034000 57 335} {8333255651493285740 57 336} {5053176319520757094 57 337} {8434197734294410033 57 338} {2907198154099838154 57 339}]
------------------------------------------------------
term 57 Server0 start snapshot! index=339
term 57 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 57 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 81017 term 57 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 57 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 57 339}]
------------------------------------------------------
term 57 Server2 start snapshot! index=339
term 57 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7055511262866789377 (index 340) to leader 0
term 57 server 2 not vote for server 1, 日志不够新
term 57 server 0 not vote for server 1, 日志不够新
term 59 server 2 vote for server 0
term 59 server 0 get vote from server 2
term 59 server 0 become leader
------------------------------------------------------
term 59 server 1 vote for server 0
term 59 server 0 get outdate rpc reply from server 1
flag 4343 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 73916 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 59 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 341->340
------------------------------------------------------
term 59 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 59 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 57
------------------------------------------------------
flag 84891 term 59 leader 0 nextIndex[2]: 340  matchIndex[2]: 0
term 59 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 57 rf.commitIndex 339 rf.lastApplied 339
term 59 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
term 59 server 0 not vote for server 2, 任期不够新
term 59 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35469 term 59 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 59 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 90345 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 11281 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 17180 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84956 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 7677 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47719 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 43071 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 67940 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 29546 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 35491 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 94914 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 69108 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 99264 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49094 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 29719 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20334 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 12994 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95464 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 50642 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 59988 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 66673 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 28533 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 35353 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87541 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 79683 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7867 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 62913 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17542 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 89857 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41860 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 38319 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
flag 5915 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 2017 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12455 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 20625 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 57 339} {7055511262866789377 57 340}]
------------------------------------------------------
client write log 7055511262866789377 (index 341) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90738 term 59 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
flag 20173 term 59 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 59 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 57 leaderCommit: 339 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
flag 43500 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 67474 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
flag 52093 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 27105 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8119 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 23648 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7166 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 40577 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
flag 58252 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 93404 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
flag 60092 term 59 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
flag 56228 term 59 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 59 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 59 leaderCommit: 341 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 57 339} {7055511262866789377 57 340} {7055511262866789377 59 341}]
------------------------------------------------------
  ... Passed --  78.1  3 1796  814907  341
--- PASS: TestSnapshotInstall2D (78.13s)
PASS
