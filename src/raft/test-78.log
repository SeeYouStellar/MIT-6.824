=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 68757 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 56073 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1682794608002400572 (index 1) to leader 2
flag 98977 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 21601 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 13038 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13010 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 51273 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58361 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 13380 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 28210 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 87243 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80048 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 22094 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 96194 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
flag 42718 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51788 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1682794608002400572 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8062561039288421325 (index 2) to leader 2
flag 62266 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24053 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1682794608002400572 1 1} {8062561039288421325 1 2}]
------------------------------------------------------
flag 76418 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 77154 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1682794608002400572 1 1} {8062561039288421325 1 2}]
------------------------------------------------------
client write log 7178936457962787824 (index 3) to leader 2
client write log 1579480824669674219 (index 4) to leader 2
client write log 6097637218685217724 (index 5) to leader 2
client write log 634168544076687876 (index 6) to leader 2
client write log 8162879314913809319 (index 7) to leader 2
client write log 3290549540280213009 (index 8) to leader 2
client write log 6036388551373038893 (index 9) to leader 2
client write log 2953430707653808074 (index 10) to leader 2
client write log 1954616106136767530 (index 11) to leader 2
client write log 3552882044696243274 (index 12) to leader 2
client write log 3012659995841764822 (index 13) to leader 2
client write log 3600225907519326874 (index 14) to leader 2
flag 81527 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 27708 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {1682794608002400572 1 1} {8062561039288421325 1 2} {7178936457962787824 1 3} {1579480824669674219 1 4} {6097637218685217724 1 5} {634168544076687876 1 6} {8162879314913809319 1 7} {3290549540280213009 1 8} {6036388551373038893 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 61527 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4355950733257467717 (index 15) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 27807 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 83285 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 44240 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 21728 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 18481 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 40264 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 54877 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 10884 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 17840 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 3746 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 98356 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 97515 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 89361 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 74441 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 96346 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89462 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
flag 73840 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 37625 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 85434 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 56524 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 48853 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 25030 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 12341 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 8841 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 70940 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 88629 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 39265 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 14733 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15}]
------------------------------------------------------
client write log 1978513501237712946 (index 16) to leader 1
flag 34141 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 32491 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 52821 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 67593 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16}]
------------------------------------------------------
flag 20385 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 37391 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 99383 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 11204 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16}]
------------------------------------------------------
client write log 2442763399698929851 (index 17) to leader 1
flag 90576 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 74654 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 27983 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 97166 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17}]
------------------------------------------------------
flag 30515 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 22516 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 36952 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 18141 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7167009280344324092 (index 18) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 15
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 15149 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86470 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 4219 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
flag 1535 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 41151 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19780 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 87244 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
flag 18752 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 42634 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
flag 97792 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 92718 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
flag 31933 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 78498 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
flag 65613 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 65408 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3251628738619452034 (index 19) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71160 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 47265 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {2953430707653808074 1 10} {1954616106136767530 1 11} {3552882044696243274 1 12} {3012659995841764822 1 13} {3600225907519326874 1 14} {4355950733257467717 1 15} {1978513501237712946 4 16} {2442763399698929851 4 17} {7167009280344324092 4 18} {3251628738619452034 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 59558 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 2472158156828709154 (index 20) to leader 1
client write log 7008072730357338356 (index 21) to leader 1
client write log 5647816081012972360 (index 22) to leader 1
client write log 2432761717196925919 (index 23) to leader 1
client write log 2999784101185353984 (index 24) to leader 1
client write log 5168735195885811210 (index 25) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8054 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25}]
------------------------------------------------------
flag 55710 term 4 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5158600351004564609 (index 26) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 44808 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 47919 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 27->26
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20187 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 19  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16888 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 39148 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34036 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 17346 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 20886 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 36263 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83207 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 50525 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 66336 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 82717 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23482 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 36063 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48343 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 29723 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 6834 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 83353 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 14322 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 30117 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 72002 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 29039 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71475 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 4601 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 70498 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 50959 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82356 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 3520 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 40413 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 23649 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 2253 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 66074 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
flag 94007 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 49105 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72150 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 76836 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26}]
------------------------------------------------------
client write log 5158600351004564609 (index 27) to leader 1
flag 41238 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 93107 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
flag 40878 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 51644 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
flag 46231 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 56099 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
flag 9114 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 98806 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37722 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 4383 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
flag 84044 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 77314 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 723795635222784722 (index 28) to leader 1
flag 78949 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 58455 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27} {723795635222784722 6 28}]
------------------------------------------------------
flag 76792 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 4616 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27} {723795635222784722 6 28}]
------------------------------------------------------
client write log 7109833827912039385 (index 29) to leader 1
client write log 7499043697555385674 (index 30) to leader 1
client write log 7490666589582805352 (index 31) to leader 1
client write log 5337950555447073215 (index 32) to leader 1
client write log 3639434956967943105 (index 33) to leader 1
client write log 2185143749607363554 (index 34) to leader 1
client write log 6217092509582561269 (index 35) to leader 1
client write log 1703623722901572147 (index 36) to leader 1
client write log 7928179919891514840 (index 37) to leader 1
client write log 3516505839603073983 (index 38) to leader 1
flag 1323 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 92622 term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {2472158156828709154 4 20} {7008072730357338356 4 21} {5647816081012972360 4 22} {2432761717196925919 4 23} {2999784101185353984 4 24} {5168735195885811210 4 25} {5158600351004564609 4 26} {5158600351004564609 6 27} {723795635222784722 6 28} {7109833827912039385 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
flag 69995 term 6 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8704100218568215212 (index 39) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 22226 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 20159 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35958 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 96219 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89189 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17788 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 87978 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23283 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 32082 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 88919 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 80190 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 19982 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 84015 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 49444 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 90431 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 46199 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 156 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 71459 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 80854 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 29388 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 62964 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11450 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 16396 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81430 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 98244 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 1773 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 5201 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78557 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 76962 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 40361 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 31247 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 20880 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28808 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3146 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 44626 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97572 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 14488 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39}]
------------------------------------------------------
flag 54826 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 34372 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
client write log 8704100218568215212 (index 40) to leader 1
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
update nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67310 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71060 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {7499043697555385674 6 30} {7490666589582805352 6 31} {5337950555447073215 6 32} {3639434956967943105 6 33} {2185143749607363554 6 34} {6217092509582561269 6 35} {1703623722901572147 6 36} {7928179919891514840 6 37} {3516505839603073983 6 38} {8704100218568215212 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 43641 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 58623 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 7036 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 31435 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
flag 29087 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 83546 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
flag 47291 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 85202 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 33770 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 40859 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96639 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 63249 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 34060 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 76582 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 48810 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 558 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 47409 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 81062 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 37297 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 90058 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8704100218568215212 8 40}]
------------------------------------------------------
flag 83836 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 4784 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
client write log 5697657910751398440 (index 41) to leader 2
flag 50208 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 44361 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8704100218568215212 8 40} {5697657910751398440 9 41}]
------------------------------------------------------
flag 14596 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 33633 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 63540 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 28554 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {8704100218568215212 8 40} {5697657910751398440 9 41}]
------------------------------------------------------
flag 95515 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 2831 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
client write log 4751768106788894281 (index 42) to leader 2
client write log 2188361426740566453 (index 43) to leader 2
client write log 348878565164259837 (index 44) to leader 2
client write log 6508213783142878278 (index 45) to leader 2
client write log 678389875072998075 (index 46) to leader 2
client write log 2626239233168286104 (index 47) to leader 2
client write log 2062760485231112229 (index 48) to leader 2
client write log 6579813201079852600 (index 49) to leader 2
client write log 1062979958229622541 (index 50) to leader 2
client write log 7010830649691596689 (index 51) to leader 2
client write log 3605998040611187662 (index 52) to leader 2
client write log 2077705183146515927 (index 53) to leader 2
client write log 7418240602555657613 (index 54) to leader 2
client write log 3096278061269216208 (index 55) to leader 2
client write log 8901303266690895865 (index 56) to leader 2
flag 59565 term 9 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
flag 96325 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 6 39} {8704100218568215212 8 40} {5697657910751398440 9 41} {4751768106788894281 9 42} {2188361426740566453 9 43} {348878565164259837 9 44} {6508213783142878278 9 45} {678389875072998075 9 46} {2626239233168286104 9 47} {2062760485231112229 9 48} {6579813201079852600 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=56
-------------------------------------------------------------
flag 12858 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 271 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 72580 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=56
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1165206278262874549 (index 41) to leader 1
flag 50501 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 3932 term 8 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11682 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 24820 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 17519 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56347 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 78615 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 57->56
------------------------------------------------------
flag 74697 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 56
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 56 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 96275 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 75143 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 13857 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 48208 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7544 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 18570 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 20318 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 64276 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 26215 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 915 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 25904 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 97773 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 99818 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 59429 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 69733 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 99486 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 15092 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 31034 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 32063 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 56090 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 57159 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 34494 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44688 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 35072 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 66794 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 62589 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 64058 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 14528 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
flag 75770 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 26217 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1165206278262874549 (index 57) to leader 2
flag 35030 term 9 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 16548 term 9 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 9 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
term 9 server 0 AppendEntries true commitIndex:56 
------------------------------------------------------
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
flag 58067 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 39609 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52966 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 94880 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
flag 97231 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 99006 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
flag 14388 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 93802 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
flag 18649 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 50847 term 9 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 58->57
------------------------------------------------------
flag 42225 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 57
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 57 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8632283020710380359 (index 58) to leader 2
flag 34497 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 34465 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57} {8632283020710380359 9 58}]
------------------------------------------------------
flag 52090 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 75464 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57} {8632283020710380359 9 58}]
------------------------------------------------------
client write log 2880447451124989575 (index 59) to leader 2
client write log 3854672816068254039 (index 60) to leader 2
client write log 799782906687584401 (index 61) to leader 2
client write log 3212367710769583829 (index 62) to leader 2
client write log 7265560601082872214 (index 63) to leader 2
client write log 1620687505501807404 (index 64) to leader 2
client write log 5935272430669923956 (index 65) to leader 2
client write log 5755983351746008556 (index 66) to leader 2
client write log 6358095848321317465 (index 67) to leader 2
client write log 5134749068937434451 (index 68) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93644 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 46134 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 49} {1062979958229622541 9 50} {7010830649691596689 9 51} {3605998040611187662 9 52} {2077705183146515927 9 53} {7418240602555657613 9 54} {3096278061269216208 9 55} {8901303266690895865 9 56} {1165206278262874549 9 57} {8632283020710380359 9 58} {2880447451124989575 9 59} {3854672816068254039 9 60} {799782906687584401 9 61} {3212367710769583829 9 62} {7265560601082872214 9 63} {1620687505501807404 9 64} {5935272430669923956 9 65} {5755983351746008556 9 66} {6358095848321317465 9 67} {5134749068937434451 9 68}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 3036 term 9 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 9 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3854672816068254039 9 60} {799782906687584401 9 61} {3212367710769583829 9 62} {7265560601082872214 9 63} {1620687505501807404 9 64} {5935272430669923956 9 65} {5755983351746008556 9 66} {6358095848321317465 9 67} {5134749068937434451 9 68}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=68
-------------------------------------------------------------
!!!!!!connect server 0
client write log 275679453917972871 (index 69) to leader 2
term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 8662 term 9 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 9 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {3854672816068254039 9 60} {799782906687584401 9 61} {3212367710769583829 9 62} {7265560601082872214 9 63} {1620687505501807404 9 64} {5935272430669923956 9 65} {5755983351746008556 9 66} {6358095848321317465 9 67} {5134749068937434451 9 68} {275679453917972871 9 69}]
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 Server2 start snapshot! index=69
term 10 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 0 vote for server 2
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52937 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 23725 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 31375 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
flag 38508 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 18594 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
flag 32438 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 71322 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11155 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 72769 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
flag 29603 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 72537 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8674623484098450187 (index 70) to leader 2
flag 54025 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
flag 43009 term 11 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8674623484098450187 11 70}]
------------------------------------------------------
flag 46666 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 23178 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8674623484098450187 11 70}]
------------------------------------------------------
client write log 3287635671782939286 (index 71) to leader 2
client write log 5354880763307034931 (index 72) to leader 2
client write log 7912587944625410815 (index 73) to leader 2
client write log 8991956036264609073 (index 74) to leader 2
client write log 4566774470946335891 (index 75) to leader 2
client write log 7804221281046967638 (index 76) to leader 2
client write log 3258778919373748638 (index 77) to leader 2
client write log 7676575940662200594 (index 78) to leader 2
client write log 6242561912638284040 (index 79) to leader 2
client write log 1209107550165816476 (index 80) to leader 2
client write log 5918415795850890516 (index 81) to leader 2
flag 91418 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 78868 term 11 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 69} {8674623484098450187 11 70} {3287635671782939286 11 71} {5354880763307034931 11 72} {7912587944625410815 11 73} {8991956036264609073 11 74} {4566774470946335891 11 75} {7804221281046967638 11 76} {3258778919373748638 11 77} {7676575940662200594 11 78} {6242561912638284040 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 18727 term 11 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 11 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5818582270585665097 (index 82) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 99935 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 46219 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 83->82
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 89703 term 13 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17841 term 13 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 65813 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 10135 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 26096 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 57456 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 39957 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 72463 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 39139 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28664 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 29892 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 48786 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 52836 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 71406 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 72097 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 50456 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 24863 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 10211 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 28114 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 96690 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 86057 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50762 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 30008 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60103 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 66323 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10079 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 31974 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7640 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 88403 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90441 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 93896 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 55155 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 51727 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
flag 23327 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 90414 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17692 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 52848 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82}]
------------------------------------------------------
client write log 5818582270585665097 (index 83) to leader 2
flag 61136 term 13 leader 2 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 18213 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
flag 82843 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 14678 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
flag 89733 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 28601 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
flag 33782 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 75703 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31438 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 47152 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
flag 20270 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 81292 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63926 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 69713 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67204 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 33673 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 30604 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 214 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 71324 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 55450 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83}]
------------------------------------------------------
flag 41729 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 12792 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
client write log 133076142990457660 (index 84) to leader 0
flag 56746 term 14 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 66738 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83} {133076142990457660 14 84}]
------------------------------------------------------
flag 93404 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 33306 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 5444 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1529 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83} {133076142990457660 14 84}]
------------------------------------------------------
flag 31686 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 91193 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
client write log 8589666730531435475 (index 85) to leader 0
client write log 316241168066232317 (index 86) to leader 0
client write log 2982041013074421808 (index 87) to leader 0
client write log 6986934997594162349 (index 88) to leader 0
client write log 2406993849003524616 (index 89) to leader 0
client write log 6838910365898632806 (index 90) to leader 0
client write log 2473062827670280113 (index 91) to leader 0
client write log 5176178700900163606 (index 92) to leader 0
client write log 2080709182354601103 (index 93) to leader 0
flag 44931 term 14 leader 0 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 55984 term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 11 79} {1209107550165816476 11 80} {5918415795850890516 11 81} {5818582270585665097 11 82} {5818582270585665097 13 83} {133076142990457660 14 84} {8589666730531435475 14 85} {316241168066232317 14 86} {2982041013074421808 14 87} {6986934997594162349 14 88} {2406993849003524616 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
flag 22368 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 25378 term 13 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
flag 68214 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 20125 term 13 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8265903631844014340 (index 84) to leader 2
flag 77592 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 84  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 87768 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 88095 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90435 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 40689 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 94->93
------------------------------------------------------
flag 56085 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 93
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 93 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17602 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 43957 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 38849 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 3735 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 23428 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 96361 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90719 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 46755 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62206 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 23383 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 98519 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 30179 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 3469 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 3473 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13110 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 40581 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 7977 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 14702 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 60107 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 96801 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 99800 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 36551 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68912 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 67145 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 90280 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 70797 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70378 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 23521 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 71595 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 17119 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
flag 37107 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 78967 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93}]
------------------------------------------------------
client write log 8265903631844014340 (index 94) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52208 term 14 leader 0 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 43994 term 14 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 14 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
flag 62897 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 99514 term 14 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 95->94
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14211 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 94
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 94 args.LastIncludedIndex 89
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
flag 32512 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 38659 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
flag 24893 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 75434 term 14 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
flag 83893 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 9158 term 14 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
flag 90454 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 27044 term 14 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7910719946352250271 (index 95) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97142 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 5254 term 14 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94} {7910719946352250271 14 95}]
------------------------------------------------------
flag 52667 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 12335 term 14 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 14 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94} {7910719946352250271 14 95}]
------------------------------------------------------
client write log 6170965579596234694 (index 96) to leader 0
client write log 9164591607622247557 (index 97) to leader 0
client write log 7727537488829588550 (index 98) to leader 0
client write log 1306469126886755205 (index 99) to leader 0
client write log 4522581955982078511 (index 100) to leader 0
client write log 5991523792478975022 (index 101) to leader 0
client write log 1295611602121068391 (index 102) to leader 0
client write log 7885480792829705540 (index 103) to leader 0
client write log 6133304493500885651 (index 104) to leader 0
client write log 9194988125332263780 (index 105) to leader 0
client write log 2111981656228609288 (index 106) to leader 0
client write log 4553102199987125825 (index 107) to leader 0
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 96->95
------------------------------------------------------
flag 28847 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 95
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 95 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
flag 86605 term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 60041 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 89} {6838910365898632806 14 90} {2473062827670280113 14 91} {5176178700900163606 14 92} {2080709182354601103 14 93} {8265903631844014340 14 94} {7910719946352250271 14 95} {6170965579596234694 14 96} {9164591607622247557 14 97} {7727537488829588550 14 98} {1306469126886755205 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 96172 term 14 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 14 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 1
client write log 970283347875963299 (index 108) to leader 0
term 14 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 93553 term 14 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 14 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 82941 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 80803 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 95  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 53367 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
flag 7784 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 85440 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23296 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 30129 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68231 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 63955 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
flag 8617 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 37984 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56050 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 2162 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56423 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 63517 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32807 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 36769 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5298317298510610693 (index 109) to leader 0
flag 91165 term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
flag 70019 term 16 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 16 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 14 leaderCommit: 108 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 14 99} {4522581955982078511 14 100} {5991523792478975022 14 101} {1295611602121068391 14 102} {7885480792829705540 14 103} {6133304493500885651 14 104} {9194988125332263780 14 105} {2111981656228609288 14 106} {4553102199987125825 14 107} {970283347875963299 14 108} {5298317298510610693 16 109}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 8478 term 16 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 5123279631854853949 (index 110) to leader 0
client write log 7721799513125404979 (index 111) to leader 0
client write log 7830129021382728999 (index 112) to leader 0
client write log 1948618052490429152 (index 113) to leader 0
client write log 5018030503271383630 (index 114) to leader 0
client write log 2944123847992195514 (index 115) to leader 0
client write log 2260013659567266044 (index 116) to leader 0
client write log 4197743784586086473 (index 117) to leader 0
client write log 8036467172469758015 (index 118) to leader 0
client write log 489522724924996205 (index 119) to leader 0
client write log 3358133202450155938 (index 120) to leader 0
client write log 6925746026347068425 (index 121) to leader 0
client write log 2618604275601907439 (index 122) to leader 0
client write log 8784055780376608593 (index 123) to leader 0
term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 52406 term 16 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 109} {5123279631854853949 16 110} {7721799513125404979 16 111} {7830129021382728999 16 112} {1948618052490429152 16 113} {5018030503271383630 16 114} {2944123847992195514 16 115} {2260013659567266044 16 116} {4197743784586086473 16 117} {8036467172469758015 16 118} {489522724924996205 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 109  matchIndex[1]: 108
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 34027 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=123
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8239817353599169880 (index 124) to leader 0
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 39246 term 16 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 16 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 79071 term 16 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 16 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 17 server 1 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 1, 日志不够新
term 17 server 0 not vote for server 1, 日志不够新
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get outdate rpc reply from server 1
flag 45378 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 67117 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 125->124
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 109  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 45176 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87013 term 19 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 19 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 58562 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 91661 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 74032 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 23669 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 53608 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 37369 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 35493 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 78148 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 33035 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 37203 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 43360 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 55455 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 44400 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 80601 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 83425 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 19629 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 89685 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
flag 61466 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 43375 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 99652 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 16537 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57614 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 16313 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
flag 90518 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 11961 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124}]
------------------------------------------------------
client write log 8239817353599169880 (index 125) to leader 0
flag 55637 term 19 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
flag 26005 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 123 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
flag 89971 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 97453 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
flag 15776 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 70080 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
flag 18455 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 54922 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
flag 41017 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 44597 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
flag 60371 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 17469 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
term 19 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
flag 28356 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 24972 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98744 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 1750 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 3686 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 76021 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 72201 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 62795 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
client write log 2973649022340955614 (index 126) to leader 1
flag 81773 term 20 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 54398 term 20 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125} {2973649022340955614 20 126}]
------------------------------------------------------
flag 95571 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 47412 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 37125 term 20 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 39658 term 20 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 20 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125} {2973649022340955614 20 126}]
------------------------------------------------------
flag 25542 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 17838 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
client write log 5761373005030269162 (index 127) to leader 1
client write log 4052827532709330644 (index 128) to leader 1
client write log 2247049300330061378 (index 129) to leader 1
client write log 2808646689396631061 (index 130) to leader 1
client write log 2704573961555619762 (index 131) to leader 1
client write log 5995769226369342051 (index 132) to leader 1
client write log 6102956679056922420 (index 133) to leader 1
client write log 7440450642226341821 (index 134) to leader 1
client write log 8723886076377021850 (index 135) to leader 1
client write log 1389209410043223857 (index 136) to leader 1
client write log 7473423338023255977 (index 137) to leader 1
client write log 6750235395708236927 (index 138) to leader 1
client write log 5316801373134740206 (index 139) to leader 1
client write log 8016001607910002441 (index 140) to leader 1
client write log 4513207880968590542 (index 141) to leader 1
flag 12705 term 20 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 89013 term 20 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 20 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 16 119} {3358133202450155938 16 120} {6925746026347068425 16 121} {2618604275601907439 16 122} {8784055780376608593 16 123} {8239817353599169880 16 124} {8239817353599169880 19 125} {2973649022340955614 20 126} {5761373005030269162 20 127} {4052827532709330644 20 128} {2247049300330061378 20 129} {2808646689396631061 20 130} {2704573961555619762 20 131} {5995769226369342051 20 132} {6102956679056922420 20 133} {7440450642226341821 20 134} {8723886076377021850 20 135} {1389209410043223857 20 136} {7473423338023255977 20 137} {6750235395708236927 20 138} {5316801373134740206 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 20 Server1 start snapshot! index=139
term 20 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
flag 12732 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 94016 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 36093 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141}]
------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 20 Server2 start snapshot! index=139
term 20 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
flag 982 term 19 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 27281 term 19 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 19 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
!!!!!!connect server 0
client write log 5693676289280963767 (index 142) to leader 1
term 19 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 126->125
------------------------------------------------------
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 97450 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 20 rf.commitIndex 139 rf.lastApplied 139
term 20 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
flag 43742 term 20 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 20 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 99955 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 not vote for server 1, 日志不够新
term 20 server 1 get outdate rpc reply from server 0
flag 91217 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 36282 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
flag 37405 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 62505 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
flag 4663 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 40143 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76163 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 31087 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
flag 75805 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 35737 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1148493250131407319 (index 143) to leader 1
flag 977 term 20 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 89644 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142} {1148493250131407319 20 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86142 term 20 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 20 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
flag 74876 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142} {1148493250131407319 20 143}]
------------------------------------------------------
client write log 7276093540571531623 (index 144) to leader 1
client write log 6185003572487516246 (index 145) to leader 1
client write log 1012036387786576026 (index 146) to leader 1
client write log 3654894155666824669 (index 147) to leader 1
client write log 4461306837288940063 (index 148) to leader 1
client write log 6704572234841005004 (index 149) to leader 1
client write log 184540844723394194 (index 150) to leader 1
flag 79628 term 20 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 20 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
flag 90099 term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 20 139} {8016001607910002441 20 140} {4513207880968590542 20 141} {5693676289280963767 20 142} {1148493250131407319 20 143} {7276093540571531623 20 144} {6185003572487516246 20 145} {1012036387786576026 20 146} {3654894155666824669 20 147} {4461306837288940063 20 148} {6704572234841005004 20 149} {184540844723394194 20 150}]
------------------------------------------------------
term 20 Server1 start snapshot! index=149
term 20 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
flag 61500 term 20 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 20 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150}]
------------------------------------------------------
term 20 Server0 start snapshot! index=149
term 20 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4369333433768611566 (index 151) to leader 1
flag 8998 term 20 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 20 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 20
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 1 get outdate rpc reply from server 0
flag 64119 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 41181 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 152->151
------------------------------------------------------
flag 69393 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 20 rf.commitIndex 149 rf.lastApplied 149
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 73835 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 2270 term 22 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 22 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 74081 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 99107 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47064 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 13048 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96067 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 75583 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 65768 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 32184 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11481 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 56433 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22774 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 61019 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11981 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 44276 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 71905 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 80397 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 62179 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 84780 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 14266 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 19247 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 515 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 12850 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20541 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 66142 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 33842 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 37175 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 66011 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 28962 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 38798 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 30907 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
flag 47484 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 17551 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151}]
------------------------------------------------------
client write log 4369333433768611566 (index 152) to leader 1
flag 92320 term 22 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
flag 90229 term 22 leader 1 nextIndex[2]: 152  matchIndex[2]: 151
term 22 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 20 leaderCommit: 150 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
flag 27678 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 9696 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
flag 57274 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 4902 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82679 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 4556 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
flag 10031 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 45844 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93802 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 27989 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
flag 61216 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 67928 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6455986191178662177 (index 153) to leader 1
flag 58545 term 22 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
flag 69186 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 152 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152} {6455986191178662177 22 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98865 term 22 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 22 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 22900 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152} {6455986191178662177 22 153}]
------------------------------------------------------
client write log 5043869170561180469 (index 154) to leader 1
client write log 6474981348456891163 (index 155) to leader 1
client write log 6160038094421105393 (index 156) to leader 1
client write log 5587232355844019925 (index 157) to leader 1
client write log 8635574919061286804 (index 158) to leader 1
client write log 8672768370652977457 (index 159) to leader 1
client write log 3848044049613269158 (index 160) to leader 1
client write log 6728626543018086525 (index 161) to leader 1
client write log 4396202137761691076 (index 162) to leader 1
client write log 876798182735429538 (index 163) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62026 term 22 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 22 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 5772 term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 20 149} {184540844723394194 20 150} {4369333433768611566 20 151} {4369333433768611566 22 152} {6455986191178662177 22 153} {5043869170561180469 22 154} {6474981348456891163 22 155} {6160038094421105393 22 156} {5587232355844019925 22 157} {8635574919061286804 22 158} {8672768370652977457 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163}]
------------------------------------------------------
term 22 Server1 start snapshot! index=159
term 22 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24834 term 22 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 22 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 22 leaderCommit: 163 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163}]
------------------------------------------------------
term 22 Server0 start snapshot! index=159
term 22 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4844086557506134071 (index 164) to leader 1
flag 19885 term 22 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 22 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 22 leaderCommit: 163 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 23 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 13821 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 43397 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98024 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 22 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 10922 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 3026 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 11780 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 50412 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 44237 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 735 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 15654 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 33090 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 77232 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 87390 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 43647 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 23329 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
flag 83917 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 44522 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 43714 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 78336 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42605 term 24 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 16211 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 165->164
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 2548 term 24 leader 1 nextIndex[2]: 165  matchIndex[2]: 164
term 24 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 165->164
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 0
term 25 server 2 become leader
------------------------------------------------------
flag 81739 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 70468 term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164}]
------------------------------------------------------
client write log 2220855574003438895 (index 165) to leader 2
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 25513 term 25 leader 2 nextIndex[0]: 165  matchIndex[0]: 164
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
flag 35252 term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164} {2220855574003438895 25 165}]
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 75828 term 25 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 25 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 81078 term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 165 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164} {2220855574003438895 25 165}]
------------------------------------------------------
client write log 6328437287830302784 (index 166) to leader 2
client write log 2603302973538259911 (index 167) to leader 2
client write log 279525646745474776 (index 168) to leader 2
client write log 9135399407553605081 (index 169) to leader 2
client write log 8310651799884802491 (index 170) to leader 2
client write log 8010936810424804049 (index 171) to leader 2
client write log 1012638201037214335 (index 172) to leader 2
client write log 9123114138507680579 (index 173) to leader 2
client write log 8706362820014504434 (index 174) to leader 2
client write log 1120349902188192926 (index 175) to leader 2
client write log 563995978866921961 (index 176) to leader 2
client write log 6499792988314122669 (index 177) to leader 2
client write log 8927090919240335189 (index 178) to leader 2
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 50558 term 25 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 25 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 2563 term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 22 leaderCommit: 165 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 22 159} {3848044049613269158 22 160} {6728626543018086525 22 161} {4396202137761691076 22 162} {876798182735429538 22 163} {4844086557506134071 22 164} {2220855574003438895 25 165} {6328437287830302784 25 166} {2603302973538259911 25 167} {279525646745474776 25 168} {9135399407553605081 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 Server2 start snapshot! index=169
term 25 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 0  matchIndex[2]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 19001 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 Server0 start snapshot! index=169
term 25 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=178
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2269946330767810541 (index 165) to leader 1
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 164
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 22
------------------------------------------------------
flag 72785 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 22 leaderCommit: 164 
------------------------------------------------------
term 25 server 2 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62955 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 25 rf.commitIndex 169 rf.lastApplied 169
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 32673 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 88347 term 25 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 25 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
flag 11532 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 82178 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 40346 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 51606 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67439 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 26923 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
update nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67763 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 9118 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 39030 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 33228 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49414 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 21265 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 56112 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 90149 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 1780 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 13844 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 47987 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 80304 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 43650 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 70978 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 36566 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 26749 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24719 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 27006 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 29643 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 82114 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84412 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 63688 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28016 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 29549 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 4400 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 82815 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 25155 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 68688 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
flag 23232 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 28474 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178}]
------------------------------------------------------
client write log 2269946330767810541 (index 179) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93717 term 25 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
flag 2792 term 25 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 25 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178} {2269946330767810541 25 179}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 169} {8310651799884802491 25 170} {8010936810424804049 25 171} {1012638201037214335 25 172} {9123114138507680579 25 173} {8706362820014504434 25 174} {1120349902188192926 25 175} {563995978866921961 25 176} {6499792988314122669 25 177} {8927090919240335189 25 178} {2269946330767810541 25 179}]
------------------------------------------------------
term 25 Server2 start snapshot! index=179
term 25 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39647 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
flag 95069 term 25 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 Server0 start snapshot! index=179
term 25 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 25 Server1 start snapshot! index=179
term 25 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 73823 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
flag 36987 term 25 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63200 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
flag 89439 term 25 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
flag 17280 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 179
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 1 InstallSnapshot fail
rf.commitIndex 179 args.LastIncludedIndex 179
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 40041 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
flag 79399 term 25 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 25 179}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3062216273491594770 (index 180) to leader 2
flag 96685 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
flag 21523 term 25 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 179 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 25 179} {3062216273491594770 25 180}]
------------------------------------------------------
flag 78638 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
flag 69781 term 25 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 25 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 25 179} {3062216273491594770 25 180}]
------------------------------------------------------
client write log 1822172568178065763 (index 181) to leader 2
client write log 8302558754965472049 (index 182) to leader 2
client write log 2088627564500474756 (index 183) to leader 2
client write log 4258126807702811838 (index 184) to leader 2
client write log 8591254630987588817 (index 185) to leader 2
client write log 2537114320113204618 (index 186) to leader 2
client write log 2305562765079640021 (index 187) to leader 2
client write log 8851646175617149772 (index 188) to leader 2
flag 93966 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
flag 46675 term 25 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 25 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 25 leaderCommit: 180 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188}]
------------------------------------------------------
flag 5473 term 25 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 25 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 85760 term 25 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 25 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5868874840532442721 (index 189) to leader 2
term 25 server 2 not vote for server 0, 日志不够新
term 25 server 1 not vote for server 0, 日志不够新
term 27 server 1 vote for server 2
term 27 server 0 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 2 get outdate rpc reply from server 0
flag 94237 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 7728 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37531 term 27 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 93833 term 27 leader 2 nextIndex[1]: 189  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20178 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 92965 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18576 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 89323 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 16998 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 50596 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 98491 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 828 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16366 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 45805 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 76551 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 8260 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 11848 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 50991 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 8044 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 10925 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 24734 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 29340 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 51191 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 78890 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92525 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 48771 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27090 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 24958 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 5876 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 74967 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 97689 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 43776 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 52720 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 59560 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 65209 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 66880 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
flag 39333 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 71833 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189}]
------------------------------------------------------
client write log 5868874840532442721 (index 190) to leader 2
flag 2137 term 27 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
flag 64939 term 27 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 27 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 25 leaderCommit: 188 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 179} {3062216273491594770 25 180} {1822172568178065763 25 181} {8302558754965472049 25 182} {2088627564500474756 25 183} {4258126807702811838 25 184} {8591254630987588817 25 185} {2537114320113204618 25 186} {2305562765079640021 25 187} {8851646175617149772 25 188} {5868874840532442721 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 Server2 start snapshot! index=189
term 27 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34233 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 90297 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 Server1 start snapshot! index=189
term 27 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 27 Server0 start snapshot! index=189
term 27 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 58569 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 80016 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
flag 52440 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 52389 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
flag 40997 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 74789 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
flag 194 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 41743 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66436 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 78849 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 25 189} {5868874840532442721 27 190}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6638027484390535408 (index 191) to leader 2
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71795 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
flag 81790 term 27 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 190 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191}]
------------------------------------------------------
flag 6050 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 191 
------------------------------------------------------
flag 9413 term 27 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 27 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 191 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191}]
------------------------------------------------------
client write log 8664797836796916003 (index 192) to leader 2
client write log 7577948226322446030 (index 193) to leader 2
client write log 1176121226759742530 (index 194) to leader 2
client write log 7151526191012419833 (index 195) to leader 2
client write log 4670278492641173794 (index 196) to leader 2
client write log 5849726191236664188 (index 197) to leader 2
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33370 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 191 
------------------------------------------------------
flag 63599 term 27 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 27 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 27 leaderCommit: 191 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197}]
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39144 term 27 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 27 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 14215 term 27 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 27 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2778910760928343662 (index 198) to leader 2
term 27 server 2 not vote for server 0, 日志不够新
term 27 server 1 not vote for server 0, 日志不够新
term 29 server 1 vote for server 2
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
term 29 server 2 get outdate rpc reply from server 0
flag 24140 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 66414 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 199->198
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 199->198
------------------------------------------------------
flag 50190 term 29 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 12443 term 29 leader 2 nextIndex[1]: 198  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32805 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 50512 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 70818 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 52069 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 57743 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 48043 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 33073 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 71801 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58923 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 98401 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 71261 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 28044 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 19406 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 43430 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 26520 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 56907 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 75204 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 40309 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 77350 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 99119 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 52527 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 4644 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 8195 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 7087 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48796 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 3576 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 98387 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 69787 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 67830 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 15499 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 64455 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 63754 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
flag 73771 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 21730 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198}]
------------------------------------------------------
client write log 2778910760928343662 (index 199) to leader 2
flag 9530 term 29 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
flag 11297 term 29 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 29 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 27 leaderCommit: 197 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198} {2778910760928343662 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 25 189} {5868874840532442721 27 190} {6638027484390535408 27 191} {8664797836796916003 27 192} {7577948226322446030 27 193} {1176121226759742530 27 194} {7151526191012419833 27 195} {4670278492641173794 27 196} {5849726191236664188 27 197} {2778910760928343662 27 198} {2778910760928343662 29 199}]
------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 75290 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 60979 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 65075 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 31735 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 19275 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 1521 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 31180 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 74373 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
flag 22723 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 10771 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18935 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 18815 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20470 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 92243 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 7157 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 62290 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 76342 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 76010 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
client write log 8344878873641071698 (index 200) to leader 0
flag 85661 term 30 leader 0 nextIndex[1]: 200  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 29461 term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8344878873641071698 30 200}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15802 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 20294 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 14736 term 30 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 30 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 200 
------------------------------------------------------
flag 99441 term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {8344878873641071698 30 200}]
------------------------------------------------------
client write log 1371761244791550420 (index 201) to leader 0
client write log 6217579932114429670 (index 202) to leader 0
client write log 8506273832665608181 (index 203) to leader 0
client write log 1441616523208778020 (index 204) to leader 0
client write log 4585991034466700678 (index 205) to leader 0
client write log 1080281219649452704 (index 206) to leader 0
client write log 4973365994226970985 (index 207) to leader 0
client write log 7627082167998540897 (index 208) to leader 0
client write log 1550206444466367154 (index 209) to leader 0
client write log 3996577829168172189 (index 210) to leader 0
client write log 2976371890575632314 (index 211) to leader 0
client write log 3234590394184011685 (index 212) to leader 0
client write log 8437795086594802710 (index 213) to leader 0
flag 98710 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 94097 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32842 term 30 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 30 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 30 leaderCommit: 200 
------------------------------------------------------
flag 24923 term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 199} {8344878873641071698 30 200} {1371761244791550420 30 201} {6217579932114429670 30 202} {8506273832665608181 30 203} {1441616523208778020 30 204} {4585991034466700678 30 205} {1080281219649452704 30 206} {4973365994226970985 30 207} {7627082167998540897 30 208} {1550206444466367154 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 30 Server0 start snapshot! index=209
term 30 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
flag 17514 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 63447 term 29 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
flag 35384 term 30 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 30 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 30 Server1 start snapshot! index=209
term 30 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8775975930812338907 (index 200) to leader 2
flag 66561 term 29 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 server 0 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99333 term 30 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 30 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 30 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 30 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
term 32 server 2 vote for server 0
term 32 server 1 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 0 get outdate rpc reply from server 1
flag 49357 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 66998 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 214->213
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16582 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 71880 term 32 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 24221 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 17055 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 12116 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 95221 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 98966 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 16471 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 70036 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 10439 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 24240 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 88232 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7791 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 23243 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67253 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 64405 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 86779 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 90179 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 61750 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 36630 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 61865 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 40030 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 8759 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 24660 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 458 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 17188 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4873 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 54358 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 44027 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 7258 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 11638 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 15779 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 98012 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 25909 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
flag 56584 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 13518 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213}]
------------------------------------------------------
client write log 8775975930812338907 (index 214) to leader 0
flag 77718 term 32 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
flag 15549 term 32 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 32 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 20336 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 30713 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 45327 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 87483 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 56103 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 50457 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 10348 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 72235 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 73167 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 2971 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
flag 56707 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 19659 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1281532084160208856 (index 215) to leader 0
flag 81634 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
flag 98816 term 32 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 214 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214} {1281532084160208856 32 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79151 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 11142 term 32 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 32 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214} {1281532084160208856 32 215}]
------------------------------------------------------
client write log 3815663468700270410 (index 216) to leader 0
client write log 5897346759922325263 (index 217) to leader 0
client write log 2169819447010205908 (index 218) to leader 0
client write log 2698864308615611871 (index 219) to leader 0
client write log 6758974483967464159 (index 220) to leader 0
client write log 7314879819365031428 (index 221) to leader 0
client write log 4617736608355219896 (index 222) to leader 0
client write log 1555188211124876771 (index 223) to leader 0
client write log 414784950637329790 (index 224) to leader 0
flag 76510 term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
flag 68103 term 32 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 32 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 32 leaderCommit: 215 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 30 209} {3996577829168172189 30 210} {2976371890575632314 30 211} {3234590394184011685 30 212} {8437795086594802710 30 213} {8775975930812338907 32 214} {1281532084160208856 32 215} {3815663468700270410 32 216} {5897346759922325263 32 217} {2169819447010205908 32 218} {2698864308615611871 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224}]
------------------------------------------------------
term 32 Server0 start snapshot! index=219
term 32 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
flag 96680 term 32 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 32 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 32 leaderCommit: 224 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224}]
------------------------------------------------------
term 32 Server2 start snapshot! index=219
term 32 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8648434596557712658 (index 225) to leader 0
term 32 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
flag 95246 term 32 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 32 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 32 leaderCommit: 224 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get outdate rpc reply from server 1
flag 37986 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 71747 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
term 34 leader 0 nextIndex[1]: 215  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 32
------------------------------------------------------
flag 94436 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 32 rf.commitIndex 219 rf.lastApplied 219
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 7776 term 34 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 94626 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18845 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 9416 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
flag 75532 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 23763 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
flag 99354 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 6140 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
flag 55954 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 82003 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27490 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 28564 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4265090486456210066 (index 226) to leader 0
flag 71017 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
flag 91447 term 34 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225} {4265090486456210066 34 226}]
------------------------------------------------------
flag 19016 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 226 
------------------------------------------------------
flag 344 term 34 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 34 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225} {4265090486456210066 34 226}]
------------------------------------------------------
client write log 5418102376321960933 (index 227) to leader 0
client write log 1233389433763951588 (index 228) to leader 0
client write log 3605307836211071650 (index 229) to leader 0
client write log 7679956183408379117 (index 230) to leader 0
client write log 1592615999576994351 (index 231) to leader 0
client write log 3533442674101883221 (index 232) to leader 0
client write log 6873501777457877226 (index 233) to leader 0
client write log 4190867372550128518 (index 234) to leader 0
client write log 3642200347335162683 (index 235) to leader 0
flag 11421 term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 32 leaderCommit: 226 
------------------------------------------------------
flag 50186 term 34 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 34 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 32 219} {6758974483967464159 32 220} {7314879819365031428 32 221} {4617736608355219896 32 222} {1555188211124876771 32 223} {414784950637329790 32 224} {8648434596557712658 32 225} {4265090486456210066 34 226} {5418102376321960933 34 227} {1233389433763951588 34 228} {3605307836211071650 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 13329 term 34 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6273644980341368963 (index 236) to leader 0
term 34 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 66884 term 34 leader 0 nextIndex[2]: 236  matchIndex[2]: 235
term 34 leader 0 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
flag 25312 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 51083 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 237->236
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 72548 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 35002 term 36 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 36 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 67160 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73610 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 12909 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29787 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 80522 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
flag 59104 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 96142 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4707 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 92484 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27458 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 43143 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 42305 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 36628 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 91260 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 56755 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 54262 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 82677 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
flag 27912 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 6790 term 37 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236}]
------------------------------------------------------
flag 91338 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 434 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
client write log 7190601838879783196 (index 237) to leader 2
flag 14937 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 56411 term 37 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237}]
------------------------------------------------------
flag 83842 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 6115 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21852 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 92558 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237}]
------------------------------------------------------
flag 88522 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 86705 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
client write log 7815498211403260212 (index 238) to leader 2
flag 15913 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 26102 term 37 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 37 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 37 leaderCommit: 237 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237} {7815498211403260212 37 238}]
------------------------------------------------------
flag 42138 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 21713 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31049 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 48168 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237} {7815498211403260212 37 238}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2912211084721333069 (index 239) to leader 2
flag 74659 term 36 leader 0 nextIndex[1]: 237  matchIndex[1]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
flag 42792 term 36 leader 0 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 0 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28863 term 37 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 54831 term 37 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 37 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 37 leaderCommit: 238 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237} {7815498211403260212 37 238} {2912211084721333069 37 239}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 229} {7679956183408379117 34 230} {1592615999576994351 34 231} {3533442674101883221 34 232} {6873501777457877226 34 233} {4190867372550128518 34 234} {3642200347335162683 34 235} {6273644980341368963 34 236} {7190601838879783196 37 237} {7815498211403260212 37 238} {2912211084721333069 37 239}]
------------------------------------------------------
term 37 Server2 start snapshot! index=239
term 37 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62519 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 41150 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 Server1 start snapshot! index=239
term 37 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 37 Server0 start snapshot! index=239
term 37 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 67964 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 23221 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
flag 50775 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 15678 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
flag 33860 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 88975 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
flag 7371 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 82773 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10384 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 18211 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 37 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4807532876605516779 (index 240) to leader 2
flag 5913 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
flag 35422 term 37 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 239 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {4807532876605516779 37 240}]
------------------------------------------------------
flag 273 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 67362 term 37 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 37 239} {4807532876605516779 37 240}]
------------------------------------------------------
client write log 2768184954216572306 (index 241) to leader 2
client write log 7823588748647337389 (index 242) to leader 2
client write log 7623255299305460620 (index 243) to leader 2
client write log 1059152942032625574 (index 244) to leader 2
client write log 6936264919054466776 (index 245) to leader 2
client write log 1054949153781283510 (index 246) to leader 2
client write log 7112310180229084142 (index 247) to leader 2
flag 92131 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
flag 92084 term 37 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 37 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 37 leaderCommit: 240 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247}]
------------------------------------------------------
flag 48146 term 37 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 37 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 67725 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4943255276363135307 (index 248) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 239
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 37
------------------------------------------------------
flag 27298 term 37 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 37 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 61361 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 49271 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30338 term 39 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 18905 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60827 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 45866 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75712 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 95148 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79410 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 34758 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96917 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 78848 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51300 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 98388 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 10613 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 77329 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 41146 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 14915 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85903 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 27794 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60388 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 81161 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 80012 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 78907 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 677 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 18611 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 92655 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 68914 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
flag 37979 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 95369 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90477 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 62880 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6143 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 24790 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 95106 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 79275 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
flag 20175 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 41959 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248}]
------------------------------------------------------
client write log 4943255276363135307 (index 249) to leader 2
flag 6186 term 39 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
flag 52413 term 39 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 39 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 37 leaderCommit: 247 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248} {4943255276363135307 39 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 37 239} {4807532876605516779 37 240} {2768184954216572306 37 241} {7823588748647337389 37 242} {7623255299305460620 37 243} {1059152942032625574 37 244} {6936264919054466776 37 245} {1054949153781283510 37 246} {7112310180229084142 37 247} {4943255276363135307 37 248} {4943255276363135307 39 249}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 4120 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 64658 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
flag 81610 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 71176 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 14252 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 7705 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 84948 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 208 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99921 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 62852 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
flag 40143 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 35876 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5330315999204930439 (index 250) to leader 2
flag 28703 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
flag 93076 term 39 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5330315999204930439 39 250}]
------------------------------------------------------
flag 88797 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 3882 term 39 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5330315999204930439 39 250}]
------------------------------------------------------
client write log 4788021629405248985 (index 251) to leader 2
client write log 25925917424259763 (index 252) to leader 2
client write log 6635276815136492327 (index 253) to leader 2
client write log 969447856372852715 (index 254) to leader 2
client write log 5966995697149088426 (index 255) to leader 2
client write log 4066618334680300375 (index 256) to leader 2
client write log 122966107940934724 (index 257) to leader 2
client write log 3004338610843312238 (index 258) to leader 2
client write log 3560432419841724683 (index 259) to leader 2
flag 45243 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 19165 term 39 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 249} {5330315999204930439 39 250} {4788021629405248985 39 251} {25925917424259763 39 252} {6635276815136492327 39 253} {969447856372852715 39 254} {5966995697149088426 39 255} {4066618334680300375 39 256} {122966107940934724 39 257} {3004338610843312238 39 258} {3560432419841724683 39 259}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 67842 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 39 259}]
------------------------------------------------------
term 39 Server1 start snapshot! index=259
term 39 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6503637606358139519 (index 260) to leader 2
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
flag 69905 term 39 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 30536 term 39 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 39 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 46200 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 36128 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 250  matchIndex[0]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 48209 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
flag 49590 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 68834 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 45785 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 86890 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 82063 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 20028 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 25709 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 76918 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2657 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 17583 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 58675 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 84802 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12031 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 48996 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 34356 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 39120 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79735 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 95887 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 48380 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 36926 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30732 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 97868 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 31706 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 39696 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
flag 46544 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 81203 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
flag 6645 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 70740 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 39 259} {6503637606358139519 39 260}]
------------------------------------------------------
client write log 6503637606358139519 (index 261) to leader 1
flag 87545 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
flag 16800 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 259 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
flag 22477 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 53541 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
flag 73993 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 42439 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1830 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 86668 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2512 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 82650 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
flag 422 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 88308 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 36348 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 67784 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 16462 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 99565 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 50742 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 97255 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 36194 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 25482 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 60261 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 25658 term 43 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261}]
------------------------------------------------------
client write log 91338006098345987 (index 262) to leader 0
flag 90548 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 16121 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 97943 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 17682 term 43 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262}]
------------------------------------------------------
flag 71390 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 21656 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22065 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 64427 term 43 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262}]
------------------------------------------------------
client write log 4114066588610075210 (index 263) to leader 0
flag 31073 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 49805 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 53724 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 262 
------------------------------------------------------
flag 90562 term 43 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 63092 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 6228 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 79640 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 55079 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2096004949434866971 (index 262) to leader 1
flag 34871 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 10026 term 42 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90139 term 43 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 5601 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 30620 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 12079 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14195 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 33799 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 74150 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 98526 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32464 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 30833 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
flag 35523 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 42042 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 9596 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 16604 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19615 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 5717 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 264->263
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 263
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 34259 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 263 args.LastIncludedIndex 259
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 46609 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 263 
------------------------------------------------------
flag 13142 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25802 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 93705 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 36096 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 36163 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 98079 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 81632 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51807 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 45961 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9187 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 88209 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 58120 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 39279 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
flag 83123 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 55166 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47245 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 28953 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14029 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 25208 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263}]
------------------------------------------------------
client write log 2096004949434866971 (index 264) to leader 0
flag 78129 term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 7624 term 43 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 43 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 71693 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 60800 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
flag 17598 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 23995 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 87680 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 264 args.LastIncludedIndex 259
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 90041 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 264 
------------------------------------------------------
flag 60111 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
flag 15155 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 39504 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
term 43 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 344241967913377305 (index 265) to leader 0
flag 43599 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
flag 77542 term 43 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 264 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264} {344241967913377305 43 265}]
------------------------------------------------------
flag 65122 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 53364 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264} {344241967913377305 43 265}]
------------------------------------------------------
client write log 5044051322900775785 (index 266) to leader 0
client write log 2447075133540455427 (index 267) to leader 0
client write log 1617003531771018010 (index 268) to leader 0
client write log 6725513202912283 (index 269) to leader 0
client write log 1804091626654826877 (index 270) to leader 0
client write log 2467473786951867135 (index 271) to leader 0
client write log 1167005175434475583 (index 272) to leader 0
client write log 665182106861145214 (index 273) to leader 0
client write log 2648997499867531298 (index 274) to leader 0
client write log 1011236566730197081 (index 275) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88696 term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
flag 81621 term 43 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 43 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 43 leaderCommit: 265 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 39 259} {6503637606358139519 39 260} {6503637606358139519 42 261} {91338006098345987 43 262} {4114066588610075210 43 263} {2096004949434866971 43 264} {344241967913377305 43 265} {5044051322900775785 43 266} {2447075133540455427 43 267} {1617003531771018010 43 268} {6725513202912283 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 80255 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5032783998907938157 (index 276) to leader 0
term 43 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 220 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 49412 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 46238 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 29640 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
flag 39604 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 59247 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
flag 43485 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 73702 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
flag 14968 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 29726 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58233 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 79437 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
flag 76409 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 25709 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49420 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 40415 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
flag 90352 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 75286 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3416643015516371033 (index 277) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39698 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 39731 term 45 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276} {3416643015516371033 45 277}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57309 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 14413 term 45 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 45 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276} {3416643015516371033 45 277}]
------------------------------------------------------
client write log 1519850771166921772 (index 278) to leader 0
client write log 4045269469543856719 (index 279) to leader 0
client write log 7976918475375135933 (index 280) to leader 0
client write log 427558656813507189 (index 281) to leader 0
client write log 7291703311730277424 (index 282) to leader 0
client write log 5272973471151193270 (index 283) to leader 0
client write log 7413420198255352571 (index 284) to leader 0
client write log 2654886057159256592 (index 285) to leader 0
client write log 7342540488024943326 (index 286) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61 term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 18257 term 45 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 45 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 45 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 269} {1804091626654826877 43 270} {2467473786951867135 43 271} {1167005175434475583 43 272} {665182106861145214 43 273} {2648997499867531298 43 274} {1011236566730197081 43 275} {5032783998907938157 43 276} {3416643015516371033 45 277} {1519850771166921772 45 278} {4045269469543856719 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 31049 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7013919592450736076 (index 287) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 93808 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 1
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 2
flag 2454 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 88139 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 26020 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 3168 term 47 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 68981 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
flag 13852 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 56287 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
flag 96453 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 35692 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95151 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 52668 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
flag 9864 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 98358 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
flag 2056 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 7246 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
flag 15663 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 47103 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80637 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 74046 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 41177 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 3576 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60810 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 90846 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 61895 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 15389 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
flag 53411 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 14483 term 48 leader 1 nextIndex[2]: 288  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287}]
------------------------------------------------------
client write log 4032515983907438169 (index 288) to leader 1
flag 9514 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 41209 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 60549 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 87544 term 48 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287} {4032515983907438169 48 288}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47944 term 47 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 95185 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 43468 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 52636 term 48 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 48 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287} {4032515983907438169 48 288}]
------------------------------------------------------
client write log 8771853822976388687 (index 289) to leader 1
client write log 4398182973964624909 (index 290) to leader 1
client write log 7542652283134893259 (index 291) to leader 1
client write log 637545585289689085 (index 292) to leader 1
client write log 2879006673187107505 (index 293) to leader 1
client write log 3998262109717440164 (index 294) to leader 1
client write log 8750144550787937699 (index 295) to leader 1
client write log 2503576066023731180 (index 296) to leader 1
client write log 6457263294357403297 (index 297) to leader 1
client write log 880092801326422630 (index 298) to leader 1
client write log 8026104022654147770 (index 299) to leader 1
client write log 5464254678849986474 (index 300) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 97862 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 93478 term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 98595 term 48 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 48 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 45 279} {7976918475375135933 45 280} {427558656813507189 45 281} {7291703311730277424 45 282} {5272973471151193270 45 283} {7413420198255352571 45 284} {2654886057159256592 45 285} {7342540488024943326 45 286} {7013919592450736076 45 287} {4032515983907438169 48 288} {8771853822976388687 48 289} {4398182973964624909 48 290} {7542652283134893259 48 291} {637545585289689085 48 292} {2879006673187107505 48 293} {3998262109717440164 48 294} {8750144550787937699 48 295} {2503576066023731180 48 296} {6457263294357403297 48 297} {880092801326422630 48 298} {8026104022654147770 48 299} {5464254678849986474 48 300}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=300
-------------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 21379 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 49367 term 48 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 48 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {5464254678849986474 48 300}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=300
-------------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7067878896209382786 (index 301) to leader 1
flag 89391 term 47 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 7970 term 47 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 47 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 288  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 79993 term 48 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 48 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 56140 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 12611 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 301
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 13276 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 299 args.LastIncludedIndex 299
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 88088 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 49110 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
flag 87870 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 31218 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 82024 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 6105 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85211 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 25772 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
flag 51848 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 10088 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
flag 41596 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 4743 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7275816429818278047 (index 302) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99932 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 53003 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301} {7275816429818278047 48 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38518 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 5137 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301} {7275816429818278047 48 302}]
------------------------------------------------------
client write log 4471660995958520618 (index 303) to leader 1
client write log 2646214808213340808 (index 304) to leader 1
client write log 4606249949809630304 (index 305) to leader 1
client write log 3210019211736090432 (index 306) to leader 1
client write log 7444622331912100454 (index 307) to leader 1
client write log 5950053160762265973 (index 308) to leader 1
client write log 514488937350940474 (index 309) to leader 1
client write log 117794717436042774 (index 310) to leader 1
client write log 9193191074987509032 (index 311) to leader 1
client write log 7798744709771638117 (index 312) to leader 1
client write log 4561775260884227255 (index 313) to leader 1
client write log 2927441509119677111 (index 314) to leader 1
client write log 8509768350920657693 (index 315) to leader 1
flag 82704 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 46443 term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 48 299} {5464254678849986474 48 300} {7067878896209382786 48 301} {7275816429818278047 48 302} {4471660995958520618 48 303} {2646214808213340808 48 304} {4606249949809630304 48 305} {3210019211736090432 48 306} {7444622331912100454 48 307} {5950053160762265973 48 308} {514488937350940474 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
flag 69198 term 48 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 48 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315}]
------------------------------------------------------
term 48 Server0 start snapshot! index=309
term 48 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=315
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8618291397574822284 (index 316) to leader 1
term 48 server 1 not vote for server 2, 日志不够新
term 48 server 0 not vote for server 2, 日志不够新
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get outdate rpc reply from server 0
flag 89549 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 7157 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 317->316
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
flag 14554 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 72092 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 228 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 78898 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 32451 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 76541 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 4402 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 68729 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 96046 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 33851 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 71286 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53833 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 22125 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 85909 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 49089 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 96140 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 509 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 40562 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 43767 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 83711 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 67349 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 1391 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 99965 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 4190 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 59239 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10044 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 69080 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48364 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 71998 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 89796 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 66729 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
flag 9636 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 69535 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41971 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 35798 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30385 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 15174 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=315
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316}]
------------------------------------------------------
client write log 8618291397574822284 (index 317) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96536 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
flag 78565 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 48 leaderCommit: 315 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
flag 2931 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 57933 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
flag 21472 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 91585 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65243 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 43158 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
flag 22246 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 3273 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 69771 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 46814 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1303826855362800210 (index 318) to leader 1
flag 94289 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 52164 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317} {1303826855362800210 50 318}]
------------------------------------------------------
flag 21577 term 50 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 52972 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317} {1303826855362800210 50 318}]
------------------------------------------------------
client write log 5657650704425195673 (index 319) to leader 1
client write log 8596707644141499901 (index 320) to leader 1
client write log 3612877441406656485 (index 321) to leader 1
client write log 7020038568317209633 (index 322) to leader 1
client write log 7563900849040942507 (index 323) to leader 1
client write log 7918777295378733330 (index 324) to leader 1
client write log 3257022380513654878 (index 325) to leader 1
client write log 3730255480799913324 (index 326) to leader 1
flag 92600 term 50 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 246 term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 309} {117794717436042774 48 310} {9193191074987509032 48 311} {7798744709771638117 48 312} {4561775260884227255 48 313} {2927441509119677111 48 314} {8509768350920657693 48 315} {8618291397574822284 48 316} {8618291397574822284 50 317} {1303826855362800210 50 318} {5657650704425195673 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326}]
------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98272 term 50 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 50 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326}]
------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2340769969563748132 (index 327) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 40566 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 78708 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 328->327
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 72239 term 52 leader 1 nextIndex[0]: 327  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 50 rf.commitIndex 319 rf.lastApplied 319
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 9708 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 42405 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 11346 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 52313 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 87765 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 78874 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79921 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 70348 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
flag 10486 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 48522 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 67159 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 52569 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 28333 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 51169 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 63861 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 84005 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 40724 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 81662 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 97048 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 57542 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 94035 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 23850 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 60197 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 59648 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8773 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 71945 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42376 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 1814 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 97612 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 38169 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 63578 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 2296 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54566 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 6140 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
flag 14671 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 93382 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327}]
------------------------------------------------------
client write log 2340769969563748132 (index 328) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63081 term 52 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 36656 term 52 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 52 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 97057 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 88740 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 53057 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 2523 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 22637 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 83450 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
term 52 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64046 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 76273 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 56894 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 13326 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 48073 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 13900 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 25617 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 88111 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 80188 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 19341 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 84268 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 11664 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 57874 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 98387 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 0
term 53 server 2 become leader
------------------------------------------------------
flag 65625 term 53 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 2960 term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328}]
------------------------------------------------------
flag 27062 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 98693 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
client write log 5195084497925022848 (index 329) to leader 2
flag 44487 term 53 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 61335 term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 50 319} {8596707644141499901 50 320} {3612877441406656485 50 321} {7020038568317209633 50 322} {7563900849040942507 50 323} {7918777295378733330 50 324} {3257022380513654878 50 325} {3730255480799913324 50 326} {2340769969563748132 50 327} {2340769969563748132 52 328} {5195084497925022848 53 329}]
------------------------------------------------------
term 53 Server2 start snapshot! index=329
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
flag 85088 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 42065 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 66107 term 53 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 329 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 53 329}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 3474063275664796154 (index 330) to leader 2
client write log 1295340555904041079 (index 331) to leader 2
client write log 1506253946542274710 (index 332) to leader 2
client write log 6092392856460482913 (index 333) to leader 2
client write log 6360595906758890434 (index 334) to leader 2
client write log 986077437331412619 (index 335) to leader 2
client write log 4842426076853163325 (index 336) to leader 2
flag 29755 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 62522 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 63368 term 53 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 329 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 25116 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 12330 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 14400 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 1362714330223845205 (index 329) to leader 1
flag 30547 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 44280 term 52 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 53 server 2 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63780 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 53 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87220 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 88555 term 53 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 2 get outdate rpc reply from server 1
flag 68662 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 33929 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 13362 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 84561 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
leader 2 sendAppendEntries -> server 1 true------------------------------------------------------
update nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 91433 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 60077 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 19346 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 98743 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 60123 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 12680 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51154 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 53472 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 17754 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 78016 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 97609 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 35440 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56537 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 10576 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19081 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 96796 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 39293 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 9671 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87621 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 26339 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 34324 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 18044 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 3884 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 11481 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90292 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 92675 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 82125 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 93212 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 49845 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 50674 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
flag 78165 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 16897 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=337
update matchIndex[1]=336
update leader CommitIndex=336
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336}]
------------------------------------------------------
client write log 1362714330223845205 (index 337) to leader 2
flag 7414 term 53 leader 2 nextIndex[0]: 337  matchIndex[0]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
flag 53628 term 53 leader 2 nextIndex[1]: 337  matchIndex[1]: 336
term 53 leader 2 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 53 leaderCommit: 336 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
flag 19035 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 20852 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
flag 7682 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 69576 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
flag 38880 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 13685 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
flag 90574 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 58329 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
flag 57904 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 49186 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=338
update matchIndex[1]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=337
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1051243693544962066 (index 338) to leader 2
flag 40638 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
flag 59654 term 53 leader 2 nextIndex[1]: 338  matchIndex[1]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 337 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:337 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337} {1051243693544962066 53 338}]
------------------------------------------------------
flag 52213 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 21847 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337} {1051243693544962066 53 338}]
------------------------------------------------------
client write log 6591087928494274959 (index 339) to leader 2
client write log 4605924730725363939 (index 340) to leader 2
client write log 6496362399883747094 (index 341) to leader 2
client write log 2180085397960551842 (index 342) to leader 2
client write log 1982741989601843869 (index 343) to leader 2
client write log 7733859578517190649 (index 344) to leader 2
client write log 3775323371066124422 (index 345) to leader 2
client write log 8503546275733349106 (index 346) to leader 2
client write log 2233199019584822127 (index 347) to leader 2
client write log 7999707336036029979 (index 348) to leader 2
client write log 4483175538960225702 (index 349) to leader 2
flag 83549 term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
flag 14344 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 53 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 329} {3474063275664796154 53 330} {1295340555904041079 53 331} {1506253946542274710 53 332} {6092392856460482913 53 333} {6360595906758890434 53 334} {986077437331412619 53 335} {4842426076853163325 53 336} {1362714330223845205 53 337} {1051243693544962066 53 338} {6591087928494274959 53 339} {4605924730725363939 53 340} {6496362399883747094 53 341} {2180085397960551842 53 342} {1982741989601843869 53 343} {7733859578517190649 53 344} {3775323371066124422 53 345} {8503546275733349106 53 346} {2233199019584822127 53 347} {7999707336036029979 53 348} {4483175538960225702 53 349}]
------------------------------------------------------
term 53 Server2 start snapshot! index=339
term 53 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=349
-------------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 338  matchIndex[0]: 337
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 71375 term 53 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 53 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 349}]
------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=349
-------------------------------------------------------------
term 53 Server1 start snapshot! index=349
term 53 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8559098297843319187 (index 350) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get outdate rpc reply from server 0
flag 749 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 63892 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 351->350
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 351->350
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 338  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 9163 term 55 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59819 term 55 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 55 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 93502 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79640 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 89187 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 38530 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 70061 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 14015 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 10829 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48158 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 74392 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 92165 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 90904 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 85586 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 71777 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 62970 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 95713 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9335 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 7070 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69549 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 36107 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 40037 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 19650 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80621 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 49001 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 81380 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 31741 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40310 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 46430 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 22158 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 27204 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 11425 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 61879 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
flag 95343 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 27021 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6052 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 71537 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=351
update matchIndex[0]=350
update leader CommitIndex=349
leader log:
[{snapshot 53 349} {8559098297843319187 53 350}]
------------------------------------------------------
client write log 8559098297843319187 (index 351) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31914 term 55 leader 2 nextIndex[0]: 351  matchIndex[0]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
flag 21857 term 55 leader 2 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 2 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56899 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 7608 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
flag 43507 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 65155 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69527 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 96503 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
term 55 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
flag 50395 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 51384 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
flag 88524 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 16980 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:351 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=352
update matchIndex[1]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=352
update matchIndex[0]=351
update leader CommitIndex=351
leader log:
[{snapshot 53 349} {8559098297843319187 53 350} {8559098297843319187 55 351}]
------------------------------------------------------
flag 93591 term 55 leader 2 nextIndex[0]: 352  matchIndex[0]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
flag 98365 term 55 leader 2 nextIndex[1]: 352  matchIndex[1]: 351
term 55 leader 2 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 55 leaderCommit: 351 
------------------------------------------------------
  ... Passed --  75.4  3 1731  748304  351
--- PASS: TestSnapshotInstall2D (75.44s)
PASS
