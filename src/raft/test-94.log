=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 0 vote for server 1
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
flag 64950 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 94462 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2238761062514507711 (index 1) to leader 1
flag 35214 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 54038 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
flag 72841 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39376 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
flag 62673 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98367 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
flag 40672 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95853 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
flag 29415 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94123 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
flag 73478 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94682 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2238761062514507711 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5309826415712636237 (index 2) to leader 1
flag 61660 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56102 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2238761062514507711 1 1} {5309826415712636237 1 2}]
------------------------------------------------------
flag 59149 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 98825 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2238761062514507711 1 1} {5309826415712636237 1 2}]
------------------------------------------------------
client write log 5787295346613888847 (index 3) to leader 1
client write log 6414329103926546729 (index 4) to leader 1
client write log 2503701210029325103 (index 5) to leader 1
client write log 4041419033633718832 (index 6) to leader 1
client write log 322580680530670976 (index 7) to leader 1
client write log 2946620316310850586 (index 8) to leader 1
client write log 8966927126234194948 (index 9) to leader 1
client write log 2051681134334107969 (index 10) to leader 1
client write log 1989823686167287242 (index 11) to leader 1
flag 10806 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 3739 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {2238761062514507711 1 1} {5309826415712636237 1 2} {5787295346613888847 1 3} {6414329103926546729 1 4} {2503701210029325103 1 5} {4041419033633718832 1 6} {322580680530670976 1 7} {2946620316310850586 1 8} {8966927126234194948 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
flag 40594 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4708689751210495802 (index 12) to leader 1
flag 29779 term 1 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 1 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 62289 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 42050 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 54673 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 93162 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 80475 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2698 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 74457 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 1 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 1
flag 88869 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 90187 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 83914 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 57697 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 40579 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 12572 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 35163 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 55184 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 2434 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 96561 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 93138 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 48137 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4020 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 5272 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 84896 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 60646 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 74436 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 56475 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89095 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 42084 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 2139 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 30839 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 13852 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 93593 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34289 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 25938 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 25019 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 24285 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
flag 35664 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 28167 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12}]
------------------------------------------------------
client write log 4708689751210495802 (index 13) to leader 1
flag 20870 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 23795 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
flag 85182 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 33741 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
flag 46571 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 29543 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
flag 63625 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 83490 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
flag 85208 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 75097 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
flag 68447 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 46431 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 45989 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 50999 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 33497 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 47612 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 59661 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 89023 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 60446 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 6790 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 33417 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 11691 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13}]
------------------------------------------------------
client write log 2077978500691967125 (index 14) to leader 2
flag 26544 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 83732 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 98765 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 22264 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13} {2077978500691967125 4 14}]
------------------------------------------------------
flag 66584 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 17589 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 18788 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 74518 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13} {2077978500691967125 4 14}]
------------------------------------------------------
client write log 1395096186322483978 (index 15) to leader 2
client write log 2410046037055854167 (index 16) to leader 2
client write log 2947039475663407189 (index 17) to leader 2
client write log 8137104107336178154 (index 18) to leader 2
client write log 3504783430127651900 (index 19) to leader 2
client write log 1947079433132512840 (index 20) to leader 2
client write log 8300681140425508152 (index 21) to leader 2
client write log 4129671177108793938 (index 22) to leader 2
client write log 3093484515949023683 (index 23) to leader 2
client write log 4956384074740719514 (index 24) to leader 2
client write log 362022794328851382 (index 25) to leader 2
client write log 4589752722065623510 (index 26) to leader 2
client write log 7095118224245884703 (index 27) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 10858 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 67939 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 63995 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 1 9} {2051681134334107969 1 10} {1989823686167287242 1 11} {4708689751210495802 1 12} {4708689751210495802 3 13} {2077978500691967125 4 14} {1395096186322483978 4 15} {2410046037055854167 4 16} {2947039475663407189 4 17} {8137104107336178154 4 18} {3504783430127651900 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=27
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 28882 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 32959 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=27
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7542522719821195852 (index 14) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 13
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 90901 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58039 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 37943 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 24392 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 51319 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 8393 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 16227 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 76249 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62724 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 13575 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 80431 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 39397 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 20544 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 79608 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 79739 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 80506 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 92531 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 86218 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 36789 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 7256 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39480 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 93602 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
flag 8412 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 27
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 27 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 14792 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 39270 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 3327 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 7154 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 91422 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 63216 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 33971 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 65291 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 25902 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 80162 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 10170 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 44609 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8926 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 4092 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
flag 1272 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 92244 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27}]
------------------------------------------------------
client write log 7542522719821195852 (index 28) to leader 2
flag 73834 term 4 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 40924 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42785 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 33597 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47873 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 68486 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
flag 67074 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 28247 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
flag 23433 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 91787 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
flag 18225 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 97842 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2759730604240186987 (index 29) to leader 2
flag 71552 term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 62341 term 4 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 4 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {1947079433132512840 4 20} {8300681140425508152 4 21} {4129671177108793938 4 22} {3093484515949023683 4 23} {4956384074740719514 4 24} {362022794328851382 4 25} {4589752722065623510 4 26} {7095118224245884703 4 27} {7542522719821195852 4 28} {2759730604240186987 4 29}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 15773 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 728698510676720269 (index 30) to leader 2
client write log 4330601034804907971 (index 31) to leader 2
client write log 8252063688831324275 (index 32) to leader 2
client write log 7908351419450799385 (index 33) to leader 2
client write log 4808740933852014058 (index 34) to leader 2
client write log 4026440183379015343 (index 35) to leader 2
client write log 5798861630608171389 (index 36) to leader 2
client write log 3173441813537923673 (index 37) to leader 2
client write log 8791456163962705239 (index 38) to leader 2
client write log 6393663906780355498 (index 39) to leader 2
client write log 6316301341878235613 (index 40) to leader 2
client write log 7096170593127989322 (index 41) to leader 2
client write log 3266158692689849128 (index 42) to leader 2
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 60274 term 4 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 4 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 29} {728698510676720269 4 30} {4330601034804907971 4 31} {8252063688831324275 4 32} {7908351419450799385 4 33} {4808740933852014058 4 34} {4026440183379015343 4 35} {5798861630608171389 4 36} {3173441813537923673 4 37} {8791456163962705239 4 38} {6393663906780355498 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=42
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 74030 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42}]
------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=42
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5424450097084482803 (index 43) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 71796 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 17005 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 47323 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 44->43
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 95130 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 28650 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 64700 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 78739 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 47354 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36601 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 41107 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 54085 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 45804 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69191 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 30242 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 72996 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 31207 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39059 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 98933 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 45289 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 98025 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 88890 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 78752 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 22842 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 65715 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 91948 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 52921 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 50805 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 97149 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 35434 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 58638 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 84774 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 21168 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 36762 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 39758 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
flag 12436 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 30329 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28736 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 52235 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43}]
------------------------------------------------------
client write log 5424450097084482803 (index 44) to leader 2
flag 91981 term 6 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 35768 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
flag 86551 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 99874 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9889 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 84597 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
flag 50376 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 13740 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
flag 90806 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 85327 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
flag 26073 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 67159 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 547856799518106150 (index 45) to leader 2
flag 25462 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 62734 term 6 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44} {547856799518106150 6 45}]
------------------------------------------------------
flag 92299 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 60936 term 6 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44} {547856799518106150 6 45}]
------------------------------------------------------
client write log 4660548516137635613 (index 46) to leader 2
client write log 7255251826078615943 (index 47) to leader 2
client write log 6509140659494133938 (index 48) to leader 2
client write log 7166031052040461581 (index 49) to leader 2
client write log 2399959893177377058 (index 50) to leader 2
client write log 8900000272426532963 (index 51) to leader 2
client write log 331108652852044133 (index 52) to leader 2
client write log 1678701243890605640 (index 53) to leader 2
client write log 2941053477853703206 (index 54) to leader 2
client write log 3472749350516509318 (index 55) to leader 2
client write log 250813855722887500 (index 56) to leader 2
client write log 2402760039073197393 (index 57) to leader 2
client write log 7045883248557532709 (index 58) to leader 2
client write log 3925825955760869245 (index 59) to leader 2
client write log 3741979759117074697 (index 60) to leader 2
flag 80507 term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 94798 term 6 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 4 39} {6316301341878235613 4 40} {7096170593127989322 4 41} {3266158692689849128 4 42} {5424450097084482803 4 43} {5424450097084482803 6 44} {547856799518106150 6 45} {4660548516137635613 6 46} {7255251826078615943 6 47} {6509140659494133938 6 48} {7166031052040461581 6 49} {2399959893177377058 6 50} {8900000272426532963 6 51} {331108652852044133 6 52} {1678701243890605640 6 53} {2941053477853703206 6 54} {3472749350516509318 6 55} {250813855722887500 6 56} {2402760039073197393 6 57} {7045883248557532709 6 58} {3925825955760869245 6 59} {3741979759117074697 6 60}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=60
-------------------------------------------------------------
term 6 Server2 start snapshot! index=59
term 6 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 75978 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 60 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 6 59} {3741979759117074697 6 60}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=60
-------------------------------------------------------------
term 6 Server1 start snapshot! index=59
term 6 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 0
client write log 933196777205198677 (index 61) to leader 2
term 6 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 25856 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 6 leaderCommit: 60 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 66709 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 56544 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 6
------------------------------------------------------
flag 53826 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 6 rf.commitIndex 59 rf.lastApplied 59
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
flag 82409 term 8 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 7734 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
flag 45946 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 6192 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
flag 63748 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 44171 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
flag 38751 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 30400 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38753 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 69337 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
flag 19044 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 70913 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
flag 49449 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 66077 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 86308 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 49742 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 92197 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 13553 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 68904 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 50351 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 58197 term 9 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 34533 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61}]
------------------------------------------------------
client write log 9156622190892751053 (index 62) to leader 0
flag 21774 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 99284 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 24116 term 9 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 42766 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61} {9156622190892751053 9 62}]
------------------------------------------------------
flag 90684 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 69374 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 54912 term 9 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 86186 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61} {9156622190892751053 9 62}]
------------------------------------------------------
client write log 1863560717591831717 (index 63) to leader 0
client write log 8279123467418241750 (index 64) to leader 0
client write log 274700464166218586 (index 65) to leader 0
client write log 1765986997120495862 (index 66) to leader 0
client write log 7085032140926304675 (index 67) to leader 0
client write log 8117043701122648728 (index 68) to leader 0
client write log 7026202716459265527 (index 69) to leader 0
client write log 1755661677397095399 (index 70) to leader 0
client write log 3256801959932085977 (index 71) to leader 0
client write log 4580331843805459203 (index 72) to leader 0
client write log 7922425534151900668 (index 73) to leader 0
client write log 3343221090452319918 (index 74) to leader 0
client write log 8468743646667948586 (index 75) to leader 0
client write log 1007390390398697438 (index 76) to leader 0
flag 22622 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 7068 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 85539 term 9 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 95803 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 62 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 6 59} {3741979759117074697 6 60} {933196777205198677 6 61} {9156622190892751053 9 62} {1863560717591831717 9 63} {8279123467418241750 9 64} {274700464166218586 9 65} {1765986997120495862 9 66} {7085032140926304675 9 67} {8117043701122648728 9 68} {7026202716459265527 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
flag 45273 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 30863 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 24486 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6045966038112823892 (index 62) to leader 2
flag 14286 term 8 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 79525 term 8 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 8 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2719 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
flag 32917 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 9055 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 26379 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 80600 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 24586 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 78794 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 31712 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 48454 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 90457 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 26306 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 77->76
------------------------------------------------------
flag 50662 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 76
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 76 args.LastIncludedIndex 69
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 58618 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 60391 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 26715 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 7544 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 33494 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 28913 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 71981 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 7617 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 50055 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 94093 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 10950 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 80459 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97587 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 11445 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 79450 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 1172 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
flag 58252 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 91239 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 77->76
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
flag 35583 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 44499 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 91189 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 34389 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10945 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 23925 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
flag 94279 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 82557 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76}]
------------------------------------------------------
client write log 6045966038112823892 (index 77) to leader 0
flag 40728 term 9 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 14568 term 9 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 9 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
flag 93972 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 77
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 76 args.LastIncludedIndex 69
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
flag 90618 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 48003 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
flag 30575 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 3340 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20312 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 11159 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
flag 46432 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 93317 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84432 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 94508 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
flag 17881 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 70616 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=78
update matchIndex[2]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4660860193224054750 (index 78) to leader 0
flag 18078 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 3639 term 9 leader 0 nextIndex[2]: 78  matchIndex[2]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77} {4660860193224054750 9 78}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95448 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 47669 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=78
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77} {4660860193224054750 9 78}]
------------------------------------------------------
client write log 5752761534135443340 (index 79) to leader 0
client write log 6982108688292509766 (index 80) to leader 0
client write log 8384465496153071754 (index 81) to leader 0
client write log 5148640022925510878 (index 82) to leader 0
client write log 7373224046822263081 (index 83) to leader 0
client write log 6850838867713265304 (index 84) to leader 0
flag 56739 term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
flag 30051 term 9 leader 0 nextIndex[2]: 79  matchIndex[2]: 78
term 9 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 9 leaderCommit: 78 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 69} {1755661677397095399 9 70} {3256801959932085977 9 71} {4580331843805459203 9 72} {7922425534151900668 9 73} {3343221090452319918 9 74} {8468743646667948586 9 75} {1007390390398697438 9 76} {6045966038112823892 9 77} {4660860193224054750 9 78} {5752761534135443340 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 67104 term 9 leader 0 nextIndex[2]: 85  matchIndex[2]: 84
term 9 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84}]
------------------------------------------------------
term 9 Server2 start snapshot! index=79
term 9 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 1
client write log 182365165895723697 (index 85) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 54929 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 89428 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 86->85
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
flag 73304 term 11 leader 0 nextIndex[2]: 85  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 30567 term 11 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 11 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 72769 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21755 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 47674 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25951 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 37383 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 22611 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 7028 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 70242 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 77178 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 76179 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 97779 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 69464 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 32082 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82987 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 39831 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 10512 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 32179 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 36234 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 72491 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 4888 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 27652 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 60495 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 3566 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45683 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 31753 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 51554 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 21682 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 12053 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 83299 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
flag 35362 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 4811 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39743 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 42345 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=84
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85}]
------------------------------------------------------
client write log 182365165895723697 (index 86) to leader 0
flag 782 term 11 leader 0 nextIndex[1]: 86  matchIndex[1]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
flag 33166 term 11 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 11 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 9 leaderCommit: 84 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
flag 61711 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 76930 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
flag 59717 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 90177 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
flag 3657 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 24423 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
flag 81947 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 48508 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
flag 27180 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 15429 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5958 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 31162 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6764291316299904528 (index 87) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54988 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 56751 term 11 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86} {6764291316299904528 11 87}]
------------------------------------------------------
flag 31638 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 73063 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86} {6764291316299904528 11 87}]
------------------------------------------------------
client write log 3001758599708112141 (index 88) to leader 0
client write log 6132025084751141527 (index 89) to leader 0
client write log 6449234964009704578 (index 90) to leader 0
client write log 5241512913340696218 (index 91) to leader 0
client write log 6368802113050588316 (index 92) to leader 0
client write log 7117441722007737382 (index 93) to leader 0
client write log 7528283763252215505 (index 94) to leader 0
client write log 6738345355136104842 (index 95) to leader 0
client write log 2952470780437028864 (index 96) to leader 0
client write log 701417224935781690 (index 97) to leader 0
client write log 2578435001385553102 (index 98) to leader 0
client write log 1925517213806471613 (index 99) to leader 0
client write log 8092201745908581204 (index 100) to leader 0
client write log 3362735127058502609 (index 101) to leader 0
flag 1105 term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 40817 term 11 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 11 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 9 79} {6982108688292509766 9 80} {8384465496153071754 9 81} {5148640022925510878 9 82} {7373224046822263081 9 83} {6850838867713265304 9 84} {182365165895723697 9 85} {182365165895723697 11 86} {6764291316299904528 11 87} {3001758599708112141 11 88} {6132025084751141527 11 89} {6449234964009704578 11 90} {5241512913340696218 11 91} {6368802113050588316 11 92} {7117441722007737382 11 93} {7528283763252215505 11 94} {6738345355136104842 11 95} {2952470780437028864 11 96} {701417224935781690 11 97} {2578435001385553102 11 98} {1925517213806471613 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101}]
------------------------------------------------------
term 11 Server0 start snapshot! index=89
term 11 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=101
-------------------------------------------------------------
term 11 Server0 start snapshot! index=99
term 11 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 32899 term 11 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 11 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101}]
------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=101
-------------------------------------------------------------
term 11 Server2 start snapshot! index=99
term 11 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6482503382483088871 (index 102) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 53376 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 70650 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 87  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 89823 term 13 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 11 rf.commitIndex 99 rf.lastApplied 99
flag 30923 term 13 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 13 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 42713 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21049 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 87760 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 74976 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 65736 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 35232 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 93805 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 42623 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 50862 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22927 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 67640 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 75579 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 83444 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 86953 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 36206 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 13657 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 33481 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76202 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 34384 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 60393 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 32165 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 28699 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 29303 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 56354 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 18948 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 98384 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 66685 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 50203 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 14093 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 29505 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 85445 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 43723 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 16598 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
flag 493 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 34760 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102}]
------------------------------------------------------
client write log 6482503382483088871 (index 103) to leader 0
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75036 term 13 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
flag 84355 term 13 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 13 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 11 leaderCommit: 101 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
flag 26210 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 78806 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
flag 47434 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 31552 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
flag 75227 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 3679 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58017 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 38986 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
flag 41862 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 79589 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
flag 28075 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 70525 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 33675 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 85970 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 45792 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 9466 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 35373 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 39931 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 89357 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 36560 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
client write log 1701151654827367495 (index 104) to leader 2
flag 50007 term 14 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 59153 term 14 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104}]
------------------------------------------------------
flag 52074 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 70782 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 58701 term 14 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 104 
------------------------------------------------------
flag 67248 term 14 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104}]
------------------------------------------------------
client write log 8984324637106445646 (index 105) to leader 2
flag 47101 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 29067 term 13 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
flag 77430 term 14 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 104 
------------------------------------------------------
flag 73659 term 14 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 14 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
flag 5667 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 103
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 40265 term 14 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 105 
------------------------------------------------------
flag 93851 term 14 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6292284616215179353 (index 106) to leader 2
flag 52190 term 13 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 13 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 103 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 103
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82105 term 14 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 13 leaderCommit: 105 
------------------------------------------------------
flag 9417 term 14 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18736 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 11461 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
flag 66327 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 41020 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
flag 6568 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 31485 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44006 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 49711 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
flag 87497 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 94487 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
flag 43853 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 82618 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
term 14 server 0 AppendEntries true commitIndex:106 
------------------------------------------------------
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=106
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4067988030072134907 (index 107) to leader 2
flag 1809 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 40876 term 14 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106} {4067988030072134907 14 107}]
------------------------------------------------------
flag 5370 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 96714 term 14 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 14 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106} {4067988030072134907 14 107}]
------------------------------------------------------
client write log 4764673102139743201 (index 108) to leader 2
client write log 402509558779354759 (index 109) to leader 2
client write log 1034457049642259274 (index 110) to leader 2
client write log 4602689032702325908 (index 111) to leader 2
client write log 7863159074356599147 (index 112) to leader 2
client write log 5908143305456429692 (index 113) to leader 2
client write log 1701488106046579145 (index 114) to leader 2
client write log 3050164352103788586 (index 115) to leader 2
flag 6744 term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 97818 term 14 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 14 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 11 99} {8092201745908581204 11 100} {3362735127058502609 11 101} {6482503382483088871 11 102} {6482503382483088871 13 103} {1701151654827367495 14 104} {8984324637106445646 14 105} {6292284616215179353 14 106} {4067988030072134907 14 107} {4764673102139743201 14 108} {402509558779354759 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 36428 term 14 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 14 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115}]
------------------------------------------------------
term 14 Server1 start snapshot! index=109
term 14 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6930426161774366350 (index 116) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get outdate rpc reply from server 0
flag 71701 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 26107 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 117->116
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 107  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 11167 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
flag 3206 term 16 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 17089 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 83144 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 88966 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 38638 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 52699 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 91126 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 38071 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 70100 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 13723 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44227 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 23266 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82337 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 89636 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 13585 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 67183 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87278 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 82642 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33984 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 16615 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95131 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 3728 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29095 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 64513 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 93598 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 1324 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 3396 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 8476 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 8502 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 83512 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 63180 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 91451 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
flag 53400 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 35989 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6930426161774366350 (index 117) to leader 2
flag 61681 term 16 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 65458 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
flag 12390 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 21533 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 34067 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 34800 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
flag 73694 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 9157 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
flag 39524 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 86073 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
flag 92605 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 1164 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8884446707634206331 (index 118) to leader 2
flag 92531 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
flag 61367 term 16 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117} {8884446707634206331 16 118}]
------------------------------------------------------
flag 29286 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
flag 94262 term 16 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 16 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117} {8884446707634206331 16 118}]
------------------------------------------------------
client write log 5612590767249916033 (index 119) to leader 2
client write log 2516161496490556049 (index 120) to leader 2
client write log 128738470425841486 (index 121) to leader 2
client write log 1445978437213508145 (index 122) to leader 2
client write log 3945237715422383986 (index 123) to leader 2
client write log 6584109263318678073 (index 124) to leader 2
client write log 1076552658634314836 (index 125) to leader 2
client write log 5782844269214201598 (index 126) to leader 2
client write log 1695087483481338078 (index 127) to leader 2
flag 95393 term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
flag 68337 term 16 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 16 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 14 109} {1034457049642259274 14 110} {4602689032702325908 14 111} {7863159074356599147 14 112} {5908143305456429692 14 113} {1701488106046579145 14 114} {3050164352103788586 14 115} {6930426161774366350 14 116} {6930426161774366350 16 117} {8884446707634206331 16 118} {5612590767249916033 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 99567 term 16 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 16 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127}]
------------------------------------------------------
term 16 Server1 start snapshot! index=119
term 16 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2552850592631306784 (index 128) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 20156 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 17930 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 80175 term 18 leader 2 nextIndex[1]: 128  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 72471 term 18 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 18 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 51909 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9340 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 26752 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 26732 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 50193 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 57302 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 85178 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 5925 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 33435 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 97415 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 43942 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26991 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 67766 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31170 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 41899 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 81060 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 27793 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 18768 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 52047 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 35531 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 11981 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 70590 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 29228 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 96433 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 20192 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 33437 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 18136 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 37895 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 71063 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40634 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 64704 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
flag 3753 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 11491 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77119 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 11403 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128}]
------------------------------------------------------
client write log 2552850592631306784 (index 129) to leader 2
flag 89891 term 18 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
flag 58661 term 18 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 18 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 16 leaderCommit: 127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128} {2552850592631306784 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 16 119} {2516161496490556049 16 120} {128738470425841486 16 121} {1445978437213508145 16 122} {3945237715422383986 16 123} {6584109263318678073 16 124} {1076552658634314836 16 125} {5782844269214201598 16 126} {1695087483481338078 16 127} {2552850592631306784 16 128} {2552850592631306784 18 129}]
------------------------------------------------------
term 18 Server2 start snapshot! index=129
term 18 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 46719 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 13530 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 Server0 start snapshot! index=129
term 18 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 18 Server1 start snapshot! index=129
term 18 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 12929 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 78164 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 51884 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 79902 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 78058 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 55413 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 64878 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 61192 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
flag 17197 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 62191 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 129}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63556 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 46565 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 3758 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 58051 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 22625 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 92181 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 25932 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 88808 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
client write log 152583979099696461 (index 130) to leader 0
flag 21772 term 19 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 7147 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {152583979099696461 19 130}]
------------------------------------------------------
flag 30124 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 62812 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 13607 term 19 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 46169 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {152583979099696461 19 130}]
------------------------------------------------------
client write log 2046628172443396231 (index 131) to leader 0
client write log 8740263963379630241 (index 132) to leader 0
client write log 8740432826245562592 (index 133) to leader 0
client write log 5967443812655915996 (index 134) to leader 0
client write log 7132616738718290100 (index 135) to leader 0
client write log 8160601888792452118 (index 136) to leader 0
client write log 6459058346504976150 (index 137) to leader 0
client write log 7775398334480791217 (index 138) to leader 0
client write log 1548099669107823110 (index 139) to leader 0
client write log 5823168431298199649 (index 140) to leader 0
flag 27601 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 62102 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 41553 term 19 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 19 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 19 leaderCommit: 130 
------------------------------------------------------
flag 89778 term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 130 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 18 129} {152583979099696461 19 130} {2046628172443396231 19 131} {8740263963379630241 19 132} {8740432826245562592 19 133} {5967443812655915996 19 134} {7132616738718290100 19 135} {8160601888792452118 19 136} {6459058346504976150 19 137} {7775398334480791217 19 138} {1548099669107823110 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 Server0 start snapshot! index=139
term 19 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 73940 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 4529 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 14918 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1126171934557745584 (index 130) to leader 2
flag 75758 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
flag 45896 term 18 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 129 
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35775 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 41897 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 17609 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 18823 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 67055 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52794 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 27194 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52649 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 64989 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28774 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 140
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 140 args.LastIncludedIndex 139
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 44383 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 81791 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 24262 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 28700 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 3051 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 53152 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 93425 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 60547 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 36193 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 72763 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1932 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 40831 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 20192 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 4389 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18432 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 79241 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
flag 1806 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 140
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 140 args.LastIncludedIndex 139
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 20496 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 26590 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 14328 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 19153 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 40664 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 9260 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 24754 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 91961 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
flag 2270 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 380 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5823168431298199649 19 140}]
------------------------------------------------------
client write log 1126171934557745584 (index 141) to leader 0
flag 25430 term 19 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
flag 48055 term 19 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 19 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 19 leaderCommit: 140 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 48699 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 33658 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 70123 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 56330 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 31009 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 13320 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 88413 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 32794 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 52956 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 74544 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
flag 52621 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 62246 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7417216479666267514 (index 142) to leader 0
flag 62779 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
flag 85145 term 19 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141} {7417216479666267514 19 142}]
------------------------------------------------------
flag 3102 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 25908 term 19 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 19 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141} {7417216479666267514 19 142}]
------------------------------------------------------
client write log 2393744066401550718 (index 143) to leader 0
client write log 7348407141042622013 (index 144) to leader 0
client write log 35131762100341237 (index 145) to leader 0
client write log 1398396376905338537 (index 146) to leader 0
client write log 5818235544135366369 (index 147) to leader 0
client write log 559716651719977575 (index 148) to leader 0
client write log 7264014647665925686 (index 149) to leader 0
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 46385 term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 79478 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 19 139} {5823168431298199649 19 140} {1126171934557745584 19 141} {7417216479666267514 19 142} {2393744066401550718 19 143} {7348407141042622013 19 144} {35131762100341237 19 145} {1398396376905338537 19 146} {5818235544135366369 19 147} {559716651719977575 19 148} {7264014647665925686 19 149}]
------------------------------------------------------
term 19 Server0 start snapshot! index=149
term 19 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 19
------------------------------------------------------
flag 17617 term 19 leader 0 nextIndex[2]: 150  matchIndex[2]: 149
term 19 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 19 149}]
------------------------------------------------------
term 19 Server2 start snapshot! index=149
term 19 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7862036659603629627 (index 150) to leader 0
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 32420 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 35810 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 151->150
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 151->150
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 19
------------------------------------------------------
flag 54535 term 21 leader 0 nextIndex[2]: 150  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 19 rf.commitIndex 149 rf.lastApplied 149
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 61151 term 21 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 21 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 7978 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95182 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 86828 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 72684 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 88248 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 11014 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 98012 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87741 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 75441 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10397 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 69348 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24176 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 36366 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27882 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 86912 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 21992 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 94035 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 27879 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 66465 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26496 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 51519 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 93603 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 18404 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 51052 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 7730 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 23136 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 65305 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74669 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 96690 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87675 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 60546 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
flag 63220 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 2134 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=149
leader log:
[{snapshot 19 149} {7862036659603629627 19 150}]
------------------------------------------------------
client write log 7862036659603629627 (index 151) to leader 0
flag 34539 term 21 leader 0 nextIndex[1]: 151  matchIndex[1]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
flag 8759 term 21 leader 0 nextIndex[2]: 151  matchIndex[2]: 150
term 21 leader 0 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 19 leaderCommit: 149 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 62507 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 14991 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 16752 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 37205 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 74527 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 10606 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 1417 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 82025 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 10242 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 9138 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
flag 9651 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 18340 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=152
update matchIndex[2]=151
update leader CommitIndex=151
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5554996910300807550 (index 152) to leader 0
flag 1967 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
flag 64660 term 21 leader 0 nextIndex[2]: 152  matchIndex[2]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 151 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152}]
------------------------------------------------------
flag 90560 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 152 
------------------------------------------------------
flag 71979 term 21 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 21 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 152 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152}]
------------------------------------------------------
client write log 3036356392016319541 (index 153) to leader 0
client write log 7047870772555016051 (index 154) to leader 0
client write log 6949414485789240020 (index 155) to leader 0
client write log 8790407042087432905 (index 156) to leader 0
client write log 5604540120287399009 (index 157) to leader 0
client write log 9220677089260813227 (index 158) to leader 0
flag 47142 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 152 
------------------------------------------------------
flag 39063 term 21 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 21 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 21 leaderCommit: 152 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98418 term 21 leader 0 nextIndex[1]: 152  matchIndex[1]: 151
term 21 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 4959 term 21 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 21 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8489153981028807312 (index 159) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 77339 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 86071 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3051 term 23 leader 0 nextIndex[1]: 152  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 39575 term 23 leader 0 nextIndex[2]: 159  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 2 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 2
flag 13446 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 51003 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7932 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 68464 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 23909 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 97381 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 26894 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 69952 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 3681 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 57544 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 28267 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 38432 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 32078 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 72289 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 1181 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 25661 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 35654 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 62301 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 85218 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 74081 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 74973 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 94717 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 36615 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 97728 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 59984 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 54971 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 15019 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 77380 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 16944 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 8915 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 29475 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 37134 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 27486 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 12636 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
flag 48363 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 10127 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159}]
------------------------------------------------------
client write log 8489153981028807312 (index 160) to leader 0
flag 58359 term 23 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
flag 56520 term 23 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 19 149} {7862036659603629627 19 150} {7862036659603629627 21 151} {5554996910300807550 21 152} {3036356392016319541 21 153} {7047870772555016051 21 154} {6949414485789240020 21 155} {8790407042087432905 21 156} {5604540120287399009 21 157} {9220677089260813227 21 158} {8489153981028807312 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
term 23 Server0 start snapshot! index=159
term 23 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
flag 29267 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 49037 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
term 23 Server1 start snapshot! index=159
term 23 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 23 Server2 start snapshot! index=159
term 23 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
flag 61065 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 84197 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
flag 18793 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 7112 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
flag 91970 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 92199 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
flag 89989 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 90285 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 0
flag 35852 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 60695 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 54897 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 59682 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 87589 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 53390 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 48320 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 99382 term 24 leader 1 nextIndex[2]: 161  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8489153981028807312 23 160}]
------------------------------------------------------
flag 80714 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 28698 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
client write log 3704928415903242611 (index 161) to leader 1
flag 18305 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 98958 term 24 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {8489153981028807312 23 160} {3704928415903242611 24 161}]
------------------------------------------------------
flag 38456 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 76040 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 51424 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 161 
------------------------------------------------------
flag 15004 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 21 159} {8489153981028807312 23 160} {3704928415903242611 24 161}]
------------------------------------------------------
client write log 5478129806209814828 (index 162) to leader 1
client write log 9029155406696412372 (index 163) to leader 1
client write log 2500540859793226665 (index 164) to leader 1
client write log 1099390361421007234 (index 165) to leader 1
client write log 2454052435307198532 (index 166) to leader 1
client write log 4753378473665533080 (index 167) to leader 1
client write log 3779800808979607303 (index 168) to leader 1
client write log 2825636028995631949 (index 169) to leader 1
client write log 5956803226962411250 (index 170) to leader 1
client write log 3370973878731513589 (index 171) to leader 1
client write log 8401363403415508467 (index 172) to leader 1
client write log 5422589143963116645 (index 173) to leader 1
client write log 8517653067001200030 (index 174) to leader 1
flag 67007 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 21951 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 16020 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 161 
------------------------------------------------------
flag 85228 term 24 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 24 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 24 leaderCommit: 161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 161->160
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 21 159} {8489153981028807312 23 160} {3704928415903242611 24 161} {5478129806209814828 24 162} {9029155406696412372 24 163} {2500540859793226665 24 164} {1099390361421007234 24 165} {2454052435307198532 24 166} {4753378473665533080 24 167} {3779800808979607303 24 168} {2825636028995631949 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
flag 91048 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 80243 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
flag 17806 term 24 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 24 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 24 leaderCommit: 174 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174}]
------------------------------------------------------
term 24 Server2 start snapshot! index=169
term 24 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6609338438832654614 (index 175) to leader 1
flag 31491 term 23 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 29314 term 23 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 23 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
flag 67087 term 24 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 24 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 24 leaderCommit: 174 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 2104 term 24 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 73902 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
flag 17611 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 54632 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
flag 93042 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 84247 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
flag 95133 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 60885 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
flag 84488 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 13242 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
flag 67079 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 28466 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 2 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58787 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 87326 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2128712816903063525 (index 176) to leader 1
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 6960 term 24 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
flag 90989 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 175 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175} {2128712816903063525 24 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47113 term 24 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 24 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
flag 53097 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175} {2128712816903063525 24 176}]
------------------------------------------------------
client write log 8908433906856740422 (index 177) to leader 1
client write log 5152987363482913210 (index 178) to leader 1
client write log 9060123942639402269 (index 179) to leader 1
client write log 325482423754761151 (index 180) to leader 1
client write log 6235062600466169502 (index 181) to leader 1
client write log 6184152492422637017 (index 182) to leader 1
client write log 8080175955663378442 (index 183) to leader 1
client write log 5655200623341677021 (index 184) to leader 1
client write log 3419557983120480763 (index 185) to leader 1
client write log 2689265438741165572 (index 186) to leader 1
client write log 2786932463522908773 (index 187) to leader 1
flag 9888 term 24 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 24 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
flag 11951 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 169} {5956803226962411250 24 170} {3370973878731513589 24 171} {8401363403415508467 24 172} {5422589143963116645 24 173} {8517653067001200030 24 174} {6609338438832654614 24 175} {2128712816903063525 24 176} {8908433906856740422 24 177} {5152987363482913210 24 178} {9060123942639402269 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187}]
------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99383 term 24 leader 1 nextIndex[0]: 188  matchIndex[0]: 187
term 24 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187}]
------------------------------------------------------
term 24 Server0 start snapshot! index=179
term 24 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2887789771531710756 (index 188) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 75383 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 37148 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 189->188
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 189->188
------------------------------------------------------
flag 26302 term 26 leader 1 nextIndex[0]: 188  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58131 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 79592 term 26 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 26 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61871 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 86619 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3532 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 90170 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 70008 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 85462 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 58117 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 51046 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 23695 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 92829 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96353 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 16415 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
flag 89579 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 94536 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 67532 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 29277 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 2310 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 15027 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 6942 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 56685 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94101 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 9744 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 26548 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 69178 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81530 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 41805 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19633 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 58392 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 81385 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 62037 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 76568 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 32895 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
flag 74793 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 39438 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188}]
------------------------------------------------------
client write log 2887789771531710756 (index 189) to leader 1
flag 40604 term 26 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
flag 52568 term 26 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 26 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 24 leaderCommit: 187 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:187 
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188} {2887789771531710756 26 189}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 24 179} {325482423754761151 24 180} {6235062600466169502 24 181} {6184152492422637017 24 182} {8080175955663378442 24 183} {5655200623341677021 24 184} {3419557983120480763 24 185} {2689265438741165572 24 186} {2786932463522908773 24 187} {2887789771531710756 24 188} {2887789771531710756 26 189}]
------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 35146 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 53427 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 26394 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 66948 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64514 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 26853 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 39718 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 73858 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62840 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 62291 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 87724 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 54743 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3663806003826962004 (index 190) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79691 term 26 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 89471 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3663806003826962004 26 190}]
------------------------------------------------------
flag 37322 term 26 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 80430 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3663806003826962004 26 190}]
------------------------------------------------------
client write log 8740854129812456607 (index 191) to leader 1
client write log 8967028704309711706 (index 192) to leader 1
client write log 6988231311838168409 (index 193) to leader 1
client write log 3055733211440832519 (index 194) to leader 1
client write log 423522462857050020 (index 195) to leader 1
client write log 772915954548396340 (index 196) to leader 1
client write log 164428388746003371 (index 197) to leader 1
client write log 5793836102565988746 (index 198) to leader 1
client write log 6517719437045850380 (index 199) to leader 1
client write log 3179424618653450800 (index 200) to leader 1
client write log 3701738424257380407 (index 201) to leader 1
client write log 4838772188997675931 (index 202) to leader 1
client write log 6006555418472697733 (index 203) to leader 1
client write log 5301237121734584406 (index 204) to leader 1
flag 90493 term 26 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 91922 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 189} {3663806003826962004 26 190} {8740854129812456607 26 191} {8967028704309711706 26 192} {6988231311838168409 26 193} {3055733211440832519 26 194} {423522462857050020 26 195} {772915954548396340 26 196} {164428388746003371 26 197} {5793836102565988746 26 198} {6517719437045850380 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204}]
------------------------------------------------------
term 26 Server1 start snapshot! index=199
term 26 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79202 term 26 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 26 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204}]
------------------------------------------------------
term 26 Server0 start snapshot! index=199
term 26 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=204
-------------------------------------------------------------
!!!!!!connect server 2
client write log 74964944051796232 (index 205) to leader 1
flag 17879 term 26 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 26 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 42836 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 19474 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 206->205
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 54455 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 190  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 26 rf.commitIndex 199 rf.lastApplied 199
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51168 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 57090 term 28 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 28 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36624 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 27022 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30213 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 50977 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 75024 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 17702 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 17544 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 88755 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 85507 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 92633 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67458 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 31733 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 56509 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 85310 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 99011 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 21119 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 318 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 80521 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 42552 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 88470 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 65905 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 72831 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58608 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 90478 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 35654 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 32988 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86541 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 72714 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 18362 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 97932 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
flag 42216 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 23304 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205}]
------------------------------------------------------
client write log 74964944051796232 (index 206) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46985 term 28 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
flag 27661 term 28 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 28 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 26 leaderCommit: 204 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
flag 79568 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 79991 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
flag 22396 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 52074 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
flag 55600 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 37115 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
flag 67171 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 52752 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98967 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 20457 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
flag 56277 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 28453 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2275 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 89439 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 7887 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 773 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34756 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 79720 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 1911 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 29077 term 28 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
flag 51879 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 9737 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 207->206
------------------------------------------------------
client write log 1618605673684486571 (index 207) to leader 0
flag 47535 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 206
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 54181 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
flag 76879 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207}]
------------------------------------------------------
flag 60834 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 206
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 41193 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 207 
------------------------------------------------------
flag 87951 term 29 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 29 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207}]
------------------------------------------------------
client write log 3251047676025099538 (index 208) to leader 0
flag 64400 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 206
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 34206 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 207 
------------------------------------------------------
flag 14723 term 29 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 29 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 12464 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 206
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 37481 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 208 
------------------------------------------------------
flag 67109 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1283984282586372907 (index 207) to leader 1
flag 4642 term 28 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 28 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 206 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 206
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54453 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 28 leaderCommit: 208 
------------------------------------------------------
flag 61470 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 54176 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 8944 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 95056 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 795 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 53647 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 34832 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51645 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 14246 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 57840 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 58571 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 3000 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 30805 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 71374 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 49225 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 209->208
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 208
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 47039 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 208 args.LastIncludedIndex 199
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 33086 term 29 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 208 
------------------------------------------------------
flag 77604 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 90561 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 97878 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26288 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 73545 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 58458 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 16881 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 48764 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 97777 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 16122 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 19576 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6482 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 44945 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 19099 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 83295 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 30587 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 92026 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
flag 94733 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 89730 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2467 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 82923 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208}]
------------------------------------------------------
client write log 1283984282586372907 (index 209) to leader 0
flag 98881 term 29 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
flag 92908 term 29 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 29 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 29 leaderCommit: 208 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208} {1283984282586372907 29 209}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 26 199} {3179424618653450800 26 200} {3701738424257380407 26 201} {4838772188997675931 26 202} {6006555418472697733 26 203} {5301237121734584406 26 204} {74964944051796232 26 205} {74964944051796232 28 206} {1618605673684486571 29 207} {3251047676025099538 29 208} {1283984282586372907 29 209}]
------------------------------------------------------
term 29 Server0 start snapshot! index=209
term 29 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 52698 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
flag 56335 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 29 Server1 start snapshot! index=209
term 29 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75297 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
flag 9455 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
flag 82257 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
flag 89596 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 30612 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 209 args.LastIncludedIndex 209
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 28218 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
flag 61917 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 29 209}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 290780075524830589 (index 210) to leader 0
flag 67958 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
flag 3339 term 29 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 209 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {290780075524830589 29 210}]
------------------------------------------------------
flag 99568 term 29 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 29 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
flag 42112 term 29 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 29 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 209} {290780075524830589 29 210}]
------------------------------------------------------
client write log 6909930070348018344 (index 211) to leader 0
client write log 2259250007407124913 (index 212) to leader 0
client write log 4967260058818427368 (index 213) to leader 0
client write log 9157604242624064079 (index 214) to leader 0
client write log 7016307720601644842 (index 215) to leader 0
client write log 8798742210926082583 (index 216) to leader 0
client write log 8918667649878248656 (index 217) to leader 0
client write log 3605024351598784328 (index 218) to leader 0
client write log 425849760544607420 (index 219) to leader 0
client write log 6447849895558587016 (index 220) to leader 0
client write log 3506963250723791654 (index 221) to leader 0
client write log 4887103015427735259 (index 222) to leader 0
client write log 3876961920794226900 (index 223) to leader 0
client write log 3242589741668376676 (index 224) to leader 0
client write log 8966732850205933234 (index 225) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 59082 term 29 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 29 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 29 leaderCommit: 210 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 29 209} {290780075524830589 29 210} {6909930070348018344 29 211} {2259250007407124913 29 212} {4967260058818427368 29 213} {9157604242624064079 29 214} {7016307720601644842 29 215} {8798742210926082583 29 216} {8918667649878248656 29 217} {3605024351598784328 29 218} {425849760544607420 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225}]
------------------------------------------------------
term 29 Server0 start snapshot! index=219
term 29 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
flag 31124 term 29 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 29 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225}]
------------------------------------------------------
term 29 Server2 start snapshot! index=219
term 29 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8345622046781100776 (index 226) to leader 0
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 209
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
flag 67395 term 29 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 29 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 29 leaderCommit: 225 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 60077 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 21669 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 210  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
flag 35464 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 29 rf.commitIndex 219 rf.lastApplied 219
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 95224 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 21714 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67213 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 6968 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
flag 60474 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 79476 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
flag 28825 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 95969 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50705 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 70336 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82463 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 86136 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
flag 98784 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 6888 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8709826916945826902 (index 227) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27699 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 56360 term 31 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226} {8709826916945826902 31 227}]
------------------------------------------------------
flag 14225 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 78950 term 31 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 31 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226} {8709826916945826902 31 227}]
------------------------------------------------------
client write log 5923682409355288367 (index 228) to leader 0
client write log 6855128962430193042 (index 229) to leader 0
client write log 2971550050252643553 (index 230) to leader 0
client write log 2846723461933759193 (index 231) to leader 0
client write log 1793522321874685889 (index 232) to leader 0
client write log 540193867779972538 (index 233) to leader 0
client write log 1044775041438216229 (index 234) to leader 0
client write log 7516516514905192411 (index 235) to leader 0
client write log 8502934277367488823 (index 236) to leader 0
client write log 612175299998817032 (index 237) to leader 0
client write log 7869621387438278139 (index 238) to leader 0
client write log 8077786495309565472 (index 239) to leader 0
client write log 4571466878173707877 (index 240) to leader 0
client write log 1603178059447074926 (index 241) to leader 0
flag 27356 term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 69655 term 31 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 31 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 29 219} {6447849895558587016 29 220} {3506963250723791654 29 221} {4887103015427735259 29 222} {3876961920794226900 29 223} {3242589741668376676 29 224} {8966732850205933234 29 225} {8345622046781100776 29 226} {8709826916945826902 31 227} {5923682409355288367 31 228} {6855128962430193042 31 229} {2971550050252643553 31 230} {2846723461933759193 31 231} {1793522321874685889 31 232} {540193867779972538 31 233} {1044775041438216229 31 234} {7516516514905192411 31 235} {8502934277367488823 31 236} {612175299998817032 31 237} {7869621387438278139 31 238} {8077786495309565472 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241}]
------------------------------------------------------
term 31 Server0 start snapshot! index=229
term 31 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=241
-------------------------------------------------------------
term 31 Server0 start snapshot! index=239
term 31 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 69282 term 31 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 31 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 31 leaderCommit: 241 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241}]
------------------------------------------------------
term 31 Server2 start snapshot! index=229
term 31 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=241
-------------------------------------------------------------
term 31 Server2 start snapshot! index=239
term 31 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7225944926664256904 (index 242) to leader 0
term 31 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 40260 term 31 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 31 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 31 leaderCommit: 241 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 32 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 1
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 2
flag 59964 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 45235 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 93474 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 31 rf.commitIndex 239 rf.lastApplied 239
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48825 term 33 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 33 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 83151 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
flag 35318 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 40192 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
flag 30181 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 77618 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50367 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 83711 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
flag 79536 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 36718 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
flag 68556 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 90440 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
flag 13381 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 48227 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 49796 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 44154 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 25387 term 33 leader 0 nextIndex[1]: 243  matchIndex[1]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 93975 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
flag 55742 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 49161 term 34 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242}]
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 242
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 10234 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
client write log 2864057399664102628 (index 243) to leader 2
flag 95217 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 64525 term 34 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243}]
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 242
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 65471 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 53808 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 35185 term 34 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243}]
------------------------------------------------------
client write log 7484880633324369076 (index 244) to leader 2
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 242
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 84873 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
flag 82592 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 65142 term 34 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 34 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 243 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244}]
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 242
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 27221 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37210 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 95152 term 34 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3505524272174790840 (index 245) to leader 2
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 242
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 31
------------------------------------------------------
flag 61246 term 33 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 33 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 242 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69238 term 34 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 72347 term 34 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 34 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 34 leaderCommit: 244 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50074 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 13592 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
flag 13234 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 11158 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3709 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 62085 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
flag 3461 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 27324 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 0 not vote for server 2, 日志不够新
term 34 server 2 get outdate rpc reply from server 0
flag 47255 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 99570 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3483606048238413988 (index 246) to leader 2
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60662 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
flag 65377 term 34 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 245 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245} {3483606048238413988 34 246}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87328 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 246 
------------------------------------------------------
flag 76623 term 34 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 34 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 34 leaderCommit: 246 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245} {3483606048238413988 34 246}]
------------------------------------------------------
client write log 6747823590213637947 (index 247) to leader 2
client write log 2677169325644611051 (index 248) to leader 2
client write log 6433278842027613392 (index 249) to leader 2
client write log 4314424223394058346 (index 250) to leader 2
client write log 4262959465707803509 (index 251) to leader 2
client write log 7444911239862107086 (index 252) to leader 2
client write log 2934875252354309979 (index 253) to leader 2
client write log 8073617678514436623 (index 254) to leader 2
client write log 7272585837944389089 (index 255) to leader 2
client write log 6347694361696495139 (index 256) to leader 2
client write log 2527820493146380732 (index 257) to leader 2
client write log 5769966061381448280 (index 258) to leader 2
client write log 7218196187453959409 (index 259) to leader 2
flag 17916 term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 34 leaderCommit: 246 
------------------------------------------------------
flag 51866 term 34 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 34 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 34 leaderCommit: 246 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 31 239} {4571466878173707877 31 240} {1603178059447074926 31 241} {7225944926664256904 31 242} {2864057399664102628 34 243} {7484880633324369076 34 244} {3505524272174790840 34 245} {3483606048238413988 34 246} {6747823590213637947 34 247} {2677169325644611051 34 248} {6433278842027613392 34 249} {4314424223394058346 34 250} {4262959465707803509 34 251} {7444911239862107086 34 252} {2934875252354309979 34 253} {8073617678514436623 34 254} {7272585837944389089 34 255} {6347694361696495139 34 256} {2527820493146380732 34 257} {5769966061381448280 34 258} {7218196187453959409 34 259}]
------------------------------------------------------
term 34 Server2 start snapshot! index=249
term 34 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 34 Server2 start snapshot! index=259
term 34 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
flag 75531 term 34 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 34 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 34 259}]
------------------------------------------------------
term 34 Server1 start snapshot! index=249
term 34 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 34 Server1 start snapshot! index=259
term 34 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7967804533174501700 (index 260) to leader 2
term 34 server 2 not vote for server 0, 日志不够新
term 36 server 1 vote for server 2
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 0
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 1
flag 66469 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 23885 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 34
------------------------------------------------------
flag 98837 term 36 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 34 rf.commitIndex 259 rf.lastApplied 259
flag 60197 term 36 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 36 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 20062 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78530 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 33304 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38445 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 64308 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 21430 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 22329 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 19153 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 24324 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64906 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 77425 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65460 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 74065 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72078 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 31969 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 42589 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 45350 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 46480 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 75374 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 14150 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 2027 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 82645 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 22992 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 5947 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 88813 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96818 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 28568 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 95680 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 9467 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82679 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 25114 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
flag 14815 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 14020 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 34 259} {7967804533174501700 34 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7967804533174501700 (index 261) to leader 2
flag 92014 term 36 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
flag 73068 term 36 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 36 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 34 leaderCommit: 259 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 86574 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 44891 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
flag 56605 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 83296 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89196 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 71178 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
flag 82671 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 25770 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
flag 64902 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 56602 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 54289 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 53811 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2152345308547743534 (index 262) to leader 2
flag 26364 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
flag 61825 term 36 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 261 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261} {2152345308547743534 36 262}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85668 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
flag 56711 term 36 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 36 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261} {2152345308547743534 36 262}]
------------------------------------------------------
client write log 495065213962100909 (index 263) to leader 2
client write log 5568470602645385542 (index 264) to leader 2
client write log 4421233475639069592 (index 265) to leader 2
client write log 4104112416269260631 (index 266) to leader 2
client write log 8994118729524043782 (index 267) to leader 2
client write log 8493383374943121265 (index 268) to leader 2
client write log 7156388533013755582 (index 269) to leader 2
client write log 8791485018970530085 (index 270) to leader 2
client write log 7389760553643199779 (index 271) to leader 2
client write log 3898904655048245837 (index 272) to leader 2
client write log 205438987913535202 (index 273) to leader 2
flag 34619 term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
flag 98856 term 36 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 36 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 36 leaderCommit: 262 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 34 259} {7967804533174501700 34 260} {7967804533174501700 36 261} {2152345308547743534 36 262} {495065213962100909 36 263} {5568470602645385542 36 264} {4421233475639069592 36 265} {4104112416269260631 36 266} {8994118729524043782 36 267} {8493383374943121265 36 268} {7156388533013755582 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273}]
------------------------------------------------------
term 36 Server2 start snapshot! index=269
term 36 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 73430 term 36 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 36 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273}]
------------------------------------------------------
term 36 Server1 start snapshot! index=269
term 36 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9223133520430615999 (index 274) to leader 2
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 60148 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 48477 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 275->274
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 60942 term 38 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 36 rf.commitIndex 269 rf.lastApplied 269
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 58554 term 38 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 38 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 64900 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 36451 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 79075 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25481 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 23286 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74823 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 57381 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 49273 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 36006 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89934 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 12020 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7329 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 71235 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 88514 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 92528 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 89917 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 8066 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 71823 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 30663 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 56442 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 56813 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71516 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 40219 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 3358 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 39010 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 55407 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 86999 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 42329 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 35436 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 15173 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 69255 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 5093 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 97122 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
flag 42394 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 13221 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274}]
------------------------------------------------------
client write log 9223133520430615999 (index 275) to leader 2
flag 5293 term 38 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
flag 86903 term 38 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 38 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 36 leaderCommit: 273 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
flag 23065 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 64554 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
flag 49570 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 6354 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:275 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
flag 1603 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 40942 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 33713 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 98142 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
flag 8934 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 50738 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 6652 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 26606 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 41204 term 38 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 86965 term 38 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 38 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get vote from server 1
term 39 server 0 become leader
------------------------------------------------------
flag 12687 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 53777 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275}]
------------------------------------------------------
client write log 345916204763023033 (index 276) to leader 0
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 63576 term 39 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
flag 42428 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275} {345916204763023033 39 276}]
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 9215 term 39 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 39 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
flag 20655 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 276 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275} {345916204763023033 39 276}]
------------------------------------------------------
client write log 2557785264323299327 (index 277) to leader 0
client write log 1769014135163451801 (index 278) to leader 0
client write log 1987112893763395618 (index 279) to leader 0
client write log 8721739956419601507 (index 280) to leader 0
client write log 4152221433121868927 (index 281) to leader 0
client write log 6499955121965584855 (index 282) to leader 0
client write log 4934424034288584899 (index 283) to leader 0
client write log 3177238517832760976 (index 284) to leader 0
client write log 6942292884002652562 (index 285) to leader 0
client write log 2766066162140181397 (index 286) to leader 0
client write log 1840153343955859165 (index 287) to leader 0
client write log 1711605944215618338 (index 288) to leader 0
client write log 713387288317043131 (index 289) to leader 0
client write log 8569147508011563820 (index 290) to leader 0
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 88117 term 38 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 38 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 275 
------------------------------------------------------
flag 31933 term 39 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 39 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 39 leaderCommit: 276 
------------------------------------------------------
flag 99468 term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 38 leaderCommit: 276 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 36 269} {8791485018970530085 36 270} {7389760553643199779 36 271} {3898904655048245837 36 272} {205438987913535202 36 273} {9223133520430615999 36 274} {9223133520430615999 38 275} {345916204763023033 39 276} {2557785264323299327 39 277} {1769014135163451801 39 278} {1987112893763395618 39 279} {8721739956419601507 39 280} {4152221433121868927 39 281} {6499955121965584855 39 282} {4934424034288584899 39 283} {3177238517832760976 39 284} {6942292884002652562 39 285} {2766066162140181397 39 286} {1840153343955859165 39 287} {1711605944215618338 39 288} {713387288317043131 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 Server0 start snapshot! index=279
term 39 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=290
-------------------------------------------------------------
term 39 Server0 start snapshot! index=289
term 39 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 89711 term 38 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 38 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 275 
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 43423 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 Server1 start snapshot! index=279
term 39 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=290
-------------------------------------------------------------
term 39 Server1 start snapshot! index=289
term 39 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 2
client write log 393657574162606293 (index 276) to leader 2
term 38 leader 2 nextIndex[0]: 0  matchIndex[0]: 275
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 36
------------------------------------------------------
flag 24365 term 38 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 38 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 36 leaderCommit: 275 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26892 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 276  matchIndex[2]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 39 rf.commitIndex 289 rf.lastApplied 289
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 85150 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 48216 term 39 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 39 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 50789 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 24713 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44231 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 4763 term 39 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 39 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 44425 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 59649 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 60151 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 3856 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 87837 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 53643 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 45795 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 96863 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 90485 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 31443 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 77425 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 13233 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 24683 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 95383 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 291->290
------------------------------------------------------
flag 47078 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 290
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 290 args.LastIncludedIndex 289
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
flag 37136 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 22371 term 39 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 39 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 60732 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 42055 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15184 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 15189 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38632 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 95217 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 38189 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 68099 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11971 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 67802 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
flag 45401 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 72336 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 39 289} {8569147508011563820 39 290}]
------------------------------------------------------
client write log 393657574162606293 (index 291) to leader 0
flag 62321 term 39 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
flag 58048 term 39 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 39 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 39 leaderCommit: 290 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
flag 70647 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 134 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
flag 31187 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 25752 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
flag 66489 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 78104 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15746 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 85582 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
flag 96802 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 36730 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6313209144285340202 (index 292) to leader 0
flag 89563 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
flag 49561 term 39 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 291 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291} {6313209144285340202 39 292}]
------------------------------------------------------
flag 8112 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
flag 2876 term 39 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 39 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291} {6313209144285340202 39 292}]
------------------------------------------------------
client write log 3366851466941823215 (index 293) to leader 0
client write log 8476029640174949326 (index 294) to leader 0
client write log 4184273202030055869 (index 295) to leader 0
client write log 3571179022238305639 (index 296) to leader 0
client write log 8929043117565785127 (index 297) to leader 0
client write log 3226361221842960551 (index 298) to leader 0
client write log 8543432037540842667 (index 299) to leader 0
client write log 1137565907977032830 (index 300) to leader 0
client write log 737522531713975580 (index 301) to leader 0
flag 67737 term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
flag 54056 term 39 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 39 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 39 leaderCommit: 292 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 39 289} {8569147508011563820 39 290} {393657574162606293 39 291} {6313209144285340202 39 292} {3366851466941823215 39 293} {8476029640174949326 39 294} {4184273202030055869 39 295} {3571179022238305639 39 296} {8929043117565785127 39 297} {3226361221842960551 39 298} {8543432037540842667 39 299} {1137565907977032830 39 300} {737522531713975580 39 301}]
------------------------------------------------------
term 39 Server0 start snapshot! index=299
term 39 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 39
------------------------------------------------------
flag 76949 term 39 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 39 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 39 leaderCommit: 301 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301}]
------------------------------------------------------
term 39 Server2 start snapshot! index=299
term 39 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6549470339225341380 (index 302) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 39
------------------------------------------------------
flag 27660 term 39 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 39 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 39 leaderCommit: 301 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 40 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get outdate rpc reply from server 1
flag 39699 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 59589 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 303->302
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 39
------------------------------------------------------
flag 38095 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 39 rf.commitIndex 299 rf.lastApplied 299
flag 35586 term 41 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 41 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 44736 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
flag 30288 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 29347 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7619 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 9844 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
flag 23877 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 81046 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
flag 9589 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 69859 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9850 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 35284 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7597201272573106615 (index 303) to leader 0
flag 63551 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
flag 80572 term 41 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 302 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302} {7597201272573106615 41 303}]
------------------------------------------------------
flag 92765 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 303 
------------------------------------------------------
flag 12557 term 41 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 41 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 41 leaderCommit: 303 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302} {7597201272573106615 41 303}]
------------------------------------------------------
client write log 527914227698355437 (index 304) to leader 0
client write log 2995946886560158676 (index 305) to leader 0
client write log 2635196631740079506 (index 306) to leader 0
client write log 609340627557005524 (index 307) to leader 0
client write log 3278346484087570587 (index 308) to leader 0
client write log 754500238321932137 (index 309) to leader 0
client write log 6950054458933715903 (index 310) to leader 0
client write log 7826751406522847898 (index 311) to leader 0
flag 90622 term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 39 leaderCommit: 303 
------------------------------------------------------
flag 18375 term 41 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 41 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 41 leaderCommit: 303 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 39 299} {1137565907977032830 39 300} {737522531713975580 39 301} {6549470339225341380 39 302} {7597201272573106615 41 303} {527914227698355437 41 304} {2995946886560158676 41 305} {2635196631740079506 41 306} {609340627557005524 41 307} {3278346484087570587 41 308} {754500238321932137 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311}]
------------------------------------------------------
term 41 Server0 start snapshot! index=309
term 41 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=311
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 41
------------------------------------------------------
flag 76163 term 41 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 41 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311}]
------------------------------------------------------
term 41 Server2 start snapshot! index=309
term 41 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1797927750343965474 (index 312) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 41
------------------------------------------------------
flag 11127 term 41 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 41 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 42 server 2 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 1, 日志不够新
term 42 server 0 not vote for server 1, 日志不够新
term 44 server 1 vote for server 2
term 43 server 0 not vote for server 2, 日志不够新
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 not vote for server 0, 任期不够新
term 44 server 0 get outdate rpc reply from server 2
flag 661 term 44 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 67529 term 44 leader 2 nextIndex[1]: 312  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 2
term 45 server 1 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28930 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 79019 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 313->312
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 313->312
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 303  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 41
------------------------------------------------------
flag 90758 term 45 leader 0 nextIndex[2]: 312  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 41 rf.commitIndex 309 rf.lastApplied 309
flag 27728 term 45 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 45 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 89714 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
term 45 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12502 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 30174 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
flag 61743 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 6060 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12458 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 2545 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63885 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 64609 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52792 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 19209 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
flag 63026 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 16775 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
flag 90479 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 76133 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 90627 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 65176 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
flag 53047 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 65060 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 2327 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 76025 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38199 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 55246 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80190 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 66554 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
flag 35394 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 43144 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=311
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312}]
------------------------------------------------------
client write log 1797927750343965474 (index 313) to leader 0
flag 53319 term 45 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
flag 83719 term 45 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 45 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 41 leaderCommit: 311 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
flag 10452 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 7215 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30573 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 52598 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60532 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 13538 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
flag 8762 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 73090 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
flag 88179 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 23270 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
flag 54045 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 46572 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 81337 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 63032 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19314 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 2394 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 5082 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 41198 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
flag 77442 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 6186 term 46 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313}]
------------------------------------------------------
flag 5022 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 3003 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
client write log 9011747431214866737 (index 314) to leader 2
flag 99488 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 59290 term 46 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314}]
------------------------------------------------------
flag 73089 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 76180 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 76303 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 98443 term 46 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 46 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 46 leaderCommit: 314 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314}]
------------------------------------------------------
client write log 3523859886292483765 (index 315) to leader 2
flag 46813 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 2344 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 16445 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 314 
------------------------------------------------------
flag 25984 term 46 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 46 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 46 leaderCommit: 314 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315}]
------------------------------------------------------
flag 644 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 99273 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 24749 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 315 
------------------------------------------------------
flag 80894 term 46 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 46 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315}]
------------------------------------------------------
!!!!!!connect server 0
client write log 693209456674152887 (index 316) to leader 2
flag 61560 term 45 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
flag 33177 term 45 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 45 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 313 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82401 term 46 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 45 leaderCommit: 315 
------------------------------------------------------
flag 99076 term 46 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 46 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
flag 32411 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 89481 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
flag 91027 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 69978 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33249 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 58367 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
flag 79262 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 77434 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
flag 16099 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 79476 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8162475613707445520 (index 317) to leader 2
flag 51033 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 18432 term 46 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316} {8162475613707445520 46 317}]
------------------------------------------------------
flag 70582 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 35254 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=318
update matchIndex[1]=317
update leader CommitIndex=317
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316} {8162475613707445520 46 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1657201966883714096 (index 318) to leader 2
client write log 1805437684411232862 (index 319) to leader 2
client write log 1522533964318431791 (index 320) to leader 2
client write log 8325117294747119852 (index 321) to leader 2
client write log 357410909063027813 (index 322) to leader 2
client write log 1863502004557995208 (index 323) to leader 2
client write log 836341119392896124 (index 324) to leader 2
client write log 6247861056534074752 (index 325) to leader 2
client write log 2220972153927395562 (index 326) to leader 2
client write log 1053164426199816610 (index 327) to leader 2
client write log 6251053177717281316 (index 328) to leader 2
flag 80812 term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
flag 55049 term 46 leader 2 nextIndex[1]: 318  matchIndex[1]: 317
term 46 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 46 leaderCommit: 317 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 41 309} {6950054458933715903 41 310} {7826751406522847898 41 311} {1797927750343965474 41 312} {1797927750343965474 45 313} {9011747431214866737 46 314} {3523859886292483765 46 315} {693209456674152887 46 316} {8162475613707445520 46 317} {1657201966883714096 46 318} {1805437684411232862 46 319} {1522533964318431791 46 320} {8325117294747119852 46 321} {357410909063027813 46 322} {1863502004557995208 46 323} {836341119392896124 46 324} {6247861056534074752 46 325} {2220972153927395562 46 326} {1053164426199816610 46 327} {6251053177717281316 46 328}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=328
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 74430 term 46 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 46 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {1522533964318431791 46 320} {8325117294747119852 46 321} {357410909063027813 46 322} {1863502004557995208 46 323} {836341119392896124 46 324} {6247861056534074752 46 325} {2220972153927395562 46 326} {1053164426199816610 46 327} {6251053177717281316 46 328}]
------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=328
-------------------------------------------------------------
!!!!!!connect server 0
client write log 158397114053288054 (index 329) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 22607 term 46 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 46 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 319} {1522533964318431791 46 320} {8325117294747119852 46 321} {357410909063027813 46 322} {1863502004557995208 46 323} {836341119392896124 46 324} {6247861056534074752 46 325} {2220972153927395562 46 326} {1053164426199816610 46 327} {6251053177717281316 46 328} {158397114053288054 46 329}]
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 Server2 start snapshot! index=329
term 47 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 24513 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 92814 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 330->329
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 46
------------------------------------------------------
flag 20830 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 46 rf.commitIndex 329 rf.lastApplied 329
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39109 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 25067 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5728 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 25850 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 15810 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 52914 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
flag 50241 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 29552 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
[{snapshot 46 329}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 329}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5541020752778715849 (index 330) to leader 2
flag 35761 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
flag 28760 term 48 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 329 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 46 329} {5541020752778715849 48 330}]
------------------------------------------------------
flag 89375 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 330 
------------------------------------------------------
flag 22114 term 48 leader 2 nextIndex[1]: 331  matchIndex[1]: 330
term 48 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 330 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 46 329} {5541020752778715849 48 330}]
------------------------------------------------------
client write log 4502074508000097147 (index 331) to leader 2
client write log 4527334620978012793 (index 332) to leader 2
client write log 129045954459930079 (index 333) to leader 2
client write log 4040579195791281806 (index 334) to leader 2
client write log 7234502370616591224 (index 335) to leader 2
client write log 821535497746464918 (index 336) to leader 2
client write log 8545476019051698819 (index 337) to leader 2
client write log 3584638542679135436 (index 338) to leader 2
client write log 6467588495627613592 (index 339) to leader 2
flag 87144 term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 46 leaderCommit: 330 
------------------------------------------------------
flag 90469 term 48 leader 2 nextIndex[1]: 331  matchIndex[1]: 330
term 48 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 48 leaderCommit: 330 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 46 329} {5541020752778715849 48 330} {4502074508000097147 48 331} {4527334620978012793 48 332} {129045954459930079 48 333} {4040579195791281806 48 334} {7234502370616591224 48 335} {821535497746464918 48 336} {8545476019051698819 48 337} {3584638542679135436 48 338} {6467588495627613592 48 339}]
------------------------------------------------------
term 48 Server2 start snapshot! index=339
term 48 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 55116 term 48 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 48 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=339
leader log:
[{snapshot 48 339}]
------------------------------------------------------
term 48 Server1 start snapshot! index=339
term 48 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6759064958856110832 (index 340) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get outdate rpc reply from server 0
flag 97192 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 9544 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 341->340
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 341->340
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 330  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 19920 term 50 leader 2 nextIndex[1]: 340  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 48 rf.commitIndex 339 rf.lastApplied 339
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
flag 17745 term 50 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 584 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94308 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 30815 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70787 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 43415 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 50543 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 69320 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28264 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 56194 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 32315 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 66815 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42511 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 25813 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 75715 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 73941 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 98097 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 29900 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 26801 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 56571 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 16963 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 19960 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73809 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 60418 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 53930 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 26748 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 4284 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 7928 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 87885 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 73182 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 57179 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 40631 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
flag 47497 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 99999 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77652 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 88683 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 48 339} {6759064958856110832 48 340}]
------------------------------------------------------
client write log 6759064958856110832 (index 341) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90205 term 50 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
flag 78305 term 50 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 50 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 48 leaderCommit: 339 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
flag 22007 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 83188 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23765 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 71100 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58237 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 27961 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93138 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 95146 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
flag 99204 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 61203 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7662 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 76073 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 39922 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 75226 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 23533 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 70532 term 50 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
flag 97813 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98945 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 0
term 51 server 1 become leader
------------------------------------------------------
flag 62043 term 51 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 63684 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
client write log 835643625167667463 (index 342) to leader 1
term 51 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342}]
------------------------------------------------------
flag 28593 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 83795 term 51 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 88618 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342}]
------------------------------------------------------
flag 72307 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 19646 term 51 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 51 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 42522 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342}]
------------------------------------------------------
client write log 41001447891126815 (index 343) to leader 1
flag 10080 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 82040 term 51 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 51 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 77920 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89042 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 32062 term 51 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 51 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 81713 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 343 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4321941098738037060 (index 344) to leader 1
flag 1867 term 50 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 50 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 341
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79369 term 51 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 51 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 59800 term 51 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
flag 31674 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 41244 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45718 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 31100 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
flag 37767 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 19724 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
flag 67158 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 27321 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29020 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 74499 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52707 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 13713 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344}]
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 5765422364704347288 (index 345) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90347 term 51 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 31422 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344} {5765422364704347288 51 345}]
------------------------------------------------------
flag 97386 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 89282 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344} {5765422364704347288 51 345}]
------------------------------------------------------
client write log 6272021231853691418 (index 346) to leader 1
client write log 818649492858131161 (index 347) to leader 1
client write log 7933432483254771451 (index 348) to leader 1
client write log 5943378803627954040 (index 349) to leader 1
client write log 2315683495908271472 (index 350) to leader 1
client write log 9102064324411762839 (index 351) to leader 1
client write log 3094783101428942094 (index 352) to leader 1
client write log 287198934802667942 (index 353) to leader 1
client write log 5080425204019711334 (index 354) to leader 1
client write log 7650628239770502250 (index 355) to leader 1
client write log 1086640785622655257 (index 356) to leader 1
client write log 9176536119840078542 (index 357) to leader 1
client write log 6489699211826851493 (index 358) to leader 1
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72090 term 51 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 51 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 38651 term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 48 339} {6759064958856110832 48 340} {6759064958856110832 50 341} {835643625167667463 51 342} {41001447891126815 51 343} {4321941098738037060 51 344} {5765422364704347288 51 345} {6272021231853691418 51 346} {818649492858131161 51 347} {7933432483254771451 51 348} {5943378803627954040 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358}]
------------------------------------------------------
term 51 Server1 start snapshot! index=349
term 51 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=358
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58294 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358}]
------------------------------------------------------
term 51 Server0 start snapshot! index=349
term 51 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=358
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3643614368742587675 (index 359) to leader 1
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 73176 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 97767 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 360->359
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 360->359
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93003 term 53 leader 1 nextIndex[0]: 359  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 345  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 51 rf.commitIndex 349 rf.lastApplied 349
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79630 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 69958 term 53 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 74944 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 71624 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 23842 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 79398 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63247 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 98315 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 94968 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 85250 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 17800 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 71526 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90702 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 87802 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 18188 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 20198 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 49947 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 33516 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 28245 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 56891 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 84519 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 14122 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
flag 91923 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 91967 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 18661 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 88932 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 168 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 86703 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42255 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 36874 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
flag 9865 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 14626 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57969 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 37957 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=358
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3643614368742587675 (index 360) to leader 1
flag 47978 term 53 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
flag 82340 term 53 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
term 53 server 0 AppendEntries true commitIndex:358 
------------------------------------------------------
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 349} {2315683495908271472 51 350} {9102064324411762839 51 351} {3094783101428942094 51 352} {287198934802667942 51 353} {5080425204019711334 51 354} {7650628239770502250 51 355} {1086640785622655257 51 356} {9176536119840078542 51 357} {6489699211826851493 51 358} {3643614368742587675 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
term 53 Server1 start snapshot! index=359
term 53 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=360
-------------------------------------------------------------
flag 45128 term 53 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 56355 term 53 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
term 53 Server2 start snapshot! index=359
term 53 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=360
-------------------------------------------------------------
term 53 Server0 start snapshot! index=359
term 53 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=360
-------------------------------------------------------------
flag 26511 term 53 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 44442 term 53 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
flag 64993 term 53 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 30225 term 53 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
flag 76571 term 53 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 21543 term 53 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46833 term 53 leader 1 nextIndex[0]: 361  matchIndex[0]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 89696 term 53 leader 1 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 1 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=361
update matchIndex[0]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 51 359} {3643614368742587675 53 360}]
------------------------------------------------------
  ... Passed --  77.8  3 1786  833597  360
--- PASS: TestSnapshotInstall2D (77.83s)
PASS
