=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
client write log 8792243478101856889 (index 1) to leader 2
flag 69703 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 14465 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
flag 95818 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 26644 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
flag 82090 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 72884 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
flag 65138 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21544 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
flag 41715 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 12283 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
flag 38509 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27868 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8792243478101856889 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3950206089872595490 (index 2) to leader 2
flag 39381 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95590 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8792243478101856889 1 1} {3950206089872595490 1 2}]
------------------------------------------------------
flag 3284 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 91015 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8792243478101856889 1 1} {3950206089872595490 1 2}]
------------------------------------------------------
client write log 2714149828911698571 (index 3) to leader 2
client write log 8096810052727966304 (index 4) to leader 2
client write log 8196234862407622484 (index 5) to leader 2
client write log 846155288557848660 (index 6) to leader 2
client write log 3306974144189791662 (index 7) to leader 2
client write log 790597028495253916 (index 8) to leader 2
client write log 3415492797148636397 (index 9) to leader 2
client write log 8775754715530539423 (index 10) to leader 2
client write log 6093852554813502161 (index 11) to leader 2
client write log 7039612384187512505 (index 12) to leader 2
flag 45970 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 4310 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {8792243478101856889 1 1} {3950206089872595490 1 2} {2714149828911698571 1 3} {8096810052727966304 1 4} {8196234862407622484 1 5} {846155288557848660 1 6} {3306974144189791662 1 7} {790597028495253916 1 8} {3415492797148636397 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 17666 term 1 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 1 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6886437556121963907 (index 13) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 96190 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 56187 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 13609 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 85114 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 75926 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 93040 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 59431 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 9449 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 92798 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 35194 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 39141 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 47135 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 64528 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 80003 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 19266 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 96220 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 91770 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 93664 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 4593 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 60409 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 76652 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 44223 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 25977 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 78448 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 62016 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 97000 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 22171 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 28275 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 93482 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 89272 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 17371 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 39515 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 26402 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
flag 6674 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 66416 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98798 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 45568 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13}]
------------------------------------------------------
client write log 6886437556121963907 (index 14) to leader 2
flag 48132 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 58179 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
flag 28003 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 98660 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
flag 4896 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 24062 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
flag 80701 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 22316 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
flag 87144 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 8436 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
flag 98152 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 58884 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 77500 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 42505 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 98777 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 89073 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 92650 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 11031 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 71862 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 89972 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
client write log 1964378865089192116 (index 15) to leader 1
flag 5320 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 19169 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15}]
------------------------------------------------------
flag 39792 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 9294 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 7381 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 70317 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15}]
------------------------------------------------------
flag 18652 term 3 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 42268 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
client write log 626319118567914869 (index 16) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
flag 82734 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 62267 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 11697 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 31682 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 17798 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 14
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 72923 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
!!!!!!connect server 2
client write log 4270738535907765064 (index 17) to leader 1
flag 57051 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 97767 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82598 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 91129 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
flag 81377 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 83550 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
flag 40879 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 61239 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
flag 85827 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 73490 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
flag 42167 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 22891 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
flag 25957 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 48120 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9042469028726449092 (index 18) to leader 1
flag 23725 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 37163 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17} {9042469028726449092 4 18}]
------------------------------------------------------
flag 30454 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 71698 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17} {9042469028726449092 4 18}]
------------------------------------------------------
client write log 8631505214983596826 (index 19) to leader 1
client write log 7484621778482874130 (index 20) to leader 1
client write log 1776873089080362988 (index 21) to leader 1
client write log 7616184407351845187 (index 22) to leader 1
client write log 1101243356700152539 (index 23) to leader 1
client write log 2332778467631008675 (index 24) to leader 1
client write log 9197616494221039536 (index 25) to leader 1
client write log 7746868002922017434 (index 26) to leader 1
client write log 8087370609351321005 (index 27) to leader 1
client write log 5191266603532367145 (index 28) to leader 1
flag 97953 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 62471 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {8775754715530539423 1 10} {6093852554813502161 1 11} {7039612384187512505 1 12} {6886437556121963907 1 13} {6886437556121963907 3 14} {1964378865089192116 4 15} {626319118567914869 4 16} {4270738535907765064 4 17} {9042469028726449092 4 18} {8631505214983596826 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
flag 56633 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2305227734295637485 (index 29) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 0
term 6 server 2 vote for server 1
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 2
flag 71983 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 42001 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91572 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 26235 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 97983 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 400 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 17553 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 95709 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 62523 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 71148 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 88638 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22718 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 34920 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79239 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 78169 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41553 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 5395 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 23444 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 17638 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 79398 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 30575 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 69063 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 61982 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 66315 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 66724 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 76467 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 91313 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20277 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 61136 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 86411 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 93165 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 95466 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 41354 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 39465 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 7070 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35612 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 65823 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
flag 17612 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 51336 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29}]
------------------------------------------------------
client write log 2305227734295637485 (index 30) to leader 1
flag 63488 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 81352 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {7484621778482874130 4 20} {1776873089080362988 4 21} {7616184407351845187 4 22} {1101243356700152539 4 23} {2332778467631008675 4 24} {9197616494221039536 4 25} {7746868002922017434 4 26} {8087370609351321005 4 27} {5191266603532367145 4 28} {2305227734295637485 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 38197 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 18797 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85713 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 93433 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11194 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 77446 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17125 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 98896 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
flag 16565 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 16287 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
flag 1916 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 93117 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {2305227734295637485 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4356286727874072182 (index 31) to leader 1
flag 36886 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 53689 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31}]
------------------------------------------------------
flag 40237 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 28568 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31}]
------------------------------------------------------
client write log 2345628727741447932 (index 32) to leader 1
client write log 135076523749256602 (index 33) to leader 1
client write log 7097922796790913809 (index 34) to leader 1
client write log 673736468754517670 (index 35) to leader 1
client write log 1182895934248142622 (index 36) to leader 1
client write log 4034849568994747500 (index 37) to leader 1
flag 49981 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 67837 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53350 term 6 leader 1 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 62314 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37}]
------------------------------------------------------
!!!!!!connect server 2
client write log 627496888244078672 (index 38) to leader 1
term 6 server 0 not vote for server 2, 日志不够新
term 6 server 1 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 63571 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 46783 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 39->38
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
flag 34486 term 8 leader 1 nextIndex[0]: 38  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 84495 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61260 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 77103 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 54758 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 3981 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 56292 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 28830 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6762 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 10456 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97227 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 7695 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 16232 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 68471 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25850 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 55506 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 76257 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 5846 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 90260 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 44328 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 62528 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 81925 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 4459 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 61603 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 75632 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 62318 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 26108 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 49181 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 42804 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 84718 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43181 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 90254 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 29415 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 32922 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
flag 64423 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 50522 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 627496888244078672 (index 39) to leader 1
flag 60535 term 8 leader 1 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
flag 15750 term 8 leader 1 nextIndex[2]: 39  matchIndex[2]: 38
term 8 leader 1 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38} {627496888244078672 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {2305227734295637485 6 30} {4356286727874072182 6 31} {2345628727741447932 6 32} {135076523749256602 6 33} {7097922796790913809 6 34} {673736468754517670 6 35} {1182895934248142622 6 36} {4034849568994747500 6 37} {627496888244078672 6 38} {627496888244078672 8 39}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 1659 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 48765 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73611 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 1900 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 43129 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 25648 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 31918 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 79505 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
flag 66221 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 38452 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 55159 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 18019 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 68980 term 8 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 90143 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 37812 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 11399 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 91140 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 8 39}]
------------------------------------------------------
client write log 2523443925952194426 (index 40) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 40799 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 21582 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 7655 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {2523443925952194426 9 40}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 98380 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 65772 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 86919 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 8 39} {2523443925952194426 9 40}]
------------------------------------------------------
client write log 223974376958368294 (index 41) to leader 2
client write log 1253046792948649553 (index 42) to leader 2
client write log 755261866445722333 (index 43) to leader 2
client write log 2070362310976227513 (index 44) to leader 2
client write log 4207651814425692036 (index 45) to leader 2
client write log 6719988473719211305 (index 46) to leader 2
client write log 2327181559586647392 (index 47) to leader 2
client write log 4808518120989115598 (index 48) to leader 2
client write log 8831384079533867850 (index 49) to leader 2
client write log 6328390019064551445 (index 50) to leader 2
client write log 9016027051328560031 (index 51) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 90735 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 22992 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 9 leaderCommit: 40 
------------------------------------------------------
flag 12948 term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 39} {2523443925952194426 9 40} {223974376958368294 9 41} {1253046792948649553 9 42} {755261866445722333 9 43} {2070362310976227513 9 44} {4207651814425692036 9 45} {6719988473719211305 9 46} {2327181559586647392 9 47} {4808518120989115598 9 48} {8831384079533867850 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=51
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 43485 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
flag 21973 term 9 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=51
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7685189645499577111 (index 40) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 39
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 72831 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 39 
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67444 term 9 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 0 vote for server 2
term 11 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44487 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 64249 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 52->51
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 71986 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 71089 term 11 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 95775 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 50970 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 56035 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 60098 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19185 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 71178 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8488 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 92984 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55521 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 88397 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46655 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 78414 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84703 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 40402 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77362 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 24204 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 47895 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 7064 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61832 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 63601 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19222 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 76942 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41482 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 9812 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 31606 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 39317 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 51690 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 92465 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 19570 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 52738 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
flag 5270 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 33046 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51}]
------------------------------------------------------
client write log 7685189645499577111 (index 52) to leader 2
flag 78780 term 11 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 98758 term 11 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 24661 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 44322 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 75669 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 22949 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 82574 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 17079 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 23326 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 25926 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 75782 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 76987 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
flag 88544 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 17807 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2202234342435988525 (index 53) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89944 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
flag 56770 term 11 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 52 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52} {2202234342435988525 11 53}]
------------------------------------------------------
flag 82838 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 2047 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52} {2202234342435988525 11 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5504210779509046188 (index 54) to leader 2
client write log 4412801048854415290 (index 55) to leader 2
client write log 1815134787411601749 (index 56) to leader 2
client write log 8152989758303451839 (index 57) to leader 2
client write log 4735375593154270788 (index 58) to leader 2
client write log 7221953546814348384 (index 59) to leader 2
client write log 4139596874196287201 (index 60) to leader 2
client write log 5607644210682447122 (index 61) to leader 2
flag 45068 term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
flag 5927 term 11 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 11 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 11 leaderCommit: 53 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 49} {6328390019064551445 9 50} {9016027051328560031 9 51} {7685189645499577111 11 52} {2202234342435988525 11 53} {5504210779509046188 11 54} {4412801048854415290 11 55} {1815134787411601749 11 56} {8152989758303451839 11 57} {4735375593154270788 11 58} {7221953546814348384 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 98563 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7690602427156413547 (index 62) to leader 2
term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 35750 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 74918 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 49340 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 50424 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
Server0 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
flag 53053 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 19011 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 19618 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 73029 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 24448 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 77645 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 62639 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 10500 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 90645 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 73086 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 31005 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 73244 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
flag 23506 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 23387 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2295001508688974256 (index 63) to leader 2
flag 15042 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 94243 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62} {2295001508688974256 13 63}]
------------------------------------------------------
flag 8158 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 14461 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62} {2295001508688974256 13 63}]
------------------------------------------------------
client write log 2582429879306596831 (index 64) to leader 2
client write log 5631309078688358635 (index 65) to leader 2
client write log 342992784012331866 (index 66) to leader 2
client write log 2619203682783498885 (index 67) to leader 2
client write log 4673773206553155105 (index 68) to leader 2
client write log 3833240909394705007 (index 69) to leader 2
flag 29875 term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 57768 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {4139596874196287201 11 60} {5607644210682447122 11 61} {7690602427156413547 11 62} {2295001508688974256 13 63} {2582429879306596831 13 64} {5631309078688358635 13 65} {342992784012331866 13 66} {2619203682783498885 13 67} {4673773206553155105 13 68} {3833240909394705007 13 69}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 65902 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 13 69}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3755821331731230996 (index 70) to leader 2
term 13 server 2 not vote for server 0, 日志不够新
term 13 server 1 not vote for server 0, 日志不够新
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get outdate rpc reply from server 1
flag 74795 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 51088 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 71->70
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 34132 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 26338 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 61268 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 34190 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 39691 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 77505 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 75289 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76008 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 49067 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 87913 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 22880 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13143 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 17897 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 49368 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 83850 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 65979 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 95450 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 2 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 2
flag 99922 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 12806 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 75627 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 4904 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57908 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 516 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77850 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 60602 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 88464 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 56482 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 70179 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 59037 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 45545 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 61190 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 61164 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 86894 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 75057 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 61640 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
flag 9064 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 84565 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=69
leader log:
[{snapshot 13 69} {3755821331731230996 13 70}]
------------------------------------------------------
client write log 3755821331731230996 (index 71) to leader 2
flag 16010 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
flag 2441 term 15 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
flag 18762 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 14363 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
flag 53505 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 63298 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
flag 43800 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 75234 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
flag 70960 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 92334 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
flag 84405 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 94915 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12091 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 12564 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 29089 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 34030 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 66791 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 96256 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7465 term 15 leader 2 nextIndex[0]: 72  matchIndex[0]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 74540 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 72->71
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
flag 53307 term 16 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 64443 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71}]
------------------------------------------------------
client write log 1992190758115554306 (index 72) to leader 0
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 41388 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 69684 term 16 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 34388 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71} {1992190758115554306 16 72}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 16546 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 74409 term 16 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 16 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 16 leaderCommit: 72 
------------------------------------------------------
flag 4990 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 72 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71} {1992190758115554306 16 72}]
------------------------------------------------------
client write log 3109970113860135632 (index 73) to leader 0
client write log 2585243416404542842 (index 74) to leader 0
client write log 3579978923073428813 (index 75) to leader 0
client write log 7289327924095315084 (index 76) to leader 0
client write log 6017043744352116932 (index 77) to leader 0
client write log 1158786405604566166 (index 78) to leader 0
client write log 7427578237502867298 (index 79) to leader 0
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 45141 term 15 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 15 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
flag 10637 term 16 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 16 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 16 leaderCommit: 72 
------------------------------------------------------
flag 82840 term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 15 leaderCommit: 72 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 69} {3755821331731230996 13 70} {3755821331731230996 15 71} {1992190758115554306 16 72} {3109970113860135632 16 73} {2585243416404542842 16 74} {3579978923073428813 16 75} {7289327924095315084 16 76} {6017043744352116932 16 77} {1158786405604566166 16 78} {7427578237502867298 16 79}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 27487 term 16 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5774130702917499088 (index 72) to leader 2
flag 30544 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 71
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44520 term 16 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 16 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 16 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 0 vote for server 2
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 0
flag 87600 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 18341 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
flag 28010 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 24878 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 83251 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 55768 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 47828 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 50527 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 48622 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 23961 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 57198 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 1002 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 29517 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 33476 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 32710 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 9817 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 65261 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 85905 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 8872 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 68668 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27043 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 27983 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 26115 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 36617 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 65624 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 29403 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 53145 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 70489 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34639 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 54733 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 25054 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 28972 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22244 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 43995 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
flag 61084 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 31510 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42356 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 73719 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 16 79}]
------------------------------------------------------
client write log 5774130702917499088 (index 80) to leader 2
flag 77180 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
flag 19239 term 17 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 79 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
flag 60752 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 69256 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12966 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 82781 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
flag 6907 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 87172 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
flag 61737 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 64530 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
flag 76815 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 75405 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 16 79} {5774130702917499088 17 80}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9039669765979018174 (index 81) to leader 2
flag 15336 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
flag 78330 term 17 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 80 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {5774130702917499088 17 80} {9039669765979018174 17 81}]
------------------------------------------------------
flag 18215 term 17 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 17 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 17 leaderCommit: 81 
------------------------------------------------------
flag 1871 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 17 leaderCommit: 81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {5774130702917499088 17 80} {9039669765979018174 17 81}]
------------------------------------------------------
client write log 8541965642709357136 (index 82) to leader 2
client write log 6888074564563309713 (index 83) to leader 2
client write log 400842234979532035 (index 84) to leader 2
client write log 5487657687076188096 (index 85) to leader 2
client write log 1939491367237926838 (index 86) to leader 2
client write log 3004989761585701664 (index 87) to leader 2
client write log 2028590273641123012 (index 88) to leader 2
client write log 4313690907338762420 (index 89) to leader 2
client write log 5439073319361030263 (index 90) to leader 2
client write log 4583829389422175275 (index 91) to leader 2
client write log 4836255343966225244 (index 92) to leader 2
client write log 3684454720908454674 (index 93) to leader 2
client write log 2050182019907429188 (index 94) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 81->80
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 80
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 1982 term 17 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 17 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 17 leaderCommit: 81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 16 79} {5774130702917499088 17 80} {9039669765979018174 17 81} {8541965642709357136 17 82} {6888074564563309713 17 83} {400842234979532035 17 84} {5487657687076188096 17 85} {1939491367237926838 17 86} {3004989761585701664 17 87} {2028590273641123012 17 88} {4313690907338762420 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94}]
------------------------------------------------------
term 17 Server2 start snapshot! index=89
term 17 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78677 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 19158 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94}]
------------------------------------------------------
term 17 Server1 start snapshot! index=89
term 17 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5377874954940550351 (index 95) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31612 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 82990 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 18 server 0 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 20 server 1 vote for server 2
term 20 server 0 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
term 20 server 2 get outdate rpc reply from server 0
flag 92394 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 42295 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 96->95
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 81  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 17
------------------------------------------------------
flag 14858 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 17 rf.commitIndex 89 rf.lastApplied 89
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 65693 term 20 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 20 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 73659 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 23438 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 26616 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72049 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 78427 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12326 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 29660 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 6857 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 77463 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 16767 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 43737 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 13533 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 10131 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 81416 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 89542 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 6513 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 19714 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 92524 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 36624 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 96468 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 91553 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 7462 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 75575 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
flag 28760 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 70466 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5377874954940550351 (index 96) to leader 2
flag 21032 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 99030 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
flag 54918 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 5077 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
flag 30615 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 86845 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85958 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 81989 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
flag 94712 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 63687 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3336 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 16630 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5136597138617085801 (index 97) to leader 2
flag 13024 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 52143 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96} {5136597138617085801 20 97}]
------------------------------------------------------
flag 76737 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
flag 12887 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96} {5136597138617085801 20 97}]
------------------------------------------------------
client write log 7001363955263131590 (index 98) to leader 2
client write log 6218818613469915979 (index 99) to leader 2
client write log 7651971942442543754 (index 100) to leader 2
client write log 1064864455554364168 (index 101) to leader 2
client write log 418377961190083954 (index 102) to leader 2
client write log 7006116691562596354 (index 103) to leader 2
client write log 5502838534359287956 (index 104) to leader 2
client write log 5827709577558248383 (index 105) to leader 2
client write log 3870042654846159601 (index 106) to leader 2
client write log 7344642370064389193 (index 107) to leader 2
client write log 3435716170547190062 (index 108) to leader 2
client write log 2931392774647176209 (index 109) to leader 2
client write log 6726453822134889223 (index 110) to leader 2
client write log 4341122025419122389 (index 111) to leader 2
client write log 8184367611291602976 (index 112) to leader 2
flag 74540 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
flag 40209 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 89} {5439073319361030263 17 90} {4583829389422175275 17 91} {4836255343966225244 17 92} {3684454720908454674 17 93} {2050182019907429188 17 94} {5377874954940550351 17 95} {5377874954940550351 20 96} {5136597138617085801 20 97} {7001363955263131590 20 98} {6218818613469915979 20 99} {7651971942442543754 20 100} {1064864455554364168 20 101} {418377961190083954 20 102} {7006116691562596354 20 103} {5502838534359287956 20 104} {5827709577558248383 20 105} {3870042654846159601 20 106} {7344642370064389193 20 107} {3435716170547190062 20 108} {2931392774647176209 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112}]
------------------------------------------------------
term 20 Server2 start snapshot! index=99
term 20 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=112
-------------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 69291 term 20 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 20 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112}]
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=112
-------------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8700693757156216292 (index 113) to leader 2
term 20 server 2 not vote for server 0, 日志不够新
term 20 server 1 not vote for server 0, 日志不够新
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get outdate rpc reply from server 0
flag 24374 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 74725 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 114->113
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 114->113
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 77768 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 13858 term 22 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 22 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 64460 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 58744 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 78394 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 49082 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 6773 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62832 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 75560 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 30481 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 92128 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17256 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 51102 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 10815 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 91624 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 72793 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 33783 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 2282 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 61375 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 54995 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 6532 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 1715 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 20010 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 1 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 1
flag 43093 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 51194 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 97291 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 3427 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 5073 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 10849 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 53064 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 92917 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 78059 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 86419 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 4755 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 71677 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
flag 48892 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 69560 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=112
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113}]
------------------------------------------------------
client write log 8700693757156216292 (index 114) to leader 2
flag 95501 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 88605 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 3935 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 86149 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 8490 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 44029 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 51623 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 48464 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 30544 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 34212 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 69442 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 41369 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
flag 49662 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 67809 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 54954 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 4887 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 69601 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 30813 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 84991 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 43885 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 79848 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 25052 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 0
term 23 server 1 become leader
------------------------------------------------------
flag 42427 term 23 leader 1 nextIndex[0]: 115  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 53427 term 23 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114}]
------------------------------------------------------
client write log 7848241656468028677 (index 115) to leader 1
flag 7435 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 64465 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 96879 term 23 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 23 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 39669 term 23 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115}]
------------------------------------------------------
flag 57353 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 68274 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 39267 term 23 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 23 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 23 leaderCommit: 115 
------------------------------------------------------
flag 57474 term 23 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 115 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115}]
------------------------------------------------------
client write log 6192287022937927570 (index 116) to leader 1
flag 21 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
flag 551 term 22 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 115->114
------------------------------------------------------
flag 23042 term 23 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 23 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 23 leaderCommit: 115 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116}]
------------------------------------------------------
flag 84384 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 0  matchIndex[1]: 114
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 54304 term 23 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 23 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 23 leaderCommit: 116 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7518159216712239655 (index 117) to leader 1
flag 7079 term 22 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 22 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 22 leader 2 nextIndex[1]: 0  matchIndex[1]: 114
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28764 term 23 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 23 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 23 leaderCommit: 116 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
term 23 server 2 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 日志不够新
term 23 server 0 not vote for server 2, 日志不够新
term 25 server 2 vote for server 1
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
term 25 server 1 get outdate rpc reply from server 2
flag 26252 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 67252 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 43796 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 55422 term 25 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 22 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 63516 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 49229 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 54865 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 27347 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 52786 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 67226 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 13796 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 91791 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82393 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 32179 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
flag 97873 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 15720 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5658838617632451167 (index 118) to leader 1
flag 59982 term 25 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 66452 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117} {5658838617632451167 25 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90805 term 25 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 25 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 25 leaderCommit: 118 
------------------------------------------------------
flag 53103 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117} {5658838617632451167 25 118}]
------------------------------------------------------
client write log 5616720953047884323 (index 119) to leader 1
client write log 5141145592759343442 (index 120) to leader 1
client write log 89549423034844837 (index 121) to leader 1
client write log 7203122882686818320 (index 122) to leader 1
client write log 8887832835494608464 (index 123) to leader 1
client write log 3975681942612999466 (index 124) to leader 1
client write log 2454374688994673741 (index 125) to leader 1
client write log 355135200013370371 (index 126) to leader 1
client write log 41955404825833700 (index 127) to leader 1
client write log 9003198614451044964 (index 128) to leader 1
client write log 3341505586166952138 (index 129) to leader 1
client write log 1411182083499897756 (index 130) to leader 1
client write log 7489077823927340701 (index 131) to leader 1
flag 32498 term 25 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 25 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 25 leaderCommit: 118 
------------------------------------------------------
flag 91025 term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 109} {6726453822134889223 20 110} {4341122025419122389 20 111} {8184367611291602976 20 112} {8700693757156216292 20 113} {8700693757156216292 22 114} {7848241656468028677 23 115} {6192287022937927570 23 116} {7518159216712239655 23 117} {5658838617632451167 25 118} {5616720953047884323 25 119} {5141145592759343442 25 120} {89549423034844837 25 121} {7203122882686818320 25 122} {8887832835494608464 25 123} {3975681942612999466 25 124} {2454374688994673741 25 125} {355135200013370371 25 126} {41955404825833700 25 127} {9003198614451044964 25 128} {3341505586166952138 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131}]
------------------------------------------------------
term 25 Server1 start snapshot! index=119
term 25 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=131
-------------------------------------------------------------
term 25 Server1 start snapshot! index=129
term 25 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
flag 54253 term 25 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 25 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131}]
------------------------------------------------------
term 25 Server0 start snapshot! index=119
term 25 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=131
-------------------------------------------------------------
term 25 Server0 start snapshot! index=129
term 25 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 6605299583559158338 (index 132) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58547 term 25 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 25 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 118  matchIndex[2]: 117
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
term 26 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 1
term 27 server 0 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 1 get outdate rpc reply from server 0
flag 95774 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 56423 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 133->132
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83315 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 25 rf.commitIndex 129 rf.lastApplied 129
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 15512 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 53180 term 27 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 27 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56647 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 74953 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 88423 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 98194 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 25584 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 63791 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 93231 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 10487 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 92971 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 86392 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87765 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 9125 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 12425 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 63627 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 3029 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 48078 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50100 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 87365 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 20460 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 44254 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39366 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 33320 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 65296 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 48561 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 23587 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 80435 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 35785 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 24061 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 9605 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 10528 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
flag 98923 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 77485 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132}]
------------------------------------------------------
client write log 6605299583559158338 (index 133) to leader 1
flag 12687 term 27 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
flag 65630 term 27 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 27 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 25 leaderCommit: 131 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
flag 86267 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 31256 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
flag 24630 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 60627 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
flag 2140 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 49780 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90903 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 94207 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45186 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 53580 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 0
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24534 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 90667 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8262456399026136023 (index 134) to leader 1
flag 87959 term 27 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
flag 68115 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 133 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133} {8262456399026136023 27 134}]
------------------------------------------------------
flag 18956 term 27 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 27 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 69347 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133} {8262456399026136023 27 134}]
------------------------------------------------------
client write log 6730838479302455190 (index 135) to leader 1
client write log 9216796350031009426 (index 136) to leader 1
client write log 4580229098593317467 (index 137) to leader 1
client write log 1698801817970893576 (index 138) to leader 1
client write log 8764170632580948330 (index 139) to leader 1
client write log 8621562820746150127 (index 140) to leader 1
client write log 6034311861295932762 (index 141) to leader 1
client write log 913524249145304808 (index 142) to leader 1
client write log 6178016326406222579 (index 143) to leader 1
client write log 7038932824233219633 (index 144) to leader 1
client write log 1341463163101234681 (index 145) to leader 1
client write log 3384456692231204036 (index 146) to leader 1
flag 53661 term 27 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 27 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
flag 51919 term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 27 leaderCommit: 134 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 129} {1411182083499897756 25 130} {7489077823927340701 25 131} {6605299583559158338 25 132} {6605299583559158338 27 133} {8262456399026136023 27 134} {6730838479302455190 27 135} {9216796350031009426 27 136} {4580229098593317467 27 137} {1698801817970893576 27 138} {8764170632580948330 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146}]
------------------------------------------------------
term 27 Server1 start snapshot! index=139
term 27 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
flag 30860 term 27 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 27 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146}]
------------------------------------------------------
term 27 Server0 start snapshot! index=139
term 27 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1155148586339640060 (index 147) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 27 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80149 term 27 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 27 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 28 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:146 
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99052 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 16540 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 148->147
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 43950 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 27 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 89043 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 98602 term 29 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 29 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 97568 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 32488 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 75507 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 52857 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 91422 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 47513 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 66934 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 22860 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60785 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 39130 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53509 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 40338 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43126 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 14773 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53306 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 72813 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 8062 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 49497 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 65267 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 16426 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 15659 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 98879 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 44101 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 72875 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38195 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 21620 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 87378 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 32928 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 60229 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 94917 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
flag 62972 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 6833 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=146
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147}]
------------------------------------------------------
client write log 1155148586339640060 (index 148) to leader 1
flag 72144 term 29 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 2930 term 29 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 29 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
flag 73461 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 91231 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69248 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 58781 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10243 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 28632 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
flag 12862 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 37169 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
flag 99297 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 19739 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 96778 term 29 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 36724 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 149->148
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 41656 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 2808 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 58406 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 0
term 30 server 2 become leader
------------------------------------------------------
flag 33535 term 30 leader 2 nextIndex[0]: 149  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 5072 term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148}]
------------------------------------------------------
client write log 2091989467139613260 (index 149) to leader 2
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 70382 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 97990 term 30 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 30 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 57833 term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 139} {8621562820746150127 27 140} {6034311861295932762 27 141} {913524249145304808 27 142} {6178016326406222579 27 143} {7038932824233219633 27 144} {1341463163101234681 27 145} {3384456692231204036 27 146} {1155148586339640060 27 147} {1155148586339640060 29 148} {2091989467139613260 30 149}]
------------------------------------------------------
term 30 Server2 start snapshot! index=149
term 30 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 85030 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 43577 term 30 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 30 leaderCommit: 149 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 30 149}]
------------------------------------------------------
term 30 Server0 start snapshot! index=149
term 30 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 4088603581552115753 (index 150) to leader 2
client write log 576906230840276312 (index 151) to leader 2
client write log 4488841782404543132 (index 152) to leader 2
client write log 3782812851471854861 (index 153) to leader 2
client write log 6518935880107207275 (index 154) to leader 2
client write log 7267899872254877483 (index 155) to leader 2
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 92022 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 82858 term 30 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 30 leaderCommit: 149 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 12238 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
flag 42423 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1026592691277269401 (index 149) to leader 1
term 29 leader 1 nextIndex[0]: 0  matchIndex[0]: 148
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
flag 23001 term 29 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 29 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 29 leaderCommit: 148 
------------------------------------------------------
term 30 server 2 AppendEntries false 领导者任期过期 args.Term 29
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25870 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 30 rf.commitIndex 149 rf.lastApplied 149
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
flag 8772 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 64242 term 30 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87086 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 58762 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 19906 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 82049 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 15858 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 58759 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 67048 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 30056 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79605 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 84702 term 30 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 30 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50195 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 82307 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88938 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 28152 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 39778 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 55127 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 63863 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 74443 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 12053 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 67415 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 71436 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 61510 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 67477 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 17927 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 70455 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 40285 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 50541 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 97767 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 46993 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 3155 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 93246 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 52074 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81012 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 81468 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
flag 14980 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 59873 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155}]
------------------------------------------------------
client write log 1026592691277269401 (index 156) to leader 2
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26252 term 30 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
flag 23558 term 30 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 30 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 30 leaderCommit: 155 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
flag 10480 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 83510 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
flag 49708 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 62960 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
flag 79794 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 25665 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53166 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 22850 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
flag 97894 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 95107 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
flag 6914 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 44494 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5239421550190506123 (index 157) to leader 2
flag 46639 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
flag 39826 term 30 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 156 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156} {5239421550190506123 30 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21535 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
flag 64721 term 30 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 30 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156} {5239421550190506123 30 157}]
------------------------------------------------------
client write log 1564233644662705690 (index 158) to leader 2
client write log 6612245760279036108 (index 159) to leader 2
client write log 8332329384548959056 (index 160) to leader 2
client write log 5745356066721870553 (index 161) to leader 2
client write log 5984868602353367835 (index 162) to leader 2
client write log 8488115222133708184 (index 163) to leader 2
client write log 7490100581540902287 (index 164) to leader 2
client write log 8713981669121637708 (index 165) to leader 2
client write log 2209562443611144572 (index 166) to leader 2
client write log 8457626563956206990 (index 167) to leader 2
client write log 1937423551238942536 (index 168) to leader 2
client write log 1833523001101658142 (index 169) to leader 2
client write log 5361164696340317006 (index 170) to leader 2
client write log 3771544778448490253 (index 171) to leader 2
client write log 1905494519762365695 (index 172) to leader 2
flag 63537 term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
flag 62653 term 30 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 30 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 30 leaderCommit: 157 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 149} {4088603581552115753 30 150} {576906230840276312 30 151} {4488841782404543132 30 152} {3782812851471854861 30 153} {6518935880107207275 30 154} {7267899872254877483 30 155} {1026592691277269401 30 156} {5239421550190506123 30 157} {1564233644662705690 30 158} {6612245760279036108 30 159} {8332329384548959056 30 160} {5745356066721870553 30 161} {5984868602353367835 30 162} {8488115222133708184 30 163} {7490100581540902287 30 164} {8713981669121637708 30 165} {2209562443611144572 30 166} {8457626563956206990 30 167} {1937423551238942536 30 168} {1833523001101658142 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172}]
------------------------------------------------------
term 30 Server2 start snapshot! index=159
term 30 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=172
-------------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=172
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 172
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 55539 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4953598922627622430 (index 173) to leader 2
term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 46935 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 0 vote for server 2
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 0
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 1
flag 720 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 43595 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 174->173
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 1
term 32 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 63237 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82166 term 32 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 83850 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
flag 46990 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 93857 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
flag 14929 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 587 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
flag 43167 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 70186 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
flag 85504 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 42476 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7412 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 22964 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74514 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 29128 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1016524127966861831 (index 174) to leader 2
flag 8121 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 55229 term 32 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173} {1016524127966861831 32 174}]
------------------------------------------------------
flag 60260 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 41172 term 32 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 32 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 32 leaderCommit: 174 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173} {1016524127966861831 32 174}]
------------------------------------------------------
client write log 3216575300873640731 (index 175) to leader 2
client write log 2513169305818701088 (index 176) to leader 2
client write log 9206564510806504881 (index 177) to leader 2
client write log 5353450186410219051 (index 178) to leader 2
client write log 4699548383297483508 (index 179) to leader 2
client write log 746290731961252443 (index 180) to leader 2
client write log 4721852017740956180 (index 181) to leader 2
client write log 6808972811504592902 (index 182) to leader 2
client write log 2760892148636265012 (index 183) to leader 2
client write log 1788246784524501906 (index 184) to leader 2
client write log 8598110317409039517 (index 185) to leader 2
client write log 8260371948044631321 (index 186) to leader 2
client write log 3463241672304162405 (index 187) to leader 2
client write log 5539704353101233112 (index 188) to leader 2
client write log 1747572052772107464 (index 189) to leader 2
flag 16843 term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 98768 term 32 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 32 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 32 leaderCommit: 174 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 30 169} {5361164696340317006 30 170} {3771544778448490253 30 171} {1905494519762365695 30 172} {4953598922627622430 30 173} {1016524127966861831 32 174} {3216575300873640731 32 175} {2513169305818701088 32 176} {9206564510806504881 32 177} {5353450186410219051 32 178} {4699548383297483508 32 179} {746290731961252443 32 180} {4721852017740956180 32 181} {6808972811504592902 32 182} {2760892148636265012 32 183} {1788246784524501906 32 184} {8598110317409039517 32 185} {8260371948044631321 32 186} {3463241672304162405 32 187} {5539704353101233112 32 188} {1747572052772107464 32 189}]
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 73005 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 0
client write log 550924845227196167 (index 190) to leader 2
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 vote for server 2
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 0
flag 55656 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 64699 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 3545 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
flag 45542 term 34 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 29062 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 66649 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 2191 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 24418 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 15815 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75026 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 32086 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 44704 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 1461 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 8337 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 92806 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47530 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 7069 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 41619 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 60822 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 35749 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 99617 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 46237 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 94631 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55795 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 68570 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 25518 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 81653 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 19765 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 41851 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 69006 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 36252 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 52496 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 31899 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 92795 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 12398 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
flag 3928 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 51305 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
update nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28455 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 75727 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=189
leader log:
[{snapshot 32 189} {550924845227196167 32 190}]
------------------------------------------------------
client write log 550924845227196167 (index 191) to leader 2
flag 79881 term 34 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
flag 328 term 34 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 34 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
update nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
flag 5072 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 62884 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
flag 8826 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 72500 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
term 34 server 2 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 2
flag 47219 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 99189 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
flag 17070 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 82400 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
flag 70335 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 22064 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
flag 19169 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 92166 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 61320 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 27201 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 33065 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 95490 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 9392 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 30293 term 34 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 1
term 35 server 0 become leader
------------------------------------------------------
flag 85653 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 68710 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 192->191
------------------------------------------------------
flag 92100 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
client write log 6590996217048378713 (index 192) to leader 0
flag 30350 term 35 leader 0 nextIndex[1]: 192  matchIndex[1]: 191
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 10208 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191} {6590996217048378713 35 192}]
------------------------------------------------------
flag 23822 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 10084 term 35 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
flag 7401 term 35 leader 0 nextIndex[2]: 192  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 192 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191} {6590996217048378713 35 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 192->191
------------------------------------------------------
flag 99386 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 191
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
client write log 1126900255191302355 (index 193) to leader 0
client write log 6306115072904523883 (index 194) to leader 0
client write log 113718797888533505 (index 195) to leader 0
client write log 1452327891822215079 (index 196) to leader 0
client write log 5706898124217724017 (index 197) to leader 0
client write log 7656798283599883925 (index 198) to leader 0
client write log 7429651532581358646 (index 199) to leader 0
client write log 4373268384489056248 (index 200) to leader 0
client write log 4964760413931008137 (index 201) to leader 0
client write log 3692914247352705424 (index 202) to leader 0
client write log 6711979235716409044 (index 203) to leader 0
client write log 5188552851378457912 (index 204) to leader 0
client write log 1123542570186719703 (index 205) to leader 0
client write log 4180698975261427105 (index 206) to leader 0
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
flag 44755 term 35 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 35 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 35 leaderCommit: 192 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 32 189} {550924845227196167 32 190} {550924845227196167 34 191} {6590996217048378713 35 192} {1126900255191302355 35 193} {6306115072904523883 35 194} {113718797888533505 35 195} {1452327891822215079 35 196} {5706898124217724017 35 197} {7656798283599883925 35 198} {7429651532581358646 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 Server0 start snapshot! index=199
term 35 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
flag 79217 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 72452 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 99911 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2797023502540410314 (index 192) to leader 2
flag 59774 term 34 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 11529 term 34 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
term 35 server 0 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1791 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 35 rf.commitIndex 199 rf.lastApplied 199
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
flag 13559 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 2150 term 35 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 12073 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 22204 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 0 get outdate rpc reply from server 2
flag 49871 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 69908 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15727 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 88125 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 95822 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 16264 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 34093 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 99964 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 60779 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 10804 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53608 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 80081 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 66008 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 64223 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 78508 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 73117 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 6167 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 66848 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 74857 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 39344 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 76281 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 87594 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 15574 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 29599 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63755 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 91055 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77716 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 49841 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63396 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 18912 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
flag 40976 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 32340 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69482 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 43920 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206}]
------------------------------------------------------
client write log 2797023502540410314 (index 207) to leader 0
flag 2763 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
flag 13412 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 35 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
flag 20885 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 49249 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
flag 75383 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 86705 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
flag 20884 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 16131 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
flag 29 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 3085 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
flag 7278 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 63718 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
flag 81300 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 2 InstallSnapshot fail
rf.commitIndex 207 args.LastIncludedIndex 199
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6903081479732605804 (index 208) to leader 0
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13887 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 76533 term 35 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207} {6903081479732605804 35 208}]
------------------------------------------------------
flag 17795 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 54105 term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207} {6903081479732605804 35 208}]
------------------------------------------------------
client write log 5830617045967751975 (index 209) to leader 0
client write log 2628812855487761072 (index 210) to leader 0
client write log 4091077093298758585 (index 211) to leader 0
client write log 5406159095602937001 (index 212) to leader 0
client write log 342368253371130 (index 213) to leader 0
client write log 774472685840572159 (index 214) to leader 0
client write log 4488204335888655694 (index 215) to leader 0
client write log 1296876386501624760 (index 216) to leader 0
client write log 874646135010364011 (index 217) to leader 0
client write log 163680509551047586 (index 218) to leader 0
client write log 7641769803752799354 (index 219) to leader 0
client write log 1642228974990443270 (index 220) to leader 0
client write log 4568967901358673791 (index 221) to leader 0
client write log 8196685883437235227 (index 222) to leader 0
flag 19908 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 46374 term 35 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 199} {4373268384489056248 35 200} {4964760413931008137 35 201} {3692914247352705424 35 202} {6711979235716409044 35 203} {5188552851378457912 35 204} {1123542570186719703 35 205} {4180698975261427105 35 206} {2797023502540410314 35 207} {6903081479732605804 35 208} {5830617045967751975 35 209} {2628812855487761072 35 210} {4091077093298758585 35 211} {5406159095602937001 35 212} {342368253371130 35 213} {774472685840572159 35 214} {4488204335888655694 35 215} {1296876386501624760 35 216} {874646135010364011 35 217} {163680509551047586 35 218} {7641769803752799354 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222}]
------------------------------------------------------
term 35 Server0 start snapshot! index=209
term 35 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=222
-------------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=222
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 46844 term 35 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 35 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=223
update matchIndex[2]=222
update leader CommitIndex=222
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222}]
------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=222
-------------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=222
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8361701270368744037 (index 223) to leader 0
term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 25493 term 35 leader 0 nextIndex[2]: 223  matchIndex[2]: 222
term 35 leader 0 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 35 leaderCommit: 222 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 server 2 vote for server 0
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 0 get outdate rpc reply from server 1
flag 3161 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 779 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 224->223
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 208  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 75377 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 8053 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 52553 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 61756 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 72289 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 9686 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 14430 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 37554 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 10686 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 3906 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 99573 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 52246 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 65957 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
flag 62939 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 10540 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=224
update matchIndex[1]=223
update leader CommitIndex=223
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 702246768516608620 (index 224) to leader 0
flag 1754 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
flag 62906 term 37 leader 0 nextIndex[2]: 224  matchIndex[2]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 223 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223} {702246768516608620 37 224}]
------------------------------------------------------
flag 25769 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 53646 term 37 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223} {702246768516608620 37 224}]
------------------------------------------------------
client write log 6302484624296616356 (index 225) to leader 0
client write log 512680561709273902 (index 226) to leader 0
client write log 115868179737640799 (index 227) to leader 0
client write log 5270146674384039566 (index 228) to leader 0
client write log 4783613547477067149 (index 229) to leader 0
client write log 5796517022448240395 (index 230) to leader 0
client write log 1458707425919600155 (index 231) to leader 0
flag 18748 term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 81183 term 37 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 37 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 37 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 35 219} {1642228974990443270 35 220} {4568967901358673791 35 221} {8196685883437235227 35 222} {8361701270368744037 35 223} {702246768516608620 37 224} {6302484624296616356 37 225} {512680561709273902 37 226} {115868179737640799 37 227} {5270146674384039566 37 228} {4783613547477067149 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231}]
------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 224  matchIndex[1]: 223
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 48686 term 37 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 37 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 6046162973129832943 (index 232) to leader 0
term 37 server 0 not vote for server 1, 日志不够新
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
term 39 server 1 vote for server 0
term 39 server 0 get outdate rpc reply from server 1
flag 63681 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 21360 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 233->232
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 224  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 89986 term 39 leader 0 nextIndex[2]: 232  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 89451 term 39 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 39 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 98288 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 47634 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 21912 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 63660 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 24310 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14488 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 93608 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 70147 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 85612 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 90634 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 97955 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 99122 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 61135 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52186 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 33351 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 75350 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 30764 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 78080 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 82850 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67284 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 32544 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93271 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 39929 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 96393 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 30566 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 23184 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 78422 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 55312 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 76905 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 88318 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 21672 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 95285 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 47235 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
flag 26250 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 30707 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232}]
------------------------------------------------------
client write log 6046162973129832943 (index 233) to leader 0
flag 4191 term 39 leader 0 nextIndex[1]: 233  matchIndex[1]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
flag 22074 term 39 leader 0 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 0 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 37 leaderCommit: 231 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 2
flag 78115 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 44573 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
flag 30675 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 76864 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
flag 30448 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 76227 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
flag 10974 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 33742 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
flag 27131 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 87364 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61013 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 90115 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53588 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 76159 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16427 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 34352 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 49076 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 3701 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87399 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 91133 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233}]
------------------------------------------------------
flag 74385 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 10485 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
client write log 2298802466971701007 (index 234) to leader 1
flag 72174 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 89856 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233} {2298802466971701007 40 234}]
------------------------------------------------------
flag 71721 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 66392 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 81224 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 14129 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233} {2298802466971701007 40 234}]
------------------------------------------------------
flag 32413 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 15227 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
client write log 5448452982340285124 (index 235) to leader 1
client write log 8762801464481871855 (index 236) to leader 1
client write log 3786254962904476378 (index 237) to leader 1
client write log 4953263845005568738 (index 238) to leader 1
client write log 5721880149554152839 (index 239) to leader 1
client write log 3696865553326251704 (index 240) to leader 1
client write log 3012720541490405774 (index 241) to leader 1
client write log 7396107289361603070 (index 242) to leader 1
client write log 3374908834460651490 (index 243) to leader 1
client write log 902816251328947800 (index 244) to leader 1
client write log 5104179264814861730 (index 245) to leader 1
flag 3954 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 234 
------------------------------------------------------
flag 54268 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 37 229} {5796517022448240395 37 230} {1458707425919600155 37 231} {6046162973129832943 37 232} {6046162973129832943 39 233} {2298802466971701007 40 234} {5448452982340285124 40 235} {8762801464481871855 40 236} {3786254962904476378 40 237} {4953263845005568738 40 238} {5721880149554152839 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
flag 39619 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 33807 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 65244 term 40 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 40 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 40 leaderCommit: 245 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245}]
------------------------------------------------------
flag 79993 term 39 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 6533 term 39 leader 0 nextIndex[2]: 234  matchIndex[2]: 233
term 39 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 40 Server2 start snapshot! index=239
term 40 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=245
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2222113586226008946 (index 246) to leader 1
term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 56870 term 40 leader 1 nextIndex[2]: 246  matchIndex[2]: 245
term 40 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 40 leaderCommit: 245 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
term 40 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
flag 51077 term 40 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 24215 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
flag 20633 term 40 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 85475 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 247->246
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 246
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 16459 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
term 40 server 0 InstallSnapshot fail
rf.commitIndex 246 args.LastIncludedIndex 239
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 61402 term 40 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 96521 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
flag 16873 term 40 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 91917 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
flag 33537 term 40 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 71506 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6270726718744095964 (index 247) to leader 1
flag 84835 term 40 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
flag 41666 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246} {6270726718744095964 40 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70878 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 49567 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246} {6270726718744095964 40 247}]
------------------------------------------------------
client write log 6037340218040181551 (index 248) to leader 1
client write log 6400740511348438282 (index 249) to leader 1
client write log 8528387258019332477 (index 250) to leader 1
client write log 1413890863594386367 (index 251) to leader 1
client write log 1581901556146784863 (index 252) to leader 1
client write log 6225914149678384347 (index 253) to leader 1
client write log 3431010898725218718 (index 254) to leader 1
client write log 3577539403631901010 (index 255) to leader 1
client write log 7826987701013161196 (index 256) to leader 1
client write log 8470719006563020608 (index 257) to leader 1
client write log 3186372387862947600 (index 258) to leader 1
flag 86439 term 40 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
flag 58852 term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 40 leaderCommit: 247 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 40 239} {3696865553326251704 40 240} {3012720541490405774 40 241} {7396107289361603070 40 242} {3374908834460651490 40 243} {902816251328947800 40 244} {5104179264814861730 40 245} {2222113586226008946 40 246} {6270726718744095964 40 247} {6037340218040181551 40 248} {6400740511348438282 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258}]
------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14231 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258}]
------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4079045349660176832 (index 259) to leader 1
flag 70790 term 40 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 40 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 247  matchIndex[2]: 246
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 40534 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 56756 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 42 server 2 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 2
flag 35350 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 247  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 40 rf.commitIndex 249 rf.lastApplied 249
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 41200 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 82048 term 42 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78335 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 8884 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75433 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 74814 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 13440 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 83964 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33285 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 7502 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88374 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 31740 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 462 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 16939 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11277 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 61686 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 58630 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 31838 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 67295 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 54497 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74408 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 99012 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 17106 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 21847 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 97536 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 92768 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30419 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 69418 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 94189 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 17666 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
flag 66208 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 14702 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259}]
------------------------------------------------------
client write log 4079045349660176832 (index 260) to leader 1
flag 99549 term 42 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 10391 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 249} {8528387258019332477 40 250} {1413890863594386367 40 251} {1581901556146784863 40 252} {6225914149678384347 40 253} {3431010898725218718 40 254} {3577539403631901010 40 255} {7826987701013161196 40 256} {8470719006563020608 40 257} {3186372387862947600 40 258} {4079045349660176832 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 Server1 start snapshot! index=259
term 42 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 6754 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 68908 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54938 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 60779 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
flag 10113 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 21144 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
flag 87671 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 58965 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20879 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 29838 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 40 259} {4079045349660176832 42 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2352910410547331263 (index 261) to leader 1
flag 74691 term 42 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
flag 50802 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 260 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 40 259} {4079045349660176832 42 260} {2352910410547331263 42 261}]
------------------------------------------------------
flag 81801 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 18612 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 40 259} {4079045349660176832 42 260} {2352910410547331263 42 261}]
------------------------------------------------------
client write log 7844147617766778154 (index 262) to leader 1
client write log 7397549932308671933 (index 263) to leader 1
client write log 1893021363341506430 (index 264) to leader 1
client write log 4335051519454270756 (index 265) to leader 1
client write log 7655319697362426827 (index 266) to leader 1
client write log 4245485122891578468 (index 267) to leader 1
client write log 3709376217483855034 (index 268) to leader 1
client write log 4042005676923792620 (index 269) to leader 1
client write log 1182061058285904443 (index 270) to leader 1
client write log 26494698004115811 (index 271) to leader 1
flag 66383 term 42 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 42 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
flag 99434 term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 42 leaderCommit: 261 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 40 259} {4079045349660176832 42 260} {2352910410547331263 42 261} {7844147617766778154 42 262} {7397549932308671933 42 263} {1893021363341506430 42 264} {4335051519454270756 42 265} {7655319697362426827 42 266} {4245485122891578468 42 267} {3709376217483855034 42 268} {4042005676923792620 42 269} {1182061058285904443 42 270} {26494698004115811 42 271}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=271
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5834 term 42 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 42 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271}]
------------------------------------------------------
term 42 Server0 start snapshot! index=269
term 42 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2255521098471425978 (index 272) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 48424 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 30258 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 273->272
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
flag 10963 term 44 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66206 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 80755 term 44 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 44 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 13365 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 84614 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52478 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 26491 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 93088 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 27908 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
flag 23206 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 4559 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 78612 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 89670 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 91881 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 57709 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 63664 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 35154 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 84122 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 13932 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 56999 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 11188 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 14369 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 34000 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43559 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 15549 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 20975 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 40179 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 85111 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 5723 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 50941 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 4448 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
flag 21788 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 69069 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62366 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 63969 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=271
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2255521098471425978 (index 273) to leader 1
flag 88041 term 44 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
flag 54323 term 44 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 44 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 42 leaderCommit: 271 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9513 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 26131 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85004 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 71875 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
flag 52166 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 24524 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
flag 98404 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 55905 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
flag 70291 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 33154 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
flag 93911 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 46753 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 44252 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 77457 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 38755 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 30750 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 45641 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 72106 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 17245 term 44 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 66901 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 0
term 45 server 2 become leader
------------------------------------------------------
client write log 8517182739436673478 (index 274) to leader 2
flag 89230 term 45 leader 2 nextIndex[0]: 274  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 9464 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273} {8517182739436673478 45 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 274->273
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 273
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 64901 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 66509 term 45 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 89400 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273} {8517182739436673478 45 274}]
------------------------------------------------------
client write log 8825811986127108394 (index 275) to leader 2
client write log 1296541020658180090 (index 276) to leader 2
client write log 7432551951385201421 (index 277) to leader 2
client write log 1503334361809614432 (index 278) to leader 2
client write log 1025653536606037300 (index 279) to leader 2
client write log 3752774497766435541 (index 280) to leader 2
client write log 3507806715502628522 (index 281) to leader 2
client write log 2129298492662328856 (index 282) to leader 2
client write log 7980510425928444416 (index 283) to leader 2
client write log 8150401212518479215 (index 284) to leader 2
client write log 1077425952909324872 (index 285) to leader 2
client write log 3336368062387781337 (index 286) to leader 2
client write log 1124857181479605628 (index 287) to leader 2
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 273
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 59982 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 29339 term 45 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 45 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 45 leaderCommit: 274 
------------------------------------------------------
flag 93764 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 42 269} {1182061058285904443 42 270} {26494698004115811 42 271} {2255521098471425978 42 272} {2255521098471425978 44 273} {8517182739436673478 45 274} {8825811986127108394 45 275} {1296541020658180090 45 276} {7432551951385201421 45 277} {1503334361809614432 45 278} {1025653536606037300 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=287
-------------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 273
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 39920 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
flag 77286 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=287
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4652417666663249378 (index 274) to leader 1
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 273
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 63752 term 44 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 44 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 44 leaderCommit: 273 
------------------------------------------------------
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 server 2 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65051 term 45 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
term 45 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 日志不够新
term 45 server 0 not vote for server 1, 日志不够新
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 0 vote for server 2
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 0
flag 84143 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 21065 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 81494 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 42748 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82726 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 47335 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69740 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 92470 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 9947 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 41736 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60178 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 53004 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 25105 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 60281 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 20546 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 24394 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 52873 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 15134 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 66571 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 19624 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 1 not vote for server 2, 任期不够新
term 47 server 2 get outdate rpc reply from server 1
flag 83120 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 18999 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11198 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 10440 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 80390 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 72385 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 96812 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 85149 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 43111 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 67569 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 7648 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 45381 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 13456 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 79722 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
flag 81897 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 78207 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99052 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 54724 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287}]
------------------------------------------------------
client write log 4652417666663249378 (index 288) to leader 2
flag 57911 term 47 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 71788 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
update nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 121 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 83772 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99948 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 25712 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12233 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 78673 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
flag 40898 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 66214 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
flag 98703 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 14129 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8371370394369946472 (index 289) to leader 2
flag 90617 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
flag 11887 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 47 leaderCommit: 288 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {3752774497766435541 45 280} {3507806715502628522 45 281} {2129298492662328856 45 282} {7980510425928444416 45 283} {8150401212518479215 45 284} {1077425952909324872 45 285} {3336368062387781337 45 286} {1124857181479605628 45 287} {4652417666663249378 47 288} {8371370394369946472 47 289}]
------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 48243 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5934071392816934725 (index 290) to leader 2
client write log 3431990077875156819 (index 291) to leader 2
client write log 3310066993126449370 (index 292) to leader 2
client write log 908407023478604280 (index 293) to leader 2
client write log 7150826687319854157 (index 294) to leader 2
client write log 1366998098493684887 (index 295) to leader 2
client write log 5011126309601410207 (index 296) to leader 2
term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 91364 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296}]
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 30889 term 47 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 47 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2079284632217271576 (index 297) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 39754 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 17038 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 298->297
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 298->297
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 35325 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
flag 33507 term 49 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 13022 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52424 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 39824 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6521 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 9218 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 37476 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 53790 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 66462 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 54543 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 31588 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 10017 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49703 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 16314 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 77003 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 5903 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 90237 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 80473 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 57084 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 94512 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 98424 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 28972 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 71086 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 28014 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 85672 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 85556 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
update nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23306 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 77859 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 66398 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 97996 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58396 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 72141 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 4354 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 94321 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297}]
------------------------------------------------------
flag 45225 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 43703 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
client write log 2079284632217271576 (index 298) to leader 2
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
flag 6668 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
flag 10299 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 47 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
flag 91598 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 49084 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
flag 18012 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 78055 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34612 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 47121 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
flag 89448 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 4508 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
flag 42893 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 66237 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7552589373305583737 (index 299) to leader 2
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98543 term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 63033 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 47 289} {5934071392816934725 47 290} {3431990077875156819 47 291} {3310066993126449370 47 292} {908407023478604280 47 293} {7150826687319854157 47 294} {1366998098493684887 47 295} {5011126309601410207 47 296} {2079284632217271576 47 297} {2079284632217271576 49 298} {7552589373305583737 49 299}]
------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 71640 term 49 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 49 299}]
------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 6480846769366147333 (index 300) to leader 2
client write log 1667236057866149155 (index 301) to leader 2
client write log 1367521981305019816 (index 302) to leader 2
client write log 6204009678096745363 (index 303) to leader 2
client write log 6746394764026388560 (index 304) to leader 2
client write log 577405750482224722 (index 305) to leader 2
client write log 1878575039827501166 (index 306) to leader 2
client write log 979251975299677554 (index 307) to leader 2
client write log 8132676838037074066 (index 308) to leader 2
client write log 2215404602305341079 (index 309) to leader 2
client write log 2926164127563193906 (index 310) to leader 2
client write log 5713390118405432016 (index 311) to leader 2
client write log 6726280411795422039 (index 312) to leader 2
client write log 1651746225159576911 (index 313) to leader 2
client write log 2881786326158157382 (index 314) to leader 2
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 49972 term 49 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 49 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 299 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 49 299} {6480846769366147333 49 300} {1667236057866149155 49 301} {1367521981305019816 49 302} {6204009678096745363 49 303} {6746394764026388560 49 304} {577405750482224722 49 305} {1878575039827501166 49 306} {979251975299677554 49 307} {8132676838037074066 49 308} {2215404602305341079 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314}]
------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=314
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 69833 term 49 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 49 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314}]
------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4286767048669822598 (index 315) to leader 2
term 49 server 2 not vote for server 0, 日志不够新
term 49 server 1 not vote for server 0, 日志不够新
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 96978 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 56969 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 316->315
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 316->315
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 1906 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 49 rf.commitIndex 309 rf.lastApplied 309
flag 70874 term 51 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 20135 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 51411 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 6249 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83512 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 77795 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 84478 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 58273 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45997 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 9897 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 12016 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 19489 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 27413 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 52978 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 25791 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 64787 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 6846 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 95979 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 82481 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 4494 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17562 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 23600 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 83301 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 52399 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 43410 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 75077 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 19507 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 88597 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 19447 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 56551 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 46141 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 40933 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 9262 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 1830 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
flag 36414 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 98712 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315}]
------------------------------------------------------
client write log 4286767048669822598 (index 316) to leader 2
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78965 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
flag 26682 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 49 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
flag 53175 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 16541 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
flag 67417 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 54622 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
flag 49703 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 15312 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
flag 14221 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 50433 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
flag 73880 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 50018 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 84474 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 70814 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 45575 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 21401 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 13131 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 78097 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 0
term 52 server 1 become leader
------------------------------------------------------
flag 8135 term 52 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 73900 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 317->316
------------------------------------------------------
client write log 6685280738577550537 (index 317) to leader 1
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 54687 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 19395 term 52 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 6511 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317}]
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 19809 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 32619 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
flag 41077 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317}]
------------------------------------------------------
client write log 8289740182468208387 (index 318) to leader 1
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 72049 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 30164 term 52 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 52 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 52 leaderCommit: 317 
------------------------------------------------------
flag 70312 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317} {8289740182468208387 52 318}]
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 57643 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
flag 17155 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 47875 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317} {8289740182468208387 52 318}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1287180200485222958 (index 319) to leader 1
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 316
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 46471 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2534 term 52 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 52 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 52 leaderCommit: 318 
------------------------------------------------------
flag 45403 term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 51 leaderCommit: 318 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317} {8289740182468208387 52 318} {1287180200485222958 52 319}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 49 309} {2926164127563193906 49 310} {5713390118405432016 49 311} {6726280411795422039 49 312} {1651746225159576911 49 313} {2881786326158157382 49 314} {4286767048669822598 49 315} {4286767048669822598 51 316} {6685280738577550537 52 317} {8289740182468208387 52 318} {1287180200485222958 52 319}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 5469 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 42212 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 52 Server2 start snapshot! index=319
term 52 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59688 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 28570 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 320->319
------------------------------------------------------
flag 73368 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 319
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 319 args.LastIncludedIndex 319
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
flag 81727 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 58690 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
flag 24583 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 96844 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 52 319}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3521615908188436682 (index 320) to leader 1
flag 78645 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
flag 65736 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 319 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 52 319} {3521615908188436682 52 320}]
------------------------------------------------------
flag 81082 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
flag 96169 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 52 319} {3521615908188436682 52 320}]
------------------------------------------------------
client write log 1807344449056401288 (index 321) to leader 1
client write log 111463201502567242 (index 322) to leader 1
client write log 6087961623133320384 (index 323) to leader 1
client write log 6976319739135674440 (index 324) to leader 1
client write log 1520202927038769599 (index 325) to leader 1
client write log 6756921298667326210 (index 326) to leader 1
client write log 944353093909138094 (index 327) to leader 1
client write log 5872762384763257508 (index 328) to leader 1
flag 29711 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
flag 74655 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 320 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328}]
------------------------------------------------------
flag 27853 term 52 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 52 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 15721 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328}]
------------------------------------------------------
!!!!!!connect server 2
client write log 9138942950888258681 (index 329) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 54 server 2 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 0 vote for server 1
term 54 server 1 get outdate rpc reply from server 0
flag 23661 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 77924 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 330->329
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 330->329
------------------------------------------------------
flag 64686 term 54 leader 1 nextIndex[0]: 329  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 55587 term 54 leader 1 nextIndex[2]: 320  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36196 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 90911 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 13209 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 10187 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 51041 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 12385 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87482 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 89535 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 15488 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 89723 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 19083 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 93079 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1327 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 88821 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22230 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 31347 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71061 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 187 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23832 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 11453 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 35355 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 58222 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62544 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 24493 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95716 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 23120 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 1857 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 80896 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 37711 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 25293 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22106 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 78812 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
flag 85848 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 23791 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=328
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329}]
------------------------------------------------------
client write log 9138942950888258681 (index 330) to leader 1
flag 47069 term 54 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
flag 89637 term 54 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 54 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 328 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 319} {3521615908188436682 52 320} {1807344449056401288 52 321} {111463201502567242 52 322} {6087961623133320384 52 323} {6976319739135674440 52 324} {1520202927038769599 52 325} {6756921298667326210 52 326} {944353093909138094 52 327} {5872762384763257508 52 328} {9138942950888258681 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46902 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 27383 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 Server0 start snapshot! index=329
term 54 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
flag 28556 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 61628 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
flag 8472 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 10420 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
flag 95428 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 6212 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
flag 8586 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 35136 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
flag 45371 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 12640 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {9138942950888258681 54 330}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2221494273396535659 (index 331) to leader 1
flag 83331 term 54 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
flag 30994 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 52 329} {9138942950888258681 54 330} {2221494273396535659 54 331}]
------------------------------------------------------
flag 26858 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
flag 26757 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 52 329} {9138942950888258681 54 330} {2221494273396535659 54 331}]
------------------------------------------------------
client write log 5105255961226526526 (index 332) to leader 1
client write log 4933559325188093146 (index 333) to leader 1
client write log 4671698626998799961 (index 334) to leader 1
client write log 5858071328657054241 (index 335) to leader 1
client write log 6168584071199884387 (index 336) to leader 1
client write log 3008853851003611957 (index 337) to leader 1
client write log 7162372664567081420 (index 338) to leader 1
client write log 865793797771120437 (index 339) to leader 1
flag 11575 term 54 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 54 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
flag 9308 term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 54 leaderCommit: 331 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 52 329} {9138942950888258681 54 330} {2221494273396535659 54 331} {5105255961226526526 54 332} {4933559325188093146 54 333} {4671698626998799961 54 334} {5858071328657054241 54 335} {6168584071199884387 54 336} {3008853851003611957 54 337} {7162372664567081420 54 338} {865793797771120437 54 339}]
------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
flag 70279 term 54 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 54 339}]
------------------------------------------------------
term 54 Server0 start snapshot! index=339
term 54 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7878707548551358974 (index 340) to leader 1
flag 50243 term 54 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 54 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 55 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 2 vote for server 1
term 56 server 1 get vote from server 2
term 56 server 1 become leader
------------------------------------------------------
term 56 server 0 vote for server 1
term 56 server 1 get outdate rpc reply from server 0
flag 16849 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 31153 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 0
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 18265 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 leader 1 nextIndex[2]: 331  matchIndex[2]: 0
term 56 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
flag 25073 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 29161 term 56 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 56 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7203 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 49803 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 44236 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 60123 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 6791 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 53181 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 56753 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 84822 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
term 56 server 0 AppendEntries true commitIndex:339 
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 4889 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 20156 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62355 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 60910 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 66837 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 25299 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75559 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 60452 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58695 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 23009 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 28693 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 66000 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71527 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 7792 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79275 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 68692 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 22365 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 47868 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72174 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 92898 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
flag 86612 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 5219 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97831 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 53254 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
client write log 7878707548551358974 (index 341) to leader 1
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=339
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88273 term 56 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
flag 53045 term 56 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 56 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 54 leaderCommit: 339 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
flag 86124 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 16663 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
flag 12439 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 54099 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
flag 98006 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 12384 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10732 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 45827 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
flag 90271 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 97353 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 17275 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 33585 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 86915 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 94663 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 14738 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 35924 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 57 server 0 vote for server 2
term 57 server 2 get vote from server 0
term 57 server 2 become leader
------------------------------------------------------
client write log 664120926664949109 (index 342) to leader 2
flag 13882 term 57 leader 2 nextIndex[0]: 342  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 30389 term 57 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341} {664120926664949109 57 342}]
------------------------------------------------------
flag 26763 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 98870 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 50699 term 57 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 57 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 91136 term 57 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341} {664120926664949109 57 342}]
------------------------------------------------------
flag 21127 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 13657 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
client write log 3278884876523361534 (index 343) to leader 2
client write log 8500753519191576171 (index 344) to leader 2
client write log 403319566408638470 (index 345) to leader 2
client write log 6456735425068205398 (index 346) to leader 2
client write log 5769515358012289717 (index 347) to leader 2
client write log 6601995666036280116 (index 348) to leader 2
client write log 6932029853049760784 (index 349) to leader 2
client write log 4397709972651002797 (index 350) to leader 2
client write log 6443325464917257156 (index 351) to leader 2
client write log 1467525847403376637 (index 352) to leader 2
flag 5274 term 57 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 57 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 57 leaderCommit: 342 
------------------------------------------------------
flag 67914 term 57 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 342 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
flag 29455 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 16777 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 54 339} {7878707548551358974 54 340} {7878707548551358974 56 341} {664120926664949109 57 342} {3278884876523361534 57 343} {8500753519191576171 57 344} {403319566408638470 57 345} {6456735425068205398 57 346} {5769515358012289717 57 347} {6601995666036280116 57 348} {6932029853049760784 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 Server2 start snapshot! index=349
term 57 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
flag 68648 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 69469 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 78477 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 Server0 start snapshot! index=349
term 57 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 5171468020382714330 (index 342) to leader 1
flag 21603 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 57
------------------------------------------------------
flag 60809 term 56 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
flag 38414 term 56 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 56 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 56 leaderCommit: 341 
------------------------------------------------------
term 57 server 0 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
term 57 server 1 InstallSnapshot success
------------------------------------------------------
term 57 server 2 AppendEntries false 领导者任期过期 args.Term 56
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 57 rf.commitIndex 349 rf.lastApplied 349
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 server 1 not vote for server 2, 日志不够新
term 57 server 2 get outdate rpc reply from server 1
flag 95104 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 95476 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12128 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 31951 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 97745 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 50713 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 58583 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 66137 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 15808 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 53341 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19799 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 79673 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31161 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 82254 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 14719 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 59107 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 11944 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 86951 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 65521 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 71962 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22795 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 23547 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 96981 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 94473 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 73166 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 67515 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
flag 67821 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 43983 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 60750 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 63309 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 9495 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 10338 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
flag 85264 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 6080 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 9264 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 87434 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29888 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 78965 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=353
update matchIndex[1]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=353
update matchIndex[0]=352
update leader CommitIndex=352
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352}]
------------------------------------------------------
term 57 server 0 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 0
client write log 5171468020382714330 (index 353) to leader 2
flag 1774 term 57 leader 2 nextIndex[0]: 353  matchIndex[0]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
flag 18612 term 57 leader 2 nextIndex[1]: 353  matchIndex[1]: 352
term 57 leader 2 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 57 leaderCommit: 352 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:352 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 53788 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 14377 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 41468 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 54495 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 18753 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 22626 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 58579 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 79338 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 51951 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 99818 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
flag 70165 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 34183 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=354
update matchIndex[0]=353
update leader CommitIndex=353
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8190263967457254132 (index 354) to leader 2
flag 93379 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
flag 56175 term 57 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 353 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353} {8190263967457254132 57 354}]
------------------------------------------------------
flag 45217 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 354 
------------------------------------------------------
flag 50642 term 57 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 57 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 57 leaderCommit: 354 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353} {8190263967457254132 57 354}]
------------------------------------------------------
client write log 7957257547328450959 (index 355) to leader 2
client write log 7444779520790363259 (index 356) to leader 2
client write log 5670396082909718264 (index 357) to leader 2
client write log 7537287819164718908 (index 358) to leader 2
client write log 5979247819861371620 (index 359) to leader 2
client write log 3496521153283344754 (index 360) to leader 2
client write log 7700601349538589523 (index 361) to leader 2
client write log 4297158417324342348 (index 362) to leader 2
client write log 6728131653916953780 (index 363) to leader 2
client write log 2845615607876372599 (index 364) to leader 2
client write log 7249860186895944368 (index 365) to leader 2
client write log 7066206728260823181 (index 366) to leader 2
client write log 3162693193734295409 (index 367) to leader 2
client write log 4720331730712397272 (index 368) to leader 2
client write log 2369331784367709270 (index 369) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 355->354
------------------------------------------------------
flag 44195 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 354 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 354
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 57
------------------------------------------------------
term 57 server 1 InstallSnapshot fail
rf.commitIndex 354 args.LastIncludedIndex 349
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 28758 term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 57 leaderCommit: 354 
------------------------------------------------------
flag 73870 term 57 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 57 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 57 leaderCommit: 354 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=369
leader log:
[{snapshot 57 349} {4397709972651002797 57 350} {6443325464917257156 57 351} {1467525847403376637 57 352} {5171468020382714330 57 353} {8190263967457254132 57 354} {7957257547328450959 57 355} {7444779520790363259 57 356} {5670396082909718264 57 357} {7537287819164718908 57 358} {5979247819861371620 57 359} {3496521153283344754 57 360} {7700601349538589523 57 361} {4297158417324342348 57 362} {6728131653916953780 57 363} {2845615607876372599 57 364} {7249860186895944368 57 365} {7066206728260823181 57 366} {3162693193734295409 57 367} {4720331730712397272 57 368} {2369331784367709270 57 369}]
------------------------------------------------------
term 57 Server2 start snapshot! index=359
term 57 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=369
-------------------------------------------------------------
term 57 Server2 start snapshot! index=369
term 57 server2 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 57
------------------------------------------------------
flag 98215 term 57 leader 2 nextIndex[1]: 370  matchIndex[1]: 369
term 57 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=369
leader log:
[{snapshot 57 369}]
------------------------------------------------------
term 57 Server1 start snapshot! index=359
term 57 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=369
-------------------------------------------------------------
term 57 Server1 start snapshot! index=369
term 57 server1 snapshot success
lastIncludedIndex=369 lastApplied=369 lastIndex=369
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1019662879213769728 (index 370) to leader 2
term 57 leader 2 nextIndex[0]: 354  matchIndex[0]: 353
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 57
------------------------------------------------------
flag 75662 term 57 leader 2 nextIndex[1]: 370  matchIndex[1]: 369
term 57 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 58 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 server 1 vote for server 2
term 59 server 2 get vote from server 1
term 59 server 0 vote for server 2
term 59 server 2 become leader
------------------------------------------------------
term 59 server 2 get outdate rpc reply from server 0
flag 43444 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 23033 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 0
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 371->370
------------------------------------------------------
term 59 leader 2 nextIndex[0]: 354  matchIndex[0]: 0
term 59 leader 2 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 57
------------------------------------------------------
flag 27931 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 InstallSnapshot success
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 370 matchIndex[0] 369 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 57 rf.commitIndex 369 rf.lastApplied 369
flag 70760 term 59 leader 2 nextIndex[0]: 370  matchIndex[0]: 369
term 59 leader 2 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 56386 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66174 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 34880 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 3280 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 48624 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 79786 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 45490 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 7143 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 5785 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 52933 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 55163 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 97843 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 68979 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 83521 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 14451 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24421 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 8839 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 84318 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 14815 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 85225 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 82703 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 87520 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 49453 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6560 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 98189 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10695 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 65479 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 36670 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 56449 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 23077 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 73649 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
flag 55816 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 15733 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=371
update matchIndex[0]=370
update leader CommitIndex=369
leader log:
[{snapshot 57 369} {1019662879213769728 57 370}]
------------------------------------------------------
client write log 1019662879213769728 (index 371) to leader 2
flag 36539 term 59 leader 2 nextIndex[0]: 371  matchIndex[0]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
flag 85429 term 59 leader 2 nextIndex[1]: 371  matchIndex[1]: 370
term 59 leader 2 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 57 leaderCommit: 369 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
flag 10566 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 61461 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
flag 83338 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 16611 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 2 not vote for server 0, 任期不够新
term 59 server 0 get outdate rpc reply from server 2
flag 59852 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 22667 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
flag 63361 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 87272 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
flag 69421 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 53029 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41894 term 59 leader 2 nextIndex[0]: 372  matchIndex[0]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
flag 35444 term 59 leader 2 nextIndex[1]: 372  matchIndex[1]: 371
term 59 leader 2 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 59 leaderCommit: 371 
------------------------------------------------------
term 59 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
term 59 server 0 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=372
update matchIndex[0]=371
update leader CommitIndex=371
leader log:
[{snapshot 57 369} {1019662879213769728 57 370} {1019662879213769728 59 371}]
------------------------------------------------------
  ... Passed --  83.7  3 1904  869298  371
--- PASS: TestSnapshotInstall2D (83.73s)
PASS
