=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 22293 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 37364 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8770967898765475692 (index 1) to leader 1
flag 95268 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 88911 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
flag 28910 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55499 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
flag 33151 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68929 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
flag 88958 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65939 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
flag 4342 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9240 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
flag 4393 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 88670 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8770967898765475692 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3014227343757952355 (index 2) to leader 1
flag 94424 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84119 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8770967898765475692 1 1} {3014227343757952355 1 2}]
------------------------------------------------------
flag 63231 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 2018 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8770967898765475692 1 1} {3014227343757952355 1 2}]
------------------------------------------------------
client write log 1157647596579113301 (index 3) to leader 1
client write log 428399124233017566 (index 4) to leader 1
client write log 6963719338992532283 (index 5) to leader 1
client write log 172245914330747211 (index 6) to leader 1
client write log 189341549843355357 (index 7) to leader 1
client write log 4343504562141886110 (index 8) to leader 1
client write log 2788092870640295623 (index 9) to leader 1
client write log 6686577604965143340 (index 10) to leader 1
client write log 3504236379176540241 (index 11) to leader 1
client write log 8705505121079961282 (index 12) to leader 1
flag 24518 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 69644 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {8770967898765475692 1 1} {3014227343757952355 1 2} {1157647596579113301 1 3} {428399124233017566 1 4} {6963719338992532283 1 5} {172245914330747211 1 6} {189341549843355357 1 7} {4343504562141886110 1 8} {2788092870640295623 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
flag 10016 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7203180298567339383 (index 13) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 0 vote for server 1
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 90318 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 64684 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 72177 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 84301 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 41086 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 68690 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 41457 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42651 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 17874 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 75889 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 35951 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 82602 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 66378 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5828 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 13638 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 95790 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 70096 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 11980 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 77508 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 2063 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 66785 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 7183 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 96152 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89439 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 71897 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 68128 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 75148 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 39402 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 23803 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 45824 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 50707 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 95108 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 59227 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 95905 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 19570 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 34329 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 68666 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
flag 42530 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 77211 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13}]
------------------------------------------------------
client write log 7203180298567339383 (index 14) to leader 1
flag 56199 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 39818 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 4122 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 29771 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 29638 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 45221 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 72914 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 76964 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 9521 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 37961 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 42547 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 78683 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
flag 94943 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56927 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 93563 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 62726 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 96100 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 17674 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 47446 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 8665 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 24491 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 76214 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
client write log 4048038507775751777 (index 15) to leader 0
flag 52777 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 16015 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15}]
------------------------------------------------------
flag 7884 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 54037 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 10157 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 20870 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15}]
------------------------------------------------------
client write log 2401736203178233502 (index 16) to leader 0
flag 53213 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 20829 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56168 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 44077 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 93892 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 46106 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56441 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 89635 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5937022942793374037 (index 15) to leader 1
flag 80080 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 63143 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66431 term 4 leader 0 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 18900 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73692 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 88738 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42158 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 47279 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 73674 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 681 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 46957 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 43651 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 64256 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 52589 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 58547 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 1414 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 34563 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 15817 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 7547 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5456 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 98944 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 61561 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 64873 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 21693 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 73355 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33669 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 33652 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 44083 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 89614 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 54547 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
flag 7757 term 4 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 4 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 87006 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 35474 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 495 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 89399 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 96422 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 3276 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 41746 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
flag 4199 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 41649 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16}]
------------------------------------------------------
client write log 5937022942793374037 (index 17) to leader 0
flag 19261 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 12283 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 57021 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 26403 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 67096 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 93384 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 46975 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 53780 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 46503 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 47962 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 13289 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 42052 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
flag 67175 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 37425 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4306402154832564225 (index 18) to leader 0
flag 26206 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 12685 term 4 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17} {4306402154832564225 4 18}]
------------------------------------------------------
flag 47044 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 84204 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17} {4306402154832564225 4 18}]
------------------------------------------------------
client write log 3769932719597077199 (index 19) to leader 0
client write log 5435385526429009017 (index 20) to leader 0
client write log 5837262731631501716 (index 21) to leader 0
client write log 4309037103174981871 (index 22) to leader 0
client write log 266551017524981742 (index 23) to leader 0
client write log 6402820544399469024 (index 24) to leader 0
client write log 6313871181572748345 (index 25) to leader 0
client write log 1499686227291636672 (index 26) to leader 0
flag 86066 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 17963 term 4 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {6686577604965143340 1 10} {3504236379176540241 1 11} {8705505121079961282 1 12} {7203180298567339383 1 13} {7203180298567339383 3 14} {4048038507775751777 4 15} {2401736203178233502 4 16} {5937022942793374037 4 17} {4306402154832564225 4 18} {3769932719597077199 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 48336 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5949399047509546513 (index 27) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 94530 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 10865 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
term 6 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 82394 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 54642 term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 99465 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 3074 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 92778 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 37356 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 64025 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 53748 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 83193 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 69082 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 17852 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95411 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 19877 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 68853 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 31982 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 4880 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 70905 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 30224 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 25044 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52438 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 14587 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 14763 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 32677 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 21822 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 97394 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39938 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 97646 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 63211 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 96425 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 86434 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 33540 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89292 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 19790 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
flag 32080 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 76142 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26114 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 78636 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
client write log 5949399047509546513 (index 28) to leader 0
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 95329 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 60194 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 86530 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 41764 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 51266 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 76048 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 15803 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 65849 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 42880 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 12624 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 73703 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 40137 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
flag 6226 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 2799 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4676451314020002131 (index 29) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16805 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 95512 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {5435385526429009017 4 20} {5837262731631501716 4 21} {4309037103174981871 4 22} {266551017524981742 4 23} {6402820544399469024 4 24} {6313871181572748345 4 25} {1499686227291636672 4 26} {5949399047509546513 4 27} {5949399047509546513 6 28} {4676451314020002131 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 23390 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 5787136407121614794 (index 30) to leader 0
client write log 1706685393348369049 (index 31) to leader 0
client write log 6499489824796244307 (index 32) to leader 0
client write log 2645658913566752980 (index 33) to leader 0
client write log 4962969120698451019 (index 34) to leader 0
client write log 6007592367866968652 (index 35) to leader 0
client write log 3344496450542786841 (index 36) to leader 0
client write log 5885785475210352629 (index 37) to leader 0
client write log 1478710053872152076 (index 38) to leader 0
client write log 4803317364183703096 (index 39) to leader 0
client write log 3127355085208428034 (index 40) to leader 0
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 35891 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 35568 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {5787136407121614794 6 30} {1706685393348369049 6 31} {6499489824796244307 6 32} {2645658913566752980 6 33} {4962969120698451019 6 34} {6007592367866968652 6 35} {3344496450542786841 6 36} {5885785475210352629 6 37} {1478710053872152076 6 38} {4803317364183703096 6 39} {3127355085208428034 6 40}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=40
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 91413 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=40
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7903995029356610901 (index 41) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 82723 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 82020 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 42->41
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 42->41
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 29  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 35049 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79403 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 20978 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81485 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 22484 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93490 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 17994 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 54497 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 95386 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 64235 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 3818 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 75193 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 90409 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 90490 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 38097 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 48147 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 87806 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 50375 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 43874 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 99080 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 15088 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67833 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 52944 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 89491 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 59713 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 68156 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 23439 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 77836 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 27565 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 11961 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 5132 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 69244 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 4992 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
flag 5303 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 67110 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29653 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 4574 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41}]
------------------------------------------------------
client write log 7903995029356610901 (index 42) to leader 0
flag 48647 term 8 leader 0 nextIndex[1]: 42  matchIndex[1]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 93862 term 8 leader 0 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 0 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 7174 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 61654 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 29782 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 17135 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 31533 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 73507 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 75699 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 29562 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 82859 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 65479 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
flag 67773 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 84678 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 22069 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 35955 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91826 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 67138 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 50307 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 25386 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 57222 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 61868 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 5639 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 41581 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42}]
------------------------------------------------------
client write log 6391463471082947603 (index 43) to leader 1
flag 89953 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 72127 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 11337 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 54296 term 9 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42} {6391463471082947603 9 43}]
------------------------------------------------------
flag 75013 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 24514 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 70702 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 47518 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42} {6391463471082947603 9 43}]
------------------------------------------------------
client write log 357146593207148521 (index 44) to leader 1
client write log 7799735701107163807 (index 45) to leader 1
client write log 3586621040575071608 (index 46) to leader 1
client write log 6201561444881295200 (index 47) to leader 1
client write log 754533247291841351 (index 48) to leader 1
client write log 1302337438348836524 (index 49) to leader 1
client write log 2106616896057673887 (index 50) to leader 1
client write log 6889475284002820413 (index 51) to leader 1
client write log 1581291767380115175 (index 52) to leader 1
flag 44221 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 36756 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 40110 term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 59435 term 9 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 39} {3127355085208428034 6 40} {7903995029356610901 6 41} {7903995029356610901 8 42} {6391463471082947603 9 43} {357146593207148521 9 44} {7799735701107163807 9 45} {3586621040575071608 9 46} {6201561444881295200 9 47} {754533247291841351 9 48} {1302337438348836524 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
flag 22301 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 9556 term 8 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 43082 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3863629359947710849 (index 53) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32366 term 8 leader 0 nextIndex[1]: 43  matchIndex[1]: 42
term 8 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 42
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 22248 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 32638 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 16619 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57774 term 11 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 96920 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
flag 6317 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 66050 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
flag 75570 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 94105 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
flag 89130 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 94214 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
flag 22589 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 82115 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82037 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 29718 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4171493976710788112 (index 54) to leader 1
flag 15406 term 11 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 79960 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53} {4171493976710788112 11 54}]
------------------------------------------------------
flag 45897 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 93690 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53} {4171493976710788112 11 54}]
------------------------------------------------------
client write log 8410808562186096629 (index 55) to leader 1
client write log 1775921686276807923 (index 56) to leader 1
client write log 7698417484081524518 (index 57) to leader 1
client write log 2670173305983756678 (index 58) to leader 1
client write log 2731467877734820297 (index 59) to leader 1
client write log 4893785511343646182 (index 60) to leader 1
client write log 8874178255195646894 (index 61) to leader 1
client write log 874009035529729811 (index 62) to leader 1
client write log 176112769745585124 (index 63) to leader 1
client write log 6625758155483788245 (index 64) to leader 1
flag 10249 term 11 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
flag 66482 term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {2106616896057673887 9 50} {6889475284002820413 9 51} {1581291767380115175 9 52} {3863629359947710849 9 53} {4171493976710788112 11 54} {8410808562186096629 11 55} {1775921686276807923 11 56} {7698417484081524518 11 57} {2670173305983756678 11 58} {2731467877734820297 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48676 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1855768184775921546 (index 65) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30455 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 4703 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 66->65
------------------------------------------------------
flag 33121 term 13 leader 1 nextIndex[0]: 65  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 77053 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 37222 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 91074 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 10038 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44636 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 74175 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61586 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 53619 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 19593 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 17373 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 5401 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 3545 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75497 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 66819 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40447 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 44380 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 34783 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 81294 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58936 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 57629 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 3534 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 89789 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78303 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 48164 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16107 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 11703 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70809 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 16918 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56027 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 56414 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 80407 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 94514 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
flag 39024 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 41660 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1855768184775921546 (index 66) to leader 1
flag 96837 term 13 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 99611 term 13 leader 1 nextIndex[2]: 66  matchIndex[2]: 65
term 13 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 56780 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 16485 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 64148 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 14341 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 7099 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 17941 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 67286 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 87053 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 12947 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 57403 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
flag 84734 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 85707 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8684959376686343879 (index 67) to leader 1
flag 17867 term 13 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
flag 53895 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66} {8684959376686343879 13 67}]
------------------------------------------------------
flag 50885 term 13 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 20461 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66} {8684959376686343879 13 67}]
------------------------------------------------------
client write log 7625195024346100556 (index 68) to leader 1
client write log 3415614676727027669 (index 69) to leader 1
client write log 5511388804689012013 (index 70) to leader 1
client write log 3983046405873194916 (index 71) to leader 1
client write log 4935039208196027136 (index 72) to leader 1
client write log 1991014723523755061 (index 73) to leader 1
client write log 3696595452137912057 (index 74) to leader 1
client write log 9009836478943812472 (index 75) to leader 1
client write log 6869134489055098886 (index 76) to leader 1
client write log 2403889329829639314 (index 77) to leader 1
client write log 313341196077923141 (index 78) to leader 1
client write log 1141145729049575760 (index 79) to leader 1
client write log 1982519147557901040 (index 80) to leader 1
client write log 8128932421508064576 (index 81) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90995 term 13 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
flag 69491 term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 13 leaderCommit: 67 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 59} {4893785511343646182 11 60} {8874178255195646894 11 61} {874009035529729811 11 62} {176112769745585124 11 63} {6625758155483788245 11 64} {1855768184775921546 11 65} {1855768184775921546 13 66} {8684959376686343879 13 67} {7625195024346100556 13 68} {3415614676727027669 13 69} {5511388804689012013 13 70} {3983046405873194916 13 71} {4935039208196027136 13 72} {1991014723523755061 13 73} {3696595452137912057 13 74} {9009836478943812472 13 75} {6869134489055098886 13 76} {2403889329829639314 13 77} {313341196077923141 13 78} {1141145729049575760 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
flag 47732 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81}]
------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5699580749808374198 (index 82) to leader 1
flag 87595 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 67  matchIndex[2]: 66
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 0 vote for server 1
term 15 server 1 get vote from server 0
term 15 server 1 become leader
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 1 get outdate rpc reply from server 2
flag 30623 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 48550 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 83->82
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 0
flag 52157 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 67  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12392 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 81461 term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 15 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 78715 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 43002 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29241 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 80057 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 64901 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 88039 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 11638 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 97746 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 49638 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 52342 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 70806 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 89486 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 59835 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 47037 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 80811 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 45418 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70567 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 49282 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57510 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 78809 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 23638 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 96861 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 1038 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 35762 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 86235 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 2701 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95282 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 33887 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74403 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 21720 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
flag 95663 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 50370 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82}]
------------------------------------------------------
client write log 5699580749808374198 (index 83) to leader 1
flag 80365 term 15 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 3159 term 15 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 15 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
flag 83190 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 34581 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
flag 59602 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 1265 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
flag 87170 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 33771 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
flag 97933 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 38027 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38849 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 53659 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 98726 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 87158 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 92662 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 551 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 80588 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 42627 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62815 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 89842 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
flag 53739 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 13098 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83}]
------------------------------------------------------
flag 34411 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 92479 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
client write log 7512668457422199412 (index 84) to leader 2
flag 29740 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 10537 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83} {7512668457422199412 16 84}]
------------------------------------------------------
flag 37380 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 39451 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 4136 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 67951 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83} {7512668457422199412 16 84}]
------------------------------------------------------
client write log 5385797898661790427 (index 85) to leader 2
client write log 2056066354965002724 (index 86) to leader 2
client write log 176177449548884631 (index 87) to leader 2
client write log 4033310263747613264 (index 88) to leader 2
client write log 7646266370793628976 (index 89) to leader 2
client write log 5571306897176850822 (index 90) to leader 2
client write log 7865729597504907264 (index 91) to leader 2
flag 79469 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
flag 93015 term 15 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 84->83
------------------------------------------------------
flag 7624 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 50682 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 79} {1982519147557901040 13 80} {8128932421508064576 13 81} {5699580749808374198 13 82} {5699580749808374198 15 83} {7512668457422199412 16 84} {5385797898661790427 16 85} {2056066354965002724 16 86} {176177449548884631 16 87} {4033310263747613264 16 88} {7646266370793628976 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
flag 38664 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 83
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 46434 term 16 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8498759378238414047 (index 84) to leader 1
flag 21293 term 15 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 15 leaderCommit: 83 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 83
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55857 term 16 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 31820 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 35207 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 92->91
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89453 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 30174 term 18 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 8722 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 89580 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12850 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 64800 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 78911 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 21395 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 46361 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 44596 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33498 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 10623 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24788 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 72869 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 27376 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 88695 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 41952 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 6032 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19114 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 67769 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 89167 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 97364 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 26543 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 32178 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 46461 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 20606 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45630 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 94914 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 6686 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 10408 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40352 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 29982 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
flag 85232 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 86158 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
flag 79651 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 34011 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91}]
------------------------------------------------------
client write log 8498759378238414047 (index 92) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79077 term 18 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 42194 term 18 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 18 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
flag 72788 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 88782 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
flag 6942 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 1574 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
flag 13900 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 57205 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
flag 59525 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 92833 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
flag 21577 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 58329 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2272604619407631105 (index 93) to leader 2
flag 60505 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
flag 20115 term 18 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 92 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92} {2272604619407631105 18 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81317 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 20314 term 18 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 18 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92} {2272604619407631105 18 93}]
------------------------------------------------------
client write log 1934217246429742138 (index 94) to leader 2
client write log 6031939093636268274 (index 95) to leader 2
client write log 7047179492860268142 (index 96) to leader 2
client write log 3982559900747778908 (index 97) to leader 2
client write log 1799504980397306726 (index 98) to leader 2
client write log 4522298933166087525 (index 99) to leader 2
client write log 5619590842338711018 (index 100) to leader 2
client write log 2767896761369086124 (index 101) to leader 2
client write log 6556237144336114288 (index 102) to leader 2
client write log 9015350458337570803 (index 103) to leader 2
client write log 2525477067733539162 (index 104) to leader 2
client write log 547745689808501705 (index 105) to leader 2
flag 9006 term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
flag 59789 term 18 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 18 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 18 leaderCommit: 93 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 89} {5571306897176850822 16 90} {7865729597504907264 16 91} {8498759378238414047 18 92} {2272604619407631105 18 93} {1934217246429742138 18 94} {6031939093636268274 18 95} {7047179492860268142 18 96} {3982559900747778908 18 97} {1799504980397306726 18 98} {4522298933166087525 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 93  matchIndex[0]: 92
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 94969 term 18 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1596606808615993670 (index 106) to leader 2
term 18 server 2 not vote for server 0, 日志不够新
term 18 server 1 not vote for server 0, 日志不够新
term 20 server 1 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
term 20 server 0 vote for server 2
term 20 server 2 get outdate rpc reply from server 0
flag 81727 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 26798 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 107->106
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 107->106
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 93  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 68945 term 20 leader 2 nextIndex[1]: 106  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
flag 14299 term 20 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 58778 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 60426 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 86676 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 87072 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 16006 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 5470 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 85056 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 85717 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 15685 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 8304 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 38657 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 87109 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 1025 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 41063 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 47106 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 52885 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 12238 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 15605 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 35978 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 24772 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 57736 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 96541 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 13239 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 20629 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 24525 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1747 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 25984 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 65334 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 31587 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
flag 60007 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 13268 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41304 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 69507 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106}]
------------------------------------------------------
client write log 1596606808615993670 (index 107) to leader 2
flag 50403 term 20 leader 2 nextIndex[0]: 107  matchIndex[0]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 93596 term 20 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 20 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
flag 72131 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 74509 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66721 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 42525 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
flag 13174 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 68755 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
flag 83130 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 14727 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
flag 26856 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 40023 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54000 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 16912 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1292002312216218556 (index 108) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78818 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
flag 13986 term 20 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 107 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107} {1292002312216218556 20 108}]
------------------------------------------------------
flag 28735 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 69724 term 20 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 20 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107} {1292002312216218556 20 108}]
------------------------------------------------------
client write log 8387606651847556109 (index 109) to leader 2
client write log 4332951358789585235 (index 110) to leader 2
client write log 8117367995766155357 (index 111) to leader 2
client write log 8603135961879052730 (index 112) to leader 2
client write log 3752274088986036297 (index 113) to leader 2
client write log 1079953626512069327 (index 114) to leader 2
client write log 3101026418195381105 (index 115) to leader 2
client write log 8622532276442702062 (index 116) to leader 2
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2407 term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
flag 33748 term 20 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 20 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 20 leaderCommit: 108 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 99} {5619590842338711018 18 100} {2767896761369086124 18 101} {6556237144336114288 18 102} {9015350458337570803 18 103} {2525477067733539162 18 104} {547745689808501705 18 105} {1596606808615993670 18 106} {1596606808615993670 20 107} {1292002312216218556 20 108} {8387606651847556109 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116}]
------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 9437 term 20 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 20 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116}]
------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8404522516954849833 (index 117) to leader 2
term 20 leader 2 nextIndex[0]: 108  matchIndex[0]: 107
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 1754 term 20 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 20 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get outdate rpc reply from server 0
flag 62538 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 20809 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 118->117
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 108  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 50653 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
flag 27161 term 22 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 22 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 65470 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
flag 16182 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 73761 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65612 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 91853 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
flag 5113 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 79598 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
flag 93888 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 36342 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
flag 27212 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 44498 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 34097 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 53766 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 12198 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 32480 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 53897 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 89085 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 0
term 23 server 1 become leader
------------------------------------------------------
flag 88212 term 23 leader 1 nextIndex[0]: 118  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 38629 term 23 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117}]
------------------------------------------------------
client write log 506320200073114912 (index 118) to leader 1
flag 91340 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 47283 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 27928 term 23 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 19980 term 23 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117} {506320200073114912 23 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94031 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 15272 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 81455 term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
flag 14333 term 23 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117} {506320200073114912 23 118}]
------------------------------------------------------
client write log 7511581791797226771 (index 119) to leader 1
flag 58112 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 26701 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 41945 term 23 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 23 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
flag 1950 term 23 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 118 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 20 109} {4332951358789585235 20 110} {8117367995766155357 20 111} {8603135961879052730 20 112} {3752274088986036297 20 113} {1079953626512069327 20 114} {3101026418195381105 20 115} {8622532276442702062 20 116} {8404522516954849833 20 117} {506320200073114912 23 118} {7511581791797226771 23 119}]
------------------------------------------------------
term 23 Server1 start snapshot! index=119
term 23 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3089 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 19550 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 22832 term 23 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 119 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 118  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 23 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
term 23 Server0 start snapshot! index=119
term 23 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9198559385751435840 (index 120) to leader 1
flag 91061 term 22 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 69751 term 22 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 22 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
term 23 server 1 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 23 server 0 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78621 term 23 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 119 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 23 rf.commitIndex 119 rf.lastApplied 119
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
flag 19524 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 75834 term 23 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39656 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 5116 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
flag 4956 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 43753 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
flag 3899 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 2742 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
flag 59070 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 70356 term 23 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50936 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 94159 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
flag 823 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 90051 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 23 119} {9198559385751435840 23 120}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9058302382319508665 (index 121) to leader 1
flag 20805 term 23 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
flag 59452 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 120 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 23 119} {9198559385751435840 23 120} {9058302382319508665 23 121}]
------------------------------------------------------
flag 48892 term 23 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 23 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
flag 41490 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 23 119} {9198559385751435840 23 120} {9058302382319508665 23 121}]
------------------------------------------------------
client write log 5384764501154456566 (index 122) to leader 1
client write log 8391164591562679502 (index 123) to leader 1
client write log 32627483086381813 (index 124) to leader 1
client write log 7084135307123844942 (index 125) to leader 1
client write log 3217254667317439436 (index 126) to leader 1
client write log 7646671335561355315 (index 127) to leader 1
client write log 5660999344146214469 (index 128) to leader 1
client write log 5298176676572654743 (index 129) to leader 1
client write log 1886508784133147574 (index 130) to leader 1
client write log 3748585700185656649 (index 131) to leader 1
client write log 6806477617315885327 (index 132) to leader 1
flag 22136 term 23 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 23 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
flag 89390 term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 23 leaderCommit: 121 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 119} {9198559385751435840 23 120} {9058302382319508665 23 121} {5384764501154456566 23 122} {8391164591562679502 23 123} {32627483086381813 23 124} {7084135307123844942 23 125} {3217254667317439436 23 126} {7646671335561355315 23 127} {5660999344146214469 23 128} {5298176676572654743 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45281 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2056064021512408462 (index 133) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5881 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 1 become leader
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get outdate rpc reply from server 0
flag 3779 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 50846 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 2692 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 121  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45582 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 7306 term 25 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 25 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 23892 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 81572 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69630 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 38990 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 89219 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 41229 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 10538 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 90516 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 99635 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 13143 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 30478 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 7775 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 53426 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 10431 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 33747 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 56426 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 69329 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 67458 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91820 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 98147 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 74673 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 67760 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 89296 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 99409 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 15604 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 78413 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
flag 81969 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 1260 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 99676 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 49663 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
flag 37513 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 98095 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133}]
------------------------------------------------------
client write log 2056064021512408462 (index 134) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77799 term 25 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
flag 88379 term 25 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 25 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
flag 32469 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 35845 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38347 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 77205 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 2 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7561 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 87672 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
flag 61631 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 23583 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
flag 3397 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 5221 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
flag 9582 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 47198 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6908892726908811975 (index 135) to leader 1
flag 40961 term 25 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
flag 59479 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 134 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134} {6908892726908811975 25 135}]
------------------------------------------------------
flag 83905 term 25 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 29820 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134} {6908892726908811975 25 135}]
------------------------------------------------------
client write log 3031115402203050187 (index 136) to leader 1
client write log 4532356571100872933 (index 137) to leader 1
client write log 5941432979586176749 (index 138) to leader 1
client write log 1752964501927181731 (index 139) to leader 1
client write log 4801981608987482745 (index 140) to leader 1
client write log 7382821860296100241 (index 141) to leader 1
client write log 2942519589307332310 (index 142) to leader 1
client write log 8229586939075000157 (index 143) to leader 1
client write log 3278281244928345594 (index 144) to leader 1
client write log 7008138427240835828 (index 145) to leader 1
client write log 8303146451891192070 (index 146) to leader 1
client write log 7117340002912215293 (index 147) to leader 1
flag 90135 term 25 leader 1 nextIndex[0]: 136  matchIndex[0]: 135
term 25 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 67722 term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 129} {1886508784133147574 23 130} {3748585700185656649 23 131} {6806477617315885327 23 132} {2056064021512408462 23 133} {2056064021512408462 25 134} {6908892726908811975 25 135} {3031115402203050187 25 136} {4532356571100872933 25 137} {5941432979586176749 25 138} {1752964501927181731 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147}]
------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=147
-------------------------------------------------------------
flag 75793 term 25 leader 1 nextIndex[0]: 148  matchIndex[0]: 147
term 25 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=148
update matchIndex[0]=147
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147}]
------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=147
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4022872621294822069 (index 148) to leader 1
term 25 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
term 27 server 2 vote for server 1
term 27 server 1 get vote from server 2
term 27 server 1 become leader
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get outdate rpc reply from server 0
flag 30661 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 48910 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 149->148
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 149->148
------------------------------------------------------
flag 90422 term 27 leader 1 nextIndex[0]: 148  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 135  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
flag 77891 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 94375 term 27 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21120 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 18094 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18695 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 49990 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93402 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 37775 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 84861 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 49221 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60097 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 10607 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 8862 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 20451 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36365 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 98043 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 99646 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 87092 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 34175 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 17007 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 21686 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 79508 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 16145 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 2893 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 4437 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 30065 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 56026 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 12053 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50231 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 79757 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20574 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 11876 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 26127 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 92855 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
flag 49205 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 986 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148}]
------------------------------------------------------
client write log 4022872621294822069 (index 149) to leader 1
flag 70296 term 27 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
flag 25717 term 27 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 27 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 25 leaderCommit: 147 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148} {4022872621294822069 27 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 25 139} {4801981608987482745 25 140} {7382821860296100241 25 141} {2942519589307332310 25 142} {8229586939075000157 25 143} {3278281244928345594 25 144} {7008138427240835828 25 145} {8303146451891192070 25 146} {7117340002912215293 25 147} {4022872621294822069 25 148} {4022872621294822069 27 149}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 27 server 2 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 2
flag 65556 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 20475 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
term 27 Server0 start snapshot! index=149
term 27 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 27 Server2 start snapshot! index=149
term 27 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
flag 22317 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 6923 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49963 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 52687 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51189 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 31104 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
flag 61963 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 61760 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
flag 99255 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 2600 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 97479 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 92497 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93993 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 41683 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 38628 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 24764 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 62948 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 81093 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 0
term 28 server 2 become leader
------------------------------------------------------
flag 90670 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 90740 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 27 149}]
------------------------------------------------------
flag 54229 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 78497 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
client write log 1765821053075745087 (index 150) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1815 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 1448 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {1765821053075745087 28 150}]
------------------------------------------------------
flag 85310 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 50152 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 22995 term 28 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 30942 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 27 149} {1765821053075745087 28 150}]
------------------------------------------------------
client write log 8923581350070921553 (index 151) to leader 2
client write log 6008182521221044650 (index 152) to leader 2
client write log 6055628288283138809 (index 153) to leader 2
client write log 7709240559045126374 (index 154) to leader 2
client write log 5559731694517662783 (index 155) to leader 2
client write log 5328521242389450459 (index 156) to leader 2
flag 49009 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 13412 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 5023 term 28 leader 2 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 60435 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 75033 term 27 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
flag 57011 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 150->149
------------------------------------------------------
flag 73629 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 16670 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2767717012029714699 (index 150) to leader 1
term 27 leader 1 nextIndex[0]: 0  matchIndex[0]: 149
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
flag 24730 term 27 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 27 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94561 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 2873 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 29941 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 34674 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 44865 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 29400 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 53224 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 37002 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 157->156
------------------------------------------------------
flag 10326 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 156
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 28 server 1 InstallSnapshot fail
rf.commitIndex 156 args.LastIncludedIndex 149
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64008 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 24066 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 5653 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 65522 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 157->156
------------------------------------------------------
flag 80657 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 156
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 28 server 1 InstallSnapshot fail
rf.commitIndex 156 args.LastIncludedIndex 149
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8849 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 55476 term 28 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 95873 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 94637 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34309 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 60306 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 53756 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 4688 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 61524 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 16044 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 18083 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 90263 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 30009 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 28415 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 55171 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 65602 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 18489 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 26392 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 16706 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 50278 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 50910 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 76824 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
flag 58414 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 68423 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156}]
------------------------------------------------------
client write log 2767717012029714699 (index 157) to leader 2
flag 76612 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 79076 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57027 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 33576 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15412 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 99906 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
flag 46510 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 27264 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
flag 92705 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 75214 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
flag 43805 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 76652 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7885455794495759179 (index 158) to leader 2
flag 18634 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
flag 64445 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157} {7885455794495759179 28 158}]
------------------------------------------------------
flag 42160 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 38097 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157} {7885455794495759179 28 158}]
------------------------------------------------------
client write log 6160561151156966233 (index 159) to leader 2
client write log 5722752169522153068 (index 160) to leader 2
client write log 6204406473043858020 (index 161) to leader 2
client write log 3129639521536326901 (index 162) to leader 2
client write log 3226245412135986109 (index 163) to leader 2
client write log 8610094333345544982 (index 164) to leader 2
client write log 3027429589955243464 (index 165) to leader 2
client write log 6049971946498937039 (index 166) to leader 2
client write log 2927235893297605188 (index 167) to leader 2
client write log 5379670689035484173 (index 168) to leader 2
client write log 6335724235985592738 (index 169) to leader 2
client write log 5582273261623129111 (index 170) to leader 2
client write log 8350447461936083158 (index 171) to leader 2
flag 95960 term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 10297 term 28 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 28 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 27 149} {1765821053075745087 28 150} {8923581350070921553 28 151} {6008182521221044650 28 152} {6055628288283138809 28 153} {7709240559045126374 28 154} {5559731694517662783 28 155} {5328521242389450459 28 156} {2767717012029714699 28 157} {7885455794495759179 28 158} {6160561151156966233 28 159} {5722752169522153068 28 160} {6204406473043858020 28 161} {3129639521536326901 28 162} {3226245412135986109 28 163} {8610094333345544982 28 164} {3027429589955243464 28 165} {6049971946498937039 28 166} {2927235893297605188 28 167} {5379670689035484173 28 168} {6335724235985592738 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=171
-------------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 46023 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=171
-------------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8261138593644689551 (index 172) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 65400 term 28 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 28 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 19626 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 21016 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 173->172
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 158  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 46836 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99951 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 96651 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 70827 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 54136 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 9180 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 47255 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 96460 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 50740 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23665 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 20349 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54024 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 69407 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 22043 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 15213 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 93643 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 72099 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 93165 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 16737 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 22969 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 95189 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74937 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 55054 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30347 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 21530 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 21150 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 61089 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1723 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 97412 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 35165 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 68304 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
flag 97393 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 86715 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172}]
------------------------------------------------------
client write log 8261138593644689551 (index 173) to leader 2
flag 35550 term 30 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
flag 75525 term 30 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 30 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 28 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43634 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 90472 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
flag 14730 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 67274 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
flag 34261 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 65901 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94199 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 69291 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
flag 66245 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 61242 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81743 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 45501 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6983265898073535666 (index 174) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29064 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
flag 27339 term 30 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173} {6983265898073535666 30 174}]
------------------------------------------------------
flag 25737 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 47163 term 30 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173} {6983265898073535666 30 174}]
------------------------------------------------------
client write log 9190846007475146835 (index 175) to leader 2
client write log 4473967385557650184 (index 176) to leader 2
client write log 6346186848995506462 (index 177) to leader 2
client write log 1909361867758448041 (index 178) to leader 2
client write log 2522500710298796142 (index 179) to leader 2
client write log 7215521072319298342 (index 180) to leader 2
client write log 8959945304484578150 (index 181) to leader 2
client write log 9089454167385859353 (index 182) to leader 2
client write log 589168516499817067 (index 183) to leader 2
client write log 2248697483059938936 (index 184) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71749 term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
flag 81240 term 30 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 30 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 30 leaderCommit: 174 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 28 169} {5582273261623129111 28 170} {8350447461936083158 28 171} {8261138593644689551 28 172} {8261138593644689551 30 173} {6983265898073535666 30 174} {9190846007475146835 30 175} {4473967385557650184 30 176} {6346186848995506462 30 177} {1909361867758448041 30 178} {2522500710298796142 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 1496 term 30 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 30 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3869065381850043241 (index 185) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
term 32 server 1 vote for server 2
term 32 server 2 get vote from server 1
term 32 server 0 vote for server 2
term 32 server 2 become leader
------------------------------------------------------
term 32 server 2 get outdate rpc reply from server 0
flag 21408 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 14696 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 186->185
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 87326 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 30 rf.commitIndex 179 rf.lastApplied 179
flag 88080 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 65928 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 35143 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 93707 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40390 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 6988 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 31447 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 33630 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 9712 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 42677 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 28701 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 47856 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74520 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 61703 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 63594 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 65810 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 92311 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 46308 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 48615 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 96813 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 36714 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 15795 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 38356 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 2068 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 5882 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 49016 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 36305 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 2359 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
flag 78526 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 18609 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 93543 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 89021 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 5683 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 27017 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
flag 20239 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 71821 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185}]
------------------------------------------------------
client write log 3869065381850043241 (index 186) to leader 2
flag 90068 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
flag 87161 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 30 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 5034 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 13238 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 2404 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 72665 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 77863 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 14157 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 60248 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 97978 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 85010 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 63858 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
flag 67435 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 13266 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 82052 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 21090 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 69863 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 39632 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 68981 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 55436 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 71939 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 55973 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 1
term 33 server 0 become leader
------------------------------------------------------
flag 12590 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 84774 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186}]
------------------------------------------------------
client write log 7881057256280486898 (index 187) to leader 0
flag 94918 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 9461 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 92388 term 33 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 84279 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186} {7881057256280486898 33 187}]
------------------------------------------------------
flag 14284 term 32 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 75754 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 79997 term 33 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 72001 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186} {7881057256280486898 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 187->186
------------------------------------------------------
client write log 1823739253292341275 (index 188) to leader 0
client write log 6966131643836126138 (index 189) to leader 0
client write log 2887390471866330868 (index 190) to leader 0
client write log 3117189832925971359 (index 191) to leader 0
client write log 4942312747688267557 (index 192) to leader 0
client write log 5269987445789716679 (index 193) to leader 0
client write log 1190705154096078786 (index 194) to leader 0
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 186
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 1326 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 63990 term 33 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 61446 term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 179} {7215521072319298342 30 180} {8959945304484578150 30 181} {9089454167385859353 30 182} {589168516499817067 30 183} {2248697483059938936 30 184} {3869065381850043241 30 185} {3869065381850043241 32 186} {7881057256280486898 33 187} {1823739253292341275 33 188} {6966131643836126138 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=194
-------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 0  matchIndex[0]: 186
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 30
------------------------------------------------------
flag 11705 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 92836 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=194
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2702478089308557478 (index 187) to leader 2
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 96689 term 32 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 186 
------------------------------------------------------
flag 87536 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 33 server 1 AppendEntries false 领导者任期过期 args.Term 32
term 33 server 0 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13666 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 187  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72271 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 79856 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 19919 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 3163 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87741 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 64284 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 8691 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 67127 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 195->194
------------------------------------------------------
flag 27914 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 194
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 194 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
flag 94431 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 52220 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 56652 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 50818 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71565 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 52533 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 0 get outdate rpc reply from server 2
flag 80815 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 54755 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 94813 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 1714 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83105 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 11200 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 195->194
------------------------------------------------------
flag 79662 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 194
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 194 args.LastIncludedIndex 189
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88135 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 33072 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 14186 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 66132 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 83392 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 1799 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 92110 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 49912 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 96439 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 7915 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
flag 6057 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 32014 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53056 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 54316 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194}]
------------------------------------------------------
client write log 2702478089308557478 (index 195) to leader 0
flag 67638 term 33 leader 0 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 41572 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
flag 49260 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 83629 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47102 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 89526 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
flag 96786 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 20559 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 196->195
------------------------------------------------------
flag 59823 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 195
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 195 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
flag 41986 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 95441 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
flag 96758 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 37011 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2147514687115320601 (index 196) to leader 0
flag 39966 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 88693 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195} {2147514687115320601 33 196}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9007 term 33 leader 0 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
flag 26709 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195} {2147514687115320601 33 196}]
------------------------------------------------------
client write log 7496857220816987452 (index 197) to leader 0
client write log 3777815238924626761 (index 198) to leader 0
client write log 2408366246052956347 (index 199) to leader 0
client write log 489968980321974957 (index 200) to leader 0
client write log 2890310970656642247 (index 201) to leader 0
client write log 6056799167989175691 (index 202) to leader 0
client write log 922350228692135379 (index 203) to leader 0
client write log 8931326256296662509 (index 204) to leader 0
client write log 7033533739502342501 (index 205) to leader 0
client write log 6360700524443330037 (index 206) to leader 0
client write log 7234068543670667015 (index 207) to leader 0
client write log 4851178145579953341 (index 208) to leader 0
client write log 5332580759194179446 (index 209) to leader 0
client write log 3427812615644329975 (index 210) to leader 0
client write log 4318634769032457121 (index 211) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 196->195
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 195
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 56631 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 33 leaderCommit: 196 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 33 189} {2887390471866330868 33 190} {3117189832925971359 33 191} {4942312747688267557 33 192} {5269987445789716679 33 193} {1190705154096078786 33 194} {2702478089308557478 33 195} {2147514687115320601 33 196} {7496857220816987452 33 197} {3777815238924626761 33 198} {2408366246052956347 33 199} {489968980321974957 33 200} {2890310970656642247 33 201} {6056799167989175691 33 202} {922350228692135379 33 203} {8931326256296662509 33 204} {7033533739502342501 33 205} {6360700524443330037 33 206} {7234068543670667015 33 207} {4851178145579953341 33 208} {5332580759194179446 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 195
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 71368 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=211
-------------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6826897287109605842 (index 212) to leader 0
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 195
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 43832 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 51317 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 56540 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 196  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 3319 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 8344 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 87519 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41791 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 89180 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 53176 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 58787 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73710 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 88807 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 73087 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 21482 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39836 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 40047 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 50549 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 56417 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 89815 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 8824 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 16747 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 86198 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 47853 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 21310 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 62724 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 27326 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33456 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 49692 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
flag 72213 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 54886 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 76444 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 45316 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25525 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 72123 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5266 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 84030 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
flag 35043 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 11270 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212}]
------------------------------------------------------
client write log 6826897287109605842 (index 213) to leader 0
flag 26338 term 35 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 44835 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 73487 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 42754 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 19401 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 7226 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 79220 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 95256 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 88095 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 16928 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 60811 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 90699 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
flag 9712 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 92343 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3025433265283764612 (index 214) to leader 0
flag 20427 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
flag 30860 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 213 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213} {3025433265283764612 35 214}]
------------------------------------------------------
flag 22291 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 19610 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213} {3025433265283764612 35 214}]
------------------------------------------------------
client write log 7874517809639444927 (index 215) to leader 0
client write log 451118755695398598 (index 216) to leader 0
client write log 4168310359850054892 (index 217) to leader 0
client write log 5730647081404757144 (index 218) to leader 0
client write log 4103334543482375374 (index 219) to leader 0
client write log 6162976316870321579 (index 220) to leader 0
client write log 6847918414256329298 (index 221) to leader 0
client write log 6197595105685801292 (index 222) to leader 0
client write log 7141647700603634976 (index 223) to leader 0
client write log 3766370799853160727 (index 224) to leader 0
flag 62778 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 4247 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 33 209} {3427812615644329975 33 210} {4318634769032457121 33 211} {6826897287109605842 33 212} {6826897287109605842 35 213} {3025433265283764612 35 214} {7874517809639444927 35 215} {451118755695398598 35 216} {4168310359850054892 35 217} {5730647081404757144 35 218} {4103334543482375374 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 56257 term 35 leader 0 nextIndex[2]: 225  matchIndex[2]: 224
term 35 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1493661975940799180 (index 225) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get outdate rpc reply from server 1
flag 72161 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 21659 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 81543 term 37 leader 0 nextIndex[2]: 225  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 77245 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 56282 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74991 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 4651 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
leader 0 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 13343 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 79590 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 98244 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 57891 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 32571 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 38573 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 56790 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 98695 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 79591 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 35002 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 98366 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 53434 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 81688 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 33130 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 40165 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 78299 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 90392 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 80223 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 69186 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 20238 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 91977 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 27260 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 18935 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 47269 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 83158 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 23561 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 32450 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 86683 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
flag 2835 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 1359 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=224
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225}]
------------------------------------------------------
client write log 1493661975940799180 (index 226) to leader 0
flag 84979 term 37 leader 0 nextIndex[1]: 226  matchIndex[1]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
flag 30346 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 224 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
flag 96680 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 8785 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
flag 25775 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 95759 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
flag 94090 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 35447 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
flag 32374 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 25021 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
flag 17039 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 94056 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18668 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 40984 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 84779 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 67712 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 16577 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 42083 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 56598 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 96012 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
client write log 6237070453433752906 (index 227) to leader 1
flag 64172 term 38 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 91794 term 38 leader 1 nextIndex[2]: 227  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226} {6237070453433752906 38 227}]
------------------------------------------------------
flag 18485 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 51573 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 15427 term 38 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 68364 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226} {6237070453433752906 38 227}]
------------------------------------------------------
client write log 281210426310043730 (index 228) to leader 1
client write log 4851896627086830817 (index 229) to leader 1
client write log 2336401019167271455 (index 230) to leader 1
client write log 6739267514093214950 (index 231) to leader 1
client write log 8625663549604468892 (index 232) to leader 1
client write log 7648170113015609778 (index 233) to leader 1
client write log 7133674761565228338 (index 234) to leader 1
client write log 7149464808564138407 (index 235) to leader 1
flag 56340 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 50611 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 84829 term 38 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 53201 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 35 219} {6162976316870321579 35 220} {6847918414256329298 35 221} {6197595105685801292 35 222} {7141647700603634976 35 223} {3766370799853160727 35 224} {1493661975940799180 35 225} {1493661975940799180 37 226} {6237070453433752906 38 227} {281210426310043730 38 228} {4851896627086830817 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
flag 21031 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
flag 3595 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 49362 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5384227460717602547 (index 236) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 226
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 73470 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 37 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 4807 term 38 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4136 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 16182 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64015 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 28128 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
flag 7912 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 19404 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
flag 65566 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 24488 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33997 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 10442 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
flag 31023 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 71932 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8133190710497826160 (index 237) to leader 1
flag 33883 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 44858 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236} {8133190710497826160 38 237}]
------------------------------------------------------
flag 89298 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 51023 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236} {8133190710497826160 38 237}]
------------------------------------------------------
client write log 7085753512884638445 (index 238) to leader 1
client write log 7273494159516885794 (index 239) to leader 1
client write log 3629049710143142305 (index 240) to leader 1
client write log 4824007356164929939 (index 241) to leader 1
client write log 1368942865353856202 (index 242) to leader 1
client write log 2727452943128509537 (index 243) to leader 1
client write log 6953711356924961055 (index 244) to leader 1
client write log 8291317844909498642 (index 245) to leader 1
client write log 553711698946586489 (index 246) to leader 1
client write log 4579469039303266523 (index 247) to leader 1
client write log 6528439389238480332 (index 248) to leader 1
client write log 8647786051907859624 (index 249) to leader 1
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 98639 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 59995 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 229} {2336401019167271455 38 230} {6739267514093214950 38 231} {8625663549604468892 38 232} {7648170113015609778 38 233} {7133674761565228338 38 234} {7149464808564138407 38 235} {5384227460717602547 38 236} {8133190710497826160 38 237} {7085753512884638445 38 238} {7273494159516885794 38 239} {3629049710143142305 38 240} {4824007356164929939 38 241} {1368942865353856202 38 242} {2727452943128509537 38 243} {6953711356924961055 38 244} {8291317844909498642 38 245} {553711698946586489 38 246} {4579469039303266523 38 247} {6528439389238480332 38 248} {8647786051907859624 38 249}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=249
-------------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 90589 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=249
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2704349017076303143 (index 250) to leader 1
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 84879 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 36089 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 251->250
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 251->250
------------------------------------------------------
flag 6471 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 72764 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 84278 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93779 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 43946 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 97402 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 62520 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99781 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 79505 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34960 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 33666 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 96427 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 41047 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 48432 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 43337 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 86724 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 30497 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 63739 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 75068 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34546 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 88034 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99999 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 29859 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 12125 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 93868 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 52138 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 54431 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 99858 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 59688 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 3713 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 15801 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
flag 67624 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 245 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80493 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 57493 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 38 249} {2704349017076303143 38 250}]
------------------------------------------------------
client write log 2704349017076303143 (index 251) to leader 1
flag 84211 term 40 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 11608 term 40 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 40 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
flag 56617 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 63584 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
flag 92342 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 67945 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
flag 95401 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 37102 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
flag 47600 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 3546 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
flag 6521 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 35199 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3639231443132773725 (index 252) to leader 1
flag 3798 term 40 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
flag 21300 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 251 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251} {3639231443132773725 40 252}]
------------------------------------------------------
flag 54798 term 40 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 40 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 252 
------------------------------------------------------
flag 13075 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251} {3639231443132773725 40 252}]
------------------------------------------------------
client write log 1524886483976549043 (index 253) to leader 1
client write log 9065019211428182585 (index 254) to leader 1
client write log 3323207539261533698 (index 255) to leader 1
client write log 3369612097871316787 (index 256) to leader 1
client write log 2225804833950484408 (index 257) to leader 1
client write log 5782032568250320120 (index 258) to leader 1
client write log 3056811354153673637 (index 259) to leader 1
client write log 8885552181294172278 (index 260) to leader 1
client write log 6384296065872349726 (index 261) to leader 1
client write log 1748645317203259964 (index 262) to leader 1
client write log 6246967700032686788 (index 263) to leader 1
client write log 9059287642828994324 (index 264) to leader 1
flag 30064 term 40 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 40 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 40 leaderCommit: 252 
------------------------------------------------------
flag 92023 term 40 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 40 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 40 leaderCommit: 252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 249} {2704349017076303143 38 250} {2704349017076303143 40 251} {3639231443132773725 40 252} {1524886483976549043 40 253} {9065019211428182585 40 254} {3323207539261533698 40 255} {3369612097871316787 40 256} {2225804833950484408 40 257} {5782032568250320120 40 258} {3056811354153673637 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264}]
------------------------------------------------------
term 40 Server1 start snapshot! index=259
term 40 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
flag 36293 term 40 leader 1 nextIndex[0]: 265  matchIndex[0]: 264
term 40 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 251
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264}]
------------------------------------------------------
term 40 Server0 start snapshot! index=259
term 40 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6435811900245957378 (index 265) to leader 1
term 40 server 1 not vote for server 2, 日志不够新
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 97324 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 665 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 266->265
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 266->265
------------------------------------------------------
flag 11712 term 42 leader 1 nextIndex[0]: 265  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 40 rf.commitIndex 259 rf.lastApplied 259
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 46624 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 14516 term 42 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 42 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87129 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 13187 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 35105 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 45509 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 46220 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 96169 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57686 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 89267 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 26318 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 47115 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 78179 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 56343 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 94655 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 27235 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67895 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 88234 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 29544 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 73982 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 31141 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 37773 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59558 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 42042 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 37917 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 84409 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 89643 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 38120 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35258 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 12503 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
flag 70258 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 62235 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
update nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 92702 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 61156 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6435811900245957378 (index 266) to leader 1
flag 26255 term 42 leader 1 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
flag 26833 term 42 leader 1 nextIndex[2]: 266  matchIndex[2]: 265
term 42 leader 1 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 40 leaderCommit: 264 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
flag 14991 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 44102 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89375 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 71189 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36941 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 22356 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6354 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 18530 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15311 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 56185 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
flag 15836 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 35585 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 18882 term 42 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 85604 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 267->266
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 48886 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 34271 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 28401 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 94319 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 29066 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266}]
------------------------------------------------------
client write log 801899928457299168 (index 267) to leader 0
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 45441 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 29030 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 24122 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 35062 term 42 leader 1 nextIndex[2]: 267  matchIndex[2]: 266
term 42 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 3624 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 65107 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=267
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267}]
------------------------------------------------------
client write log 4724724647181584652 (index 268) to leader 0
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 6772 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 87218 term 43 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 43 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 65703 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 80413 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6319311600949821 (index 267) to leader 1
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 266
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67364 term 43 leader 0 nextIndex[1]: 267  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 268 
------------------------------------------------------
flag 25056 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 78303 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 1070 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 87154 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 72096 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78375 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 36547 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88718 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 62464 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62957 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 52130 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 86988 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 268 args.LastIncludedIndex 259
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 63521 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 268 
------------------------------------------------------
flag 5138 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94829 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 15618 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 日志不够新
term 43 server 0 get outdate rpc reply from server 1
flag 89697 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 18795 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 94529 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 35203 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 74529 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 79466 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 55640 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 45589 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 57889 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 88772 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 96296 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 89648 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 90202 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 5916 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33529 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 11449 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
flag 14368 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 71426 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 40
------------------------------------------------------
flag 19417 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 268 args.LastIncludedIndex 259
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 21800 term 43 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 40 leaderCommit: 268 
------------------------------------------------------
flag 81879 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268}]
------------------------------------------------------
client write log 6319311600949821 (index 269) to leader 0
flag 10207 term 43 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 15731 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 43 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
update nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268} {6319311600949821 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 40 259} {8885552181294172278 40 260} {6384296065872349726 40 261} {1748645317203259964 40 262} {6246967700032686788 40 263} {9059287642828994324 40 264} {6435811900245957378 40 265} {6435811900245957378 42 266} {801899928457299168 43 267} {4724724647181584652 43 268} {6319311600949821 43 269}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 75397 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 86709 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91440 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 888 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
flag 91292 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 55059 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
flag 81110 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 68291 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
flag 7310 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 64657 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
flag 11285 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 14385 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 269}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5625123930397958445 (index 270) to leader 0
flag 8441 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
flag 43187 term 43 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 269 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5625123930397958445 43 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 1308 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5625123930397958445 43 270}]
------------------------------------------------------
client write log 8550555536645321652 (index 271) to leader 0
client write log 1801831616918175116 (index 272) to leader 0
client write log 2617517396547520429 (index 273) to leader 0
client write log 7703967737468678514 (index 274) to leader 0
client write log 5352015493197375690 (index 275) to leader 0
client write log 1102116620439437003 (index 276) to leader 0
client write log 1214272305158544972 (index 277) to leader 0
client write log 4626036575236307164 (index 278) to leader 0
client write log 7181392295575839292 (index 279) to leader 0
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 76465 term 43 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {5625123930397958445 43 270} {8550555536645321652 43 271} {1801831616918175116 43 272} {2617517396547520429 43 273} {7703967737468678514 43 274} {5352015493197375690 43 275} {1102116620439437003 43 276} {1214272305158544972 43 277} {4626036575236307164 43 278} {7181392295575839292 43 279}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 15296 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7364270793233940519 (index 280) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 67566 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 49825 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 281->280
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 281->280
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 43691 term 45 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
flag 79752 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 47365 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 4375 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 86633 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 2611 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 3182 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 61257 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 29054 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 10020 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 63591 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 28364 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 78745 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45129 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 39249 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4824 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 2676 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 86059 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 79271 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 54539 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 87653 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 64104 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 19345 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 16760 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 26081 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 33580 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 14095 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 76983 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 79671 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59018 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 12166 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 68994 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 80170 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
flag 45301 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 59010 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43383 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 60253 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=279
leader log:
[{snapshot 43 279} {7364270793233940519 43 280}]
------------------------------------------------------
client write log 7364270793233940519 (index 281) to leader 0
flag 84716 term 45 leader 0 nextIndex[1]: 281  matchIndex[1]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 12800 term 45 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 45 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
flag 87622 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 3547 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79533 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 2535 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22970 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 43431 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37604 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 22009 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
flag 93875 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 58281 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2796958210670121394 (index 282) to leader 0
flag 12010 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 61506 term 45 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281} {2796958210670121394 45 282}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85779 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 69609 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281} {2796958210670121394 45 282}]
------------------------------------------------------
client write log 902625797497276853 (index 283) to leader 0
client write log 1296318283916634670 (index 284) to leader 0
client write log 1978899982517744790 (index 285) to leader 0
client write log 5728757131393809259 (index 286) to leader 0
client write log 8846307651314006749 (index 287) to leader 0
client write log 6492974797553140538 (index 288) to leader 0
client write log 7726611129014097175 (index 289) to leader 0
client write log 1270076572620195736 (index 290) to leader 0
client write log 4965381488913845607 (index 291) to leader 0
flag 68807 term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 95638 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 279} {7364270793233940519 43 280} {7364270793233940519 45 281} {2796958210670121394 45 282} {902625797497276853 45 283} {1296318283916634670 45 284} {1978899982517744790 45 285} {5728757131393809259 45 286} {8846307651314006749 45 287} {6492974797553140538 45 288} {7726611129014097175 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291}]
------------------------------------------------------
term 45 Server0 start snapshot! index=289
term 45 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 24628 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291}]
------------------------------------------------------
term 45 Server2 start snapshot! index=289
term 45 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6707080113022787084 (index 292) to leader 0
term 45 server 2 not vote for server 1, 日志不够新
term 45 server 0 not vote for server 1, 日志不够新
term 47 server 2 vote for server 0
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 1
flag 99700 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 7208 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 293->292
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 293->292
------------------------------------------------------
term 47 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 282  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 2352 term 47 leader 0 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 45 rf.commitIndex 289 rf.lastApplied 289
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 35087 term 47 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 25749 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 45929 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 32749 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 23120 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 67034 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 33450 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 48863 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 94312 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 11048 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 73182 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 62341 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 19134 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 23516 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 32562 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 80672 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 73171 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 58835 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 81149 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 46970 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 38503 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 54568 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 64914 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 49156 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 72661 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 88129 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 8187 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 80347 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 76739 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 1241 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
flag 92243 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 15144 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43291 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 61088 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=291
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292}]
------------------------------------------------------
client write log 6707080113022787084 (index 293) to leader 0
flag 69013 term 47 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
flag 21326 term 47 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 47 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 291 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
flag 78233 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 69069 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
flag 68889 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 48202 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
flag 5261 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 23457 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
flag 8611 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 68193 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
flag 15386 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 60007 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 83264 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 54702 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 33194 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 56296 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 3861 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 36947 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
flag 93380 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 64198 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 83189 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 37185 term 48 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293}]
------------------------------------------------------
client write log 3838783827254083957 (index 294) to leader 1
flag 95551 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 74827 term 48 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
flag 51019 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 55111 term 47 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293} {3838783827254083957 48 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13997 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 293
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 28919 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 95 term 48 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 48 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293} {3838783827254083957 48 294}]
------------------------------------------------------
client write log 8829024353236550436 (index 295) to leader 1
client write log 7022970997943785304 (index 296) to leader 1
client write log 4995302698164374040 (index 297) to leader 1
client write log 4210444528430513525 (index 298) to leader 1
client write log 2335882352189376073 (index 299) to leader 1
client write log 5180183098646300192 (index 300) to leader 1
client write log 1996002854786234658 (index 301) to leader 1
client write log 7716347538563728670 (index 302) to leader 1
flag 6009 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 293
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
flag 50249 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 71577 term 48 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 48 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 45 289} {1270076572620195736 45 290} {4965381488913845607 45 291} {6707080113022787084 45 292} {6707080113022787084 47 293} {3838783827254083957 48 294} {8829024353236550436 48 295} {7022970997943785304 48 296} {4995302698164374040 48 297} {4210444528430513525 48 298} {2335882352189376073 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 52136 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 33690 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 293
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2565772847070791929 (index 303) to leader 1
term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 59716 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 11883 term 47 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 47 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 293
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 45
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
term 48 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26456 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 80096 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 304->303
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 303
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 3942 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 299 args.LastIncludedIndex 299
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18990 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 74491 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 304->303
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 303
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 58869 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
rf.commitIndex 303 args.LastIncludedIndex 299
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
flag 79937 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 63928 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
flag 76613 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 19301 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43155 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 80660 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6423212585842789527 (index 304) to leader 1
flag 78978 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 7823 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303} {6423212585842789527 48 304}]
------------------------------------------------------
flag 41696 term 48 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 58382 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303} {6423212585842789527 48 304}]
------------------------------------------------------
client write log 2724562273261547436 (index 305) to leader 1
client write log 8117315545992963982 (index 306) to leader 1
client write log 192775126247129116 (index 307) to leader 1
client write log 8333309975330197885 (index 308) to leader 1
client write log 3911796295436294937 (index 309) to leader 1
client write log 8326984713909956388 (index 310) to leader 1
client write log 5251869158608536334 (index 311) to leader 1
client write log 8120194998839419219 (index 312) to leader 1
client write log 1430000014651694282 (index 313) to leader 1
client write log 1162473549550852700 (index 314) to leader 1
flag 56984 term 48 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 98403 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 299} {5180183098646300192 48 300} {1996002854786234658 48 301} {7716347538563728670 48 302} {2565772847070791929 48 303} {6423212585842789527 48 304} {2724562273261547436 48 305} {8117315545992963982 48 306} {192775126247129116 48 307} {8333309975330197885 48 308} {3911796295436294937 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
flag 90077 term 48 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 48 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314}]
------------------------------------------------------
term 48 Server0 start snapshot! index=309
term 48 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8902632251281063195 (index 315) to leader 1
term 48 server 1 not vote for server 2, 日志不够新
term 48 server 0 not vote for server 2, 日志不够新
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get outdate rpc reply from server 0
flag 31220 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 144 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 316->315
------------------------------------------------------
flag 23145 term 50 leader 1 nextIndex[0]: 315  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94873 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 90017 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 98093 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 17827 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 5132 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 26449 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42774 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 25710 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40093 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 10790 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30766 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 69829 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 85778 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 74525 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 51959 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 84729 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82343 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 39996 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 47877 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 63337 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 20134 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 71793 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60710 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 72237 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 27908 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 54290 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 32625 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 59636 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69973 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 82481 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 1305 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 98642 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84301 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 52901 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
flag 18565 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 24272 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315}]
------------------------------------------------------
client write log 8902632251281063195 (index 316) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68288 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 96428 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68899 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 27944 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
flag 2935 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 66067 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
flag 99683 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 59853 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
flag 53203 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 86841 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97535 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 34683 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1430364785585657106 (index 317) to leader 1
flag 34353 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 37964 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316} {1430364785585657106 50 317}]
------------------------------------------------------
flag 74119 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 12744 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316} {1430364785585657106 50 317}]
------------------------------------------------------
client write log 3004645327478027322 (index 318) to leader 1
client write log 5196090675577702643 (index 319) to leader 1
client write log 3320611203255822136 (index 320) to leader 1
client write log 1514876720689527226 (index 321) to leader 1
client write log 4062436082171615168 (index 322) to leader 1
client write log 8861119687172318508 (index 323) to leader 1
client write log 3360810763686665159 (index 324) to leader 1
client write log 601301940773550159 (index 325) to leader 1
client write log 6237673751380867588 (index 326) to leader 1
client write log 1856192569260382907 (index 327) to leader 1
client write log 3902555253276350735 (index 328) to leader 1
client write log 7485791877968922330 (index 329) to leader 1
flag 72519 term 50 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 50 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
flag 93423 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 48 309} {8326984713909956388 48 310} {5251869158608536334 48 311} {8120194998839419219 48 312} {1430000014651694282 48 313} {1162473549550852700 48 314} {8902632251281063195 48 315} {8902632251281063195 50 316} {1430364785585657106 50 317} {3004645327478027322 50 318} {5196090675577702643 50 319} {3320611203255822136 50 320} {1514876720689527226 50 321} {4062436082171615168 50 322} {8861119687172318508 50 323} {3360810763686665159 50 324} {601301940773550159 50 325} {6237673751380867588 50 326} {1856192569260382907 50 327} {3902555253276350735 50 328} {7485791877968922330 50 329}]
------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=329
-------------------------------------------------------------
term 50 Server1 start snapshot! index=329
term 50 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
flag 38364 term 50 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 50 329}]
------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=329
-------------------------------------------------------------
term 50 Server0 start snapshot! index=329
term 50 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4345753680168134338 (index 330) to leader 1
flag 39941 term 50 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 27971 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 12753 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 331->330
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 94987 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 317  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 50 rf.commitIndex 329 rf.lastApplied 329
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54836 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 53246 term 52 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 89313 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 73497 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 44075 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 7851 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94743 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 32765 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 0 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95672 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 73122 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 41078 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 52970 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 74528 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 7844 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81382 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 18061 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 88885 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 12607 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59639 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 87873 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 12399 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 21050 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 21984 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 5745 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 44505 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 27932 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 70120 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 95035 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 75076 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 19582 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
flag 5101 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 88480 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=331
update matchIndex[0]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=329
leader log:
[{snapshot 50 329} {4345753680168134338 50 330}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4345753680168134338 (index 331) to leader 1
flag 75187 term 52 leader 1 nextIndex[0]: 331  matchIndex[0]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
flag 95288 term 52 leader 1 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 1 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 50 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 31395 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 39584 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 56531 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 8645 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 18590 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 63827 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 98714 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 32527 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 87867 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 14873 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 73713 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 62958 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26477 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 28802 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 65152 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 69605 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 53374 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 58746 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
flag 86324 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 92181 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331}]
------------------------------------------------------
flag 57230 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 61360 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
client write log 1629629529884726122 (index 332) to leader 0
flag 87465 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 9041 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332}]
------------------------------------------------------
flag 21274 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 28521 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 90336 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 332 
------------------------------------------------------
flag 41241 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332}]
------------------------------------------------------
client write log 616986238145500056 (index 333) to leader 0
flag 29201 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 63467 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 52038 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 332 
------------------------------------------------------
flag 41902 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 13757 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 4162 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 12771 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 42361 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 24296 term 52 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 24170 term 52 leader 1 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
!!!!!!connect server 1
client write log 7062342077196559071 (index 332) to leader 1
flag 20487 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 41731 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 46942 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 90654 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 12317 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 45963 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 334->333
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 333
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 2271 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 333 args.LastIncludedIndex 329
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21667 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
flag 88535 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
flag 81750 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 64458 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 68601 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 24269 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68433 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 57987 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 30884 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 38977 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 33060 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 3841 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 9990 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 27732 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15083 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 40575 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 334->333
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 333
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 24132 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 333 args.LastIncludedIndex 329
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 43051 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 333 
------------------------------------------------------
flag 5766 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 89451 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 58446 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88897 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 39282 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 58628 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 82473 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 61060 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 66694 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 6855 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 3490 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
flag 27337 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 75334 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333}]
------------------------------------------------------
client write log 7062342077196559071 (index 334) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19876 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 27382 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
flag 67709 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 18855 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12074 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 98905 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42271 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 50133 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 日志不够新
term 53 server 0 get outdate rpc reply from server 1
flag 55336 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 81677 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
flag 6952 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 82815 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6122171288316989650 (index 335) to leader 0
flag 77250 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
flag 25666 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 53 leaderCommit: 334 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334} {6122171288316989650 53 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 335->334
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 5099 term 53 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 53 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 53 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334} {6122171288316989650 53 335}]
------------------------------------------------------
client write log 5988476784866864116 (index 336) to leader 0
client write log 2280834819557967878 (index 337) to leader 0
client write log 3765705278941987739 (index 338) to leader 0
client write log 5467599217276600755 (index 339) to leader 0
client write log 2095922524460252215 (index 340) to leader 0
client write log 4872167615710694358 (index 341) to leader 0
client write log 3641925512172455998 (index 342) to leader 0
client write log 4921757365079423436 (index 343) to leader 0
client write log 8679285722973635234 (index 344) to leader 0
client write log 3358993646552289288 (index 345) to leader 0
client write log 3676698805852296184 (index 346) to leader 0
client write log 2289664492182930093 (index 347) to leader 0
client write log 6589333181751601248 (index 348) to leader 0
client write log 7812847436427045199 (index 349) to leader 0
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 91046 term 53 leader 0 nextIndex[2]: 336  matchIndex[2]: 335
term 53 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 53 leaderCommit: 335 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 50 329} {4345753680168134338 50 330} {4345753680168134338 52 331} {1629629529884726122 53 332} {616986238145500056 53 333} {7062342077196559071 53 334} {6122171288316989650 53 335} {5988476784866864116 53 336} {2280834819557967878 53 337} {3765705278941987739 53 338} {5467599217276600755 53 339} {2095922524460252215 53 340} {4872167615710694358 53 341} {3641925512172455998 53 342} {4921757365079423436 53 343} {8679285722973635234 53 344} {3358993646552289288 53 345} {3676698805852296184 53 346} {2289664492182930093 53 347} {6589333181751601248 53 348} {7812847436427045199 53 349}]
------------------------------------------------------
term 53 Server0 start snapshot! index=339
term 53 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=349
-------------------------------------------------------------
term 53 Server0 start snapshot! index=349
term 53 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 11138 term 53 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 53 349}]
------------------------------------------------------
term 53 Server2 start snapshot! index=339
term 53 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=349
-------------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3512385558018508719 (index 350) to leader 0
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 334
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 99096 term 53 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 349 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 1 vote for server 0
term 55 server 0 get vote from server 1
term 55 server 0 become leader
------------------------------------------------------
term 55 server 0 get outdate rpc reply from server 2
flag 71228 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 13626 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 351->350
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 82623 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 94137 term 55 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 55 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 1488 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 79464 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 91951 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 20873 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 33725 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 60239 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 7405 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 3799 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 29747 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82681 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 75382 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
flag 27221 term 55 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
flag 83687 term 55 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 55 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 53 leaderCommit: 350 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 53 349} {3512385558018508719 53 350}]
------------------------------------------------------
  ... Passed --  85.9  3 1943  879931  350
--- PASS: TestSnapshotInstall2D (85.89s)
PASS
